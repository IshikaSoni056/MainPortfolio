(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=e(s);fetch(s.href,r)}})();function r0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var $S={exports:{}},Bm={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GA;function zz(){if(GA)return Bm;GA=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,s,r){var l=null;if(r!==void 0&&(l=""+r),s.key!==void 0&&(l=""+s.key),"key"in s){r={};for(var u in s)u!=="key"&&(r[u]=s[u])}else r=s;return s=r.ref,{$$typeof:n,type:i,key:l,ref:s!==void 0?s:null,props:r}}return Bm.Fragment=t,Bm.jsx=e,Bm.jsxs=e,Bm}var kA;function Bz(){return kA||(kA=1,$S.exports=zz()),$S.exports}var nt=Bz(),JS={exports:{}},$e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jA;function Vz(){if(jA)return $e;jA=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function x(j){return j===null||typeof j!="object"?null:(j=v&&j[v]||j["@@iterator"],typeof j=="function"?j:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,C={};function E(j,at,At){this.props=j,this.context=at,this.refs=C,this.updater=At||_}E.prototype.isReactComponent={},E.prototype.setState=function(j,at){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,at,"setState")},E.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function M(){}M.prototype=E.prototype;function R(j,at,At){this.props=j,this.context=at,this.refs=C,this.updater=At||_}var D=R.prototype=new M;D.constructor=R,T(D,E.prototype),D.isPureReactComponent=!0;var L=Array.isArray,z={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function I(j,at,At,zt,st,Et){return At=Et.ref,{$$typeof:n,type:j,key:at,ref:At!==void 0?At:null,props:Et}}function V(j,at){return I(j.type,at,void 0,void 0,void 0,j.props)}function U(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function P(j){var at={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(At){return at[At]})}var X=/\/+/g;function pt(j,at){return typeof j=="object"&&j!==null&&j.key!=null?P(""+j.key):at.toString(36)}function it(){}function K(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(it,it):(j.status="pending",j.then(function(at){j.status==="pending"&&(j.status="fulfilled",j.value=at)},function(at){j.status==="pending"&&(j.status="rejected",j.reason=at)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function lt(j,at,At,zt,st){var Et=typeof j;(Et==="undefined"||Et==="boolean")&&(j=null);var Ut=!1;if(j===null)Ut=!0;else switch(Et){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(j.$$typeof){case n:case t:Ut=!0;break;case m:return Ut=j._init,lt(Ut(j._payload),at,At,zt,st)}}if(Ut)return st=st(j),Ut=zt===""?"."+pt(j,0):zt,L(st)?(At="",Ut!=null&&(At=Ut.replace(X,"$&/")+"/"),lt(st,at,At,"",function(ye){return ye})):st!=null&&(U(st)&&(st=V(st,At+(st.key==null||j&&j.key===st.key?"":(""+st.key).replace(X,"$&/")+"/")+Ut)),at.push(st)),1;Ut=0;var It=zt===""?".":zt+":";if(L(j))for(var kt=0;kt<j.length;kt++)zt=j[kt],Et=It+pt(zt,kt),Ut+=lt(zt,at,At,Et,st);else if(kt=x(j),typeof kt=="function")for(j=kt.call(j),kt=0;!(zt=j.next()).done;)zt=zt.value,Et=It+pt(zt,kt++),Ut+=lt(zt,at,At,Et,st);else if(Et==="object"){if(typeof j.then=="function")return lt(K(j),at,At,zt,st);throw at=String(j),Error("Objects are not valid as a React child (found: "+(at==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":at)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function J(j,at,At){if(j==null)return j;var zt=[],st=0;return lt(j,zt,"","",function(Et){return at.call(At,Et,st++)}),zt}function tt(j){if(j._status===-1){var at=j._result;at=at(),at.then(function(At){(j._status===0||j._status===-1)&&(j._status=1,j._result=At)},function(At){(j._status===0||j._status===-1)&&(j._status=2,j._result=At)}),j._status===-1&&(j._status=0,j._result=at)}if(j._status===1)return j._result.default;throw j._result}var Q=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var at=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(at))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function _t(){}return $e.Children={map:J,forEach:function(j,at,At){J(j,function(){at.apply(this,arguments)},At)},count:function(j){var at=0;return J(j,function(){at++}),at},toArray:function(j){return J(j,function(at){return at})||[]},only:function(j){if(!U(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},$e.Component=E,$e.Fragment=e,$e.Profiler=s,$e.PureComponent=R,$e.StrictMode=i,$e.Suspense=h,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,$e.act=function(){throw Error("act(...) is not supported in production builds of React.")},$e.cache=function(j){return function(){return j.apply(null,arguments)}},$e.cloneElement=function(j,at,At){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var zt=T({},j.props),st=j.key,Et=void 0;if(at!=null)for(Ut in at.ref!==void 0&&(Et=void 0),at.key!==void 0&&(st=""+at.key),at)!B.call(at,Ut)||Ut==="key"||Ut==="__self"||Ut==="__source"||Ut==="ref"&&at.ref===void 0||(zt[Ut]=at[Ut]);var Ut=arguments.length-2;if(Ut===1)zt.children=At;else if(1<Ut){for(var It=Array(Ut),kt=0;kt<Ut;kt++)It[kt]=arguments[kt+2];zt.children=It}return I(j.type,st,void 0,void 0,Et,zt)},$e.createContext=function(j){return j={$$typeof:l,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:r,_context:j},j},$e.createElement=function(j,at,At){var zt,st={},Et=null;if(at!=null)for(zt in at.key!==void 0&&(Et=""+at.key),at)B.call(at,zt)&&zt!=="key"&&zt!=="__self"&&zt!=="__source"&&(st[zt]=at[zt]);var Ut=arguments.length-2;if(Ut===1)st.children=At;else if(1<Ut){for(var It=Array(Ut),kt=0;kt<Ut;kt++)It[kt]=arguments[kt+2];st.children=It}if(j&&j.defaultProps)for(zt in Ut=j.defaultProps,Ut)st[zt]===void 0&&(st[zt]=Ut[zt]);return I(j,Et,void 0,void 0,null,st)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(j){return{$$typeof:u,render:j}},$e.isValidElement=U,$e.lazy=function(j){return{$$typeof:m,_payload:{_status:-1,_result:j},_init:tt}},$e.memo=function(j,at){return{$$typeof:p,type:j,compare:at===void 0?null:at}},$e.startTransition=function(j){var at=z.T,At={};z.T=At;try{var zt=j(),st=z.S;st!==null&&st(At,zt),typeof zt=="object"&&zt!==null&&typeof zt.then=="function"&&zt.then(_t,Q)}catch(Et){Q(Et)}finally{z.T=at}},$e.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},$e.use=function(j){return z.H.use(j)},$e.useActionState=function(j,at,At){return z.H.useActionState(j,at,At)},$e.useCallback=function(j,at){return z.H.useCallback(j,at)},$e.useContext=function(j){return z.H.useContext(j)},$e.useDebugValue=function(){},$e.useDeferredValue=function(j,at){return z.H.useDeferredValue(j,at)},$e.useEffect=function(j,at){return z.H.useEffect(j,at)},$e.useId=function(){return z.H.useId()},$e.useImperativeHandle=function(j,at,At){return z.H.useImperativeHandle(j,at,At)},$e.useInsertionEffect=function(j,at){return z.H.useInsertionEffect(j,at)},$e.useLayoutEffect=function(j,at){return z.H.useLayoutEffect(j,at)},$e.useMemo=function(j,at){return z.H.useMemo(j,at)},$e.useOptimistic=function(j,at){return z.H.useOptimistic(j,at)},$e.useReducer=function(j,at,At){return z.H.useReducer(j,at,At)},$e.useRef=function(j){return z.H.useRef(j)},$e.useState=function(j){return z.H.useState(j)},$e.useSyncExternalStore=function(j,at,At){return z.H.useSyncExternalStore(j,at,At)},$e.useTransition=function(){return z.H.useTransition()},$e.version="19.0.0",$e}var XA;function up(){return XA||(XA=1,JS.exports=Vz()),JS.exports}var Z=up();const zb=r0(Z);var t1={exports:{}},Vm={},e1={exports:{}},n1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qA;function Iz(){return qA||(qA=1,function(n){function t(J,tt){var Q=J.length;J.push(tt);t:for(;0<Q;){var _t=Q-1>>>1,j=J[_t];if(0<s(j,tt))J[_t]=tt,J[Q]=j,Q=_t;else break t}}function e(J){return J.length===0?null:J[0]}function i(J){if(J.length===0)return null;var tt=J[0],Q=J.pop();if(Q!==tt){J[0]=Q;t:for(var _t=0,j=J.length,at=j>>>1;_t<at;){var At=2*(_t+1)-1,zt=J[At],st=At+1,Et=J[st];if(0>s(zt,Q))st<j&&0>s(Et,zt)?(J[_t]=Et,J[st]=Q,_t=st):(J[_t]=zt,J[At]=Q,_t=At);else if(st<j&&0>s(Et,Q))J[_t]=Et,J[st]=Q,_t=st;else break t}}return tt}function s(J,tt){var Q=J.sortIndex-tt.sortIndex;return Q!==0?Q:J.id-tt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],p=[],m=1,v=null,x=3,_=!1,T=!1,C=!1,E=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function D(J){for(var tt=e(p);tt!==null;){if(tt.callback===null)i(p);else if(tt.startTime<=J)i(p),tt.sortIndex=tt.expirationTime,t(h,tt);else break;tt=e(p)}}function L(J){if(C=!1,D(J),!T)if(e(h)!==null)T=!0,K();else{var tt=e(p);tt!==null&&lt(L,tt.startTime-J)}}var z=!1,B=-1,I=5,V=-1;function U(){return!(n.unstable_now()-V<I)}function P(){if(z){var J=n.unstable_now();V=J;var tt=!0;try{t:{T=!1,C&&(C=!1,M(B),B=-1),_=!0;var Q=x;try{e:{for(D(J),v=e(h);v!==null&&!(v.expirationTime>J&&U());){var _t=v.callback;if(typeof _t=="function"){v.callback=null,x=v.priorityLevel;var j=_t(v.expirationTime<=J);if(J=n.unstable_now(),typeof j=="function"){v.callback=j,D(J),tt=!0;break e}v===e(h)&&i(h),D(J)}else i(h);v=e(h)}if(v!==null)tt=!0;else{var at=e(p);at!==null&&lt(L,at.startTime-J),tt=!1}}break t}finally{v=null,x=Q,_=!1}tt=void 0}}finally{tt?X():z=!1}}}var X;if(typeof R=="function")X=function(){R(P)};else if(typeof MessageChannel<"u"){var pt=new MessageChannel,it=pt.port2;pt.port1.onmessage=P,X=function(){it.postMessage(null)}}else X=function(){E(P,0)};function K(){z||(z=!0,X())}function lt(J,tt){B=E(function(){J(n.unstable_now())},tt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(J){J.callback=null},n.unstable_continueExecution=function(){T||_||(T=!0,K())},n.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<J?Math.floor(1e3/J):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return e(h)},n.unstable_next=function(J){switch(x){case 1:case 2:case 3:var tt=3;break;default:tt=x}var Q=x;x=tt;try{return J()}finally{x=Q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(J,tt){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var Q=x;x=J;try{return tt()}finally{x=Q}},n.unstable_scheduleCallback=function(J,tt,Q){var _t=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?_t+Q:_t):Q=_t,J){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=Q+j,J={id:m++,callback:tt,priorityLevel:J,startTime:Q,expirationTime:j,sortIndex:-1},Q>_t?(J.sortIndex=Q,t(p,J),e(h)===null&&J===e(p)&&(C?(M(B),B=-1):C=!0,lt(L,Q-_t))):(J.sortIndex=j,t(h,J),T||_||(T=!0,K())),J},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(J){var tt=x;return function(){var Q=x;x=tt;try{return J.apply(this,arguments)}finally{x=Q}}}}(n1)),n1}var YA;function ZM(){return YA||(YA=1,e1.exports=Iz()),e1.exports}var i1={exports:{}},Hs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WA;function Fz(){if(WA)return Hs;WA=1;var n=up();function t(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function r(h,p,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:h,containerInfo:p,implementation:m}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Hs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Hs.createPortal=function(h,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return r(h,p,null,m)},Hs.flushSync=function(h){var p=l.T,m=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=p,i.p=m,i.d.f()}},Hs.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(h,p))},Hs.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Hs.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var m=p.as,v=u(m,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,_=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?i.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:_}):m==="script"&&i.d.X(h,{crossOrigin:v,integrity:x,fetchPriority:_,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Hs.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=u(p.as,p.crossOrigin);i.d.M(h,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(h)},Hs.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,v=u(m,p.crossOrigin);i.d.L(h,m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Hs.preloadModule=function(h,p){if(typeof h=="string")if(p){var m=u(p.as,p.crossOrigin);i.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(h)},Hs.requestFormReset=function(h){i.d.r(h)},Hs.unstable_batchedUpdates=function(h,p){return h(p)},Hs.useFormState=function(h,p,m){return l.H.useFormState(h,p,m)},Hs.useFormStatus=function(){return l.H.useHostTransitionStatus()},Hs.version="19.0.0",Hs}var ZA;function Hz(){if(ZA)return i1.exports;ZA=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),i1.exports=Fz(),i1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KA;function Gz(){if(KA)return Vm;KA=1;var n=ZM(),t=up(),e=Hz();function i(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}var r=Symbol.for("react.element"),l=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),_=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),D=Symbol.for("react.offscreen"),L=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function B(a){return a===null||typeof a!="object"?null:(a=z&&a[z]||a["@@iterator"],typeof a=="function"?a:null)}var I=Symbol.for("react.client.reference");function V(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===I?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case h:return"Fragment";case u:return"Portal";case m:return"Profiler";case p:return"StrictMode";case C:return"Suspense";case E:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case _:return(a.displayName||"Context")+".Provider";case x:return(a._context.displayName||"Context")+".Consumer";case T:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case M:return o=a.displayName||null,o!==null?o:V(a.type)||"Memo";case R:o=a._payload,a=a._init;try{return V(a(o))}catch{}}return null}var U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=Object.assign,X,pt;function it(a){if(X===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);X=o&&o[1]||"",pt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+X+a+pt}var K=!1;function lt(a,o){if(!a||K)return"";K=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(o){var jt=function(){throw Error()};if(Object.defineProperty(jt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(jt,[])}catch(Ct){var bt=Ct}Reflect.construct(a,[],jt)}else{try{jt.call()}catch(Ct){bt=Ct}a.call(jt.prototype)}}else{try{throw Error()}catch(Ct){bt=Ct}(jt=a())&&typeof jt.catch=="function"&&jt.catch(function(){})}}catch(Ct){if(Ct&&bt&&typeof Ct.stack=="string")return[Ct.stack,bt.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=g.DetermineComponentFrameRoot(),O=A[0],G=A[1];if(O&&G){var $=O.split(`
`),ut=G.split(`
`);for(S=g=0;g<$.length&&!$[g].includes("DetermineComponentFrameRoot");)g++;for(;S<ut.length&&!ut[S].includes("DetermineComponentFrameRoot");)S++;if(g===$.length||S===ut.length)for(g=$.length-1,S=ut.length-1;1<=g&&0<=S&&$[g]!==ut[S];)S--;for(;1<=g&&0<=S;g--,S--)if($[g]!==ut[S]){if(g!==1||S!==1)do if(g--,S--,0>S||$[g]!==ut[S]){var Lt=`
`+$[g].replace(" at new "," at ");return a.displayName&&Lt.includes("<anonymous>")&&(Lt=Lt.replace("<anonymous>",a.displayName)),Lt}while(1<=g&&0<=S);break}}}finally{K=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?it(d):""}function J(a){switch(a.tag){case 26:case 27:case 5:return it(a.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return a=lt(a.type,!1),a;case 11:return a=lt(a.type.render,!1),a;case 1:return a=lt(a.type,!0),a;default:return""}}function tt(a){try{var o="";do o+=J(a),a=a.return;while(a);return o}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function Q(a){var o=a,d=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,o.flags&4098&&(d=o.return),a=o.return;while(a)}return o.tag===3?d:null}function _t(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function j(a){if(Q(a)!==a)throw Error(i(188))}function at(a){var o=a.alternate;if(!o){if(o=Q(a),o===null)throw Error(i(188));return o!==a?null:a}for(var d=a,g=o;;){var S=d.return;if(S===null)break;var A=S.alternate;if(A===null){if(g=S.return,g!==null){d=g;continue}break}if(S.child===A.child){for(A=S.child;A;){if(A===d)return j(S),a;if(A===g)return j(S),o;A=A.sibling}throw Error(i(188))}if(d.return!==g.return)d=S,g=A;else{for(var O=!1,G=S.child;G;){if(G===d){O=!0,d=S,g=A;break}if(G===g){O=!0,g=S,d=A;break}G=G.sibling}if(!O){for(G=A.child;G;){if(G===d){O=!0,d=A,g=S;break}if(G===g){O=!0,g=A,d=S;break}G=G.sibling}if(!O)throw Error(i(189))}}if(d.alternate!==g)throw Error(i(190))}if(d.tag!==3)throw Error(i(188));return d.stateNode.current===d?a:o}function At(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=At(a),o!==null)return o;a=a.sibling}return null}var zt=Array.isArray,st=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Et={pending:!1,data:null,method:null,action:null},Ut=[],It=-1;function kt(a){return{current:a}}function ye(a){0>It||(a.current=Ut[It],Ut[It]=null,It--)}function qt(a,o){It++,Ut[It]=a.current,a.current=o}var le=kt(null),Ot=kt(null),Rt=kt(null),Y=kt(null);function ue(a,o){switch(qt(Rt,o),qt(Ot,a),qt(le,null),a=o.nodeType,a){case 9:case 11:o=(o=o.documentElement)&&(o=o.namespaceURI)?vA(o):0;break;default:if(a=a===8?o.parentNode:o,o=a.tagName,a=a.namespaceURI)a=vA(a),o=yA(a,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}ye(le),qt(le,o)}function Ht(){ye(le),ye(Ot),ye(Rt)}function $t(a){a.memoizedState!==null&&qt(Y,a);var o=le.current,d=yA(o,a.type);o!==d&&(qt(Ot,a),qt(le,d))}function Kt(a){Ot.current===a&&(ye(le),ye(Ot)),Y.current===a&&(ye(Y),Lm._currentValue=Et)}var Se=Object.prototype.hasOwnProperty,Qt=n.unstable_scheduleCallback,q=n.unstable_cancelCallback,F=n.unstable_shouldYield,vt=n.unstable_requestPaint,wt=n.unstable_now,Ft=n.unstable_getCurrentPriorityLevel,Dt=n.unstable_ImmediatePriority,ce=n.unstable_UserBlockingPriority,ee=n.unstable_NormalPriority,fe=n.unstable_LowPriority,We=n.unstable_IdlePriority,Wt=n.log,pe=n.unstable_setDisableYieldValue,xe=null,ve=null;function he(a){if(ve&&typeof ve.onCommitFiberRoot=="function")try{ve.onCommitFiberRoot(xe,a,void 0,(a.current.flags&128)===128)}catch{}}function Fe(a){if(typeof Wt=="function"&&pe(a),ve&&typeof ve.setStrictMode=="function")try{ve.setStrictMode(xe,a)}catch{}}var Me=Math.clz32?Math.clz32:ie,xn=Math.log,ct=Math.LN2;function ie(a){return a>>>=0,a===0?32:31-(xn(a)/ct|0)|0}var Tt=128,Pt=4194304;function te(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function ne(a,o){var d=a.pendingLanes;if(d===0)return 0;var g=0,S=a.suspendedLanes,A=a.pingedLanes,O=a.warmLanes;a=a.finishedLanes!==0;var G=d&134217727;return G!==0?(d=G&~S,d!==0?g=te(d):(A&=G,A!==0?g=te(A):a||(O=G&~O,O!==0&&(g=te(O))))):(G=d&~S,G!==0?g=te(G):A!==0?g=te(A):a||(O=d&~O,O!==0&&(g=te(O)))),g===0?0:o!==0&&o!==g&&!(o&S)&&(S=g&-g,O=o&-o,S>=O||S===32&&(O&4194176)!==0)?o:g}function Ne(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function Pn(a,o){switch(a){case 1:case 2:case 4:case 8:return o+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jn(){var a=Tt;return Tt<<=1,!(Tt&4194176)&&(Tt=128),a}function hn(){var a=Pt;return Pt<<=1,!(Pt&62914560)&&(Pt=4194304),a}function ts(a){for(var o=[],d=0;31>d;d++)o.push(a);return o}function es(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Du(a,o,d,g,S,A){var O=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var G=a.entanglements,$=a.expirationTimes,ut=a.hiddenUpdates;for(d=O&~d;0<d;){var Lt=31-Me(d),jt=1<<Lt;G[Lt]=0,$[Lt]=-1;var bt=ut[Lt];if(bt!==null)for(ut[Lt]=null,Lt=0;Lt<bt.length;Lt++){var Ct=bt[Lt];Ct!==null&&(Ct.lane&=-536870913)}d&=~jt}g!==0&&_l(a,g,0),A!==0&&S===0&&a.tag!==0&&(a.suspendedLanes|=A&~(O&~o))}function _l(a,o,d){a.pendingLanes|=o,a.suspendedLanes&=~o;var g=31-Me(o);a.entangledLanes|=o,a.entanglements[g]=a.entanglements[g]|1073741824|d&4194218}function ga(a,o){var d=a.entangledLanes|=o;for(a=a.entanglements;d;){var g=31-Me(d),S=1<<g;S&o|a[g]&o&&(a[g]|=o),d&=~S}}function Qs(a){return a&=-a,2<a?8<a?a&134217727?32:268435456:8:2}function gc(){var a=st.p;return a!==0?a:(a=window.event,a===void 0?32:zA(a.type))}function Fa(a,o){var d=st.p;try{return st.p=a,o()}finally{st.p=d}}var ai=Math.random().toString(36).slice(2),ei="__reactFiber$"+ai,Ze="__reactProps$"+ai,Ha="__reactContainer$"+ai,To="__reactEvents$"+ai,dh="__reactListeners$"+ai,ph="__reactHandles$"+ai,mh="__reactResources$"+ai,Rr="__reactMarker$"+ai;function Sl(a){delete a[ei],delete a[Ze],delete a[To],delete a[dh],delete a[ph]}function Ga(a){var o=a[ei];if(o)return o;for(var d=a.parentNode;d;){if(o=d[Ha]||d[ei]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(a=SA(a);a!==null;){if(d=a[ei])return d;a=SA(a)}return o}a=d,d=a.parentNode}return null}function H(a){if(a=a[ei]||a[Ha]){var o=a.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return a}return null}function rt(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(i(33))}function xt(a){var o=a[mh];return o||(o=a[mh]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function gt(a){a[Rr]=!0}var ft=new Set,Gt={};function Jt(a,o){ae(a,o),ae(a+"Capture",o)}function ae(a,o){for(Gt[a]=o,a=0;a<o.length;a++)ft.add(o[a])}var se=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Le=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ue={},Ae={};function on(a){return Se.call(Ae,a)?!0:Se.call(Ue,a)?!1:Le.test(a)?Ae[a]=!0:(Ue[a]=!0,!1)}function ln(a,o,d){if(on(o))if(d===null)a.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var g=o.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+d)}}function Fn(a,o,d){if(d===null)a.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+d)}}function dn(a,o,d,g){if(g===null)a.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(o,d,""+g)}}function Be(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function we(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function yi(a){var o=we(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,o),g=""+a[o];if(!a.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var S=d.get,A=d.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return S.call(this)},set:function(O){g=""+O,A.call(this,O)}}),Object.defineProperty(a,o,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(O){g=""+O},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function cn(a){a._valueTracker||(a._valueTracker=yi(a))}function vs(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var d=o.getValue(),g="";return a&&(g=we(a)?a.checked?"true":"false":a.value),a=g,a!==d?(o.setValue(a),!0):!1}function $s(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var ns=/[\n"\\]/g;function Li(a){return a.replace(ns,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function wn(a,o,d,g,S,A,O,G){a.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?a.type=O:a.removeAttribute("type"),o!=null?O==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+Be(o)):a.value!==""+Be(o)&&(a.value=""+Be(o)):O!=="submit"&&O!=="reset"||a.removeAttribute("value"),o!=null?qi(a,O,Be(o)):d!=null?qi(a,O,Be(d)):g!=null&&a.removeAttribute("value"),S==null&&A!=null&&(a.defaultChecked=!!A),S!=null&&(a.checked=S&&typeof S!="function"&&typeof S!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?a.name=""+Be(G):a.removeAttribute("name")}function is(a,o,d,g,S,A,O,G){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(a.type=A),o!=null||d!=null){if(!(A!=="submit"&&A!=="reset"||o!=null))return;d=d!=null?""+Be(d):"",o=o!=null?""+Be(o):d,G||o===a.value||(a.value=o),a.defaultValue=o}g=g??S,g=typeof g!="function"&&typeof g!="symbol"&&!!g,a.checked=G?a.checked:!!g,a.defaultChecked=!!g,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(a.name=O)}function qi(a,o,d){o==="number"&&$s(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function ni(a,o,d,g){if(a=a.options,o){o={};for(var S=0;S<d.length;S++)o["$"+d[S]]=!0;for(d=0;d<a.length;d++)S=o.hasOwnProperty("$"+a[d].value),a[d].selected!==S&&(a[d].selected=S),S&&g&&(a[d].defaultSelected=!0)}else{for(d=""+Be(d),o=null,S=0;S<a.length;S++){if(a[S].value===d){a[S].selected=!0,g&&(a[S].defaultSelected=!0);return}o!==null||a[S].disabled||(o=a[S])}o!==null&&(o.selected=!0)}}function Vi(a,o,d){if(o!=null&&(o=""+Be(o),o!==a.value&&(a.value=o),d==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=d!=null?""+Be(d):""}function ka(a,o,d,g){if(o==null){if(g!=null){if(d!=null)throw Error(i(92));if(zt(g)){if(1<g.length)throw Error(i(93));g=g[0]}d=g}d==null&&(d=""),o=d}d=Be(o),a.defaultValue=d,g=a.textContent,g===d&&g!==""&&g!==null&&(a.value=g)}function ys(a,o){if(o){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=o;return}}a.textContent=o}var gh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nu(a,o,d){var g=o.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?g?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":g?a.setProperty(o,d):typeof d!="number"||d===0||gh.has(o)?o==="float"?a.cssFloat=d:a[o]=(""+d).trim():a[o]=d+"px"}function Ap(a,o,d){if(o!=null&&typeof o!="object")throw Error(i(62));if(a=a.style,d!=null){for(var g in d)!d.hasOwnProperty(g)||o!=null&&o.hasOwnProperty(g)||(g.indexOf("--")===0?a.setProperty(g,""):g==="float"?a.cssFloat="":a[g]="");for(var S in o)g=o[S],o.hasOwnProperty(S)&&d[S]!==g&&Nu(a,S,g)}else for(var A in o)o.hasOwnProperty(A)&&Nu(a,A,o[A])}function Lu(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var R0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),D0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Uu(a){return D0.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var vh=null;function Ou(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var bl=null,Ml=null;function yh(a){var o=H(a);if(o&&(a=o.stateNode)){var d=a[Ze]||null;t:switch(a=o.stateNode,o.type){case"input":if(wn(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),o=d.name,d.type==="radio"&&o!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Li(""+o)+'"][type="radio"]'),o=0;o<d.length;o++){var g=d[o];if(g!==a&&g.form===a.form){var S=g[Ze]||null;if(!S)throw Error(i(90));wn(g,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(o=0;o<d.length;o++)g=d[o],g.form===a.form&&vs(g)}break t;case"textarea":Vi(a,d.value,d.defaultValue);break t;case"select":o=d.value,o!=null&&ni(a,!!d.multiple,o,!1)}}}var xh=!1;function wp(a,o,d){if(xh)return a(o,d);xh=!0;try{var g=a(o);return g}finally{if(xh=!1,(bl!==null||Ml!==null)&&(Xl(),bl&&(o=bl,a=Ml,Ml=bl=null,yh(o),a)))for(o=0;o<a.length;o++)yh(a[o])}}function vc(a,o){var d=a.stateNode;if(d===null)return null;var g=d[Ze]||null;if(g===null)return null;d=g[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break t;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(i(231,o,typeof d));return d}var Pu=!1;if(se)try{var yc={};Object.defineProperty(yc,"passive",{get:function(){Pu=!0}}),window.addEventListener("test",yc,yc),window.removeEventListener("test",yc,yc)}catch{Pu=!1}var Dr=null,Cp=null,_h=null;function Rp(){if(_h)return _h;var a,o=Cp,d=o.length,g,S="value"in Dr?Dr.value:Dr.textContent,A=S.length;for(a=0;a<d&&o[a]===S[a];a++);var O=d-a;for(g=1;g<=O&&o[d-g]===S[A-g];g++);return _h=S.slice(a,1<g?1-g:void 0)}function Eo(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function xc(){return!0}function zu(){return!1}function xs(a){function o(d,g,S,A,O){this._reactName=d,this._targetInst=S,this.type=g,this.nativeEvent=A,this.target=O,this.currentTarget=null;for(var G in a)a.hasOwnProperty(G)&&(d=a[G],this[G]=d?d(A):A[G]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?xc:zu,this.isPropagationStopped=zu,this}return P(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=xc)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=xc)},persist:function(){},isPersistent:xc}),o}var Ao={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_c=xs(Ao),Sc=P({},Ao,{view:0,detail:0}),N0=xs(Sc),Nr,bc,Mc,Tc=P({},Sc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vu,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Mc&&(Mc&&a.type==="mousemove"?(Nr=a.screenX-Mc.screenX,bc=a.screenY-Mc.screenY):bc=Nr=0,Mc=a),Nr)},movementY:function(a){return"movementY"in a?a.movementY:bc}}),Dp=xs(Tc),L0=P({},Tc,{dataTransfer:0}),vS=xs(L0),Yi=P({},Sc,{relatedTarget:0}),Sh=xs(Yi),U0=P({},Ao,{animationName:0,elapsedTime:0,pseudoElement:0}),O0=xs(U0),P0=P({},Ao,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),z0=xs(P0),Bu=P({},Ao,{data:0}),bh=xs(Bu),B0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},V0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},I0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Np(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=I0[a])?!!o[a]:!1}function Vu(){return Np}var F0=P({},Sc,{key:function(a){if(a.key){var o=B0[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Eo(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?V0[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vu,charCode:function(a){return a.type==="keypress"?Eo(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Eo(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Lp=xs(F0),Up=P({},Tc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mh=xs(Up),H0=P({},Sc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vu}),Op=xs(H0),G0=P({},Ao,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lr=xs(G0),Pp=P({},Tc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),yS=xs(Pp),k0=P({},Ao,{newState:0,oldState:0}),wo=xs(k0),Ur=[9,13,27,32],Iu=se&&"CompositionEvent"in window,Tl=null;se&&"documentMode"in document&&(Tl=document.documentMode);var Fu=se&&"TextEvent"in window&&!Tl,Hu=se&&(!Iu||Tl&&8<Tl&&11>=Tl),Co=" ",Wi=!1;function Gu(a,o){switch(a){case"keyup":return Ur.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zp(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Ro=!1;function ku(a,o){switch(a){case"compositionend":return zp(o);case"keypress":return o.which!==32?null:(Wi=!0,Co);case"textInput":return a=o.data,a===Co&&Wi?null:a;default:return null}}function Bp(a,o){if(Ro)return a==="compositionend"||!Iu&&Gu(a,o)?(a=Rp(),_h=Cp=Dr=null,Ro=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Hu&&o.locale!=="ko"?null:o.data;default:return null}}var Th={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vp(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!Th[a.type]:o==="textarea"}function Ns(a,o,d,g){bl?Ml?Ml.push(g):Ml=[g]:bl=g,o=kv(o,"onChange"),0<o.length&&(d=new _c("onChange","change",null,d,g),a.push({event:d,listeners:o}))}var Ec=null,El=null;function j0(a){hA(a,0)}function ju(a){var o=rt(a);if(vs(o))return a}function Eh(a,o){if(a==="change")return o}var Ah=!1;if(se){var wh;if(se){var Ac="oninput"in document;if(!Ac){var wc=document.createElement("div");wc.setAttribute("oninput","return;"),Ac=typeof wc.oninput=="function"}wh=Ac}else wh=!1;Ah=wh&&(!document.documentMode||9<document.documentMode)}function Wn(){Ec&&(Ec.detachEvent("onpropertychange",X0),El=Ec=null)}function X0(a){if(a.propertyName==="value"&&ju(El)){var o=[];Ns(o,El,a,Ou(a)),wp(j0,o)}}function xS(a,o,d){a==="focusin"?(Wn(),Ec=o,El=d,Ec.attachEvent("onpropertychange",X0)):a==="focusout"&&Wn()}function q0(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return ju(El)}function Xu(a,o){if(a==="click")return ju(o)}function Do(a,o){if(a==="input"||a==="change")return ju(o)}function Y0(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Ls=typeof Object.is=="function"?Object.is:Y0;function ja(a,o){if(Ls(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var d=Object.keys(a),g=Object.keys(o);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var S=d[g];if(!Se.call(o,S)||!Ls(a[S],o[S]))return!1}return!0}function Us(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Ip(a,o){var d=Us(a);a=0;for(var g;d;){if(d.nodeType===3){if(g=a+d.textContent.length,a<=o&&g>=o)return{node:d,offset:o-a};a=g}t:{for(;d;){if(d.nextSibling){d=d.nextSibling;break t}d=d.parentNode}d=void 0}d=Us(d)}}function Fp(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?Fp(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function Hp(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=$s(a.document);o instanceof a.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)a=o.contentWindow;else break;o=$s(a.document)}return o}function qu(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}function Gp(a,o){var d=Hp(o);o=a.focusedElem;var g=a.selectionRange;if(d!==o&&o&&o.ownerDocument&&Fp(o.ownerDocument.documentElement,o)){if(g!==null&&qu(o)){if(a=g.start,d=g.end,d===void 0&&(d=a),"selectionStart"in o)o.selectionStart=a,o.selectionEnd=Math.min(d,o.value.length);else if(d=(a=o.ownerDocument||document)&&a.defaultView||window,d.getSelection){d=d.getSelection();var S=o.textContent.length,A=Math.min(g.start,S);g=g.end===void 0?A:Math.min(g.end,S),!d.extend&&A>g&&(S=g,g=A,A=S),S=Ip(o,A);var O=Ip(o,g);S&&O&&(d.rangeCount!==1||d.anchorNode!==S.node||d.anchorOffset!==S.offset||d.focusNode!==O.node||d.focusOffset!==O.offset)&&(a=a.createRange(),a.setStart(S.node,S.offset),d.removeAllRanges(),A>g?(d.addRange(a),d.extend(O.node,O.offset)):(a.setEnd(O.node,O.offset),d.addRange(a)))}}for(a=[],d=o;d=d.parentNode;)d.nodeType===1&&a.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<a.length;o++)d=a[o],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var Ch=se&&"documentMode"in document&&11>=document.documentMode,Al=null,kp=null,Cc=null,Rh=!1;function va(a,o,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Rh||Al==null||Al!==$s(g)||(g=Al,"selectionStart"in g&&qu(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Cc&&ja(Cc,g)||(Cc=g,g=kv(kp,"onSelect"),0<g.length&&(o=new _c("onSelect","select",null,o,d),a.push({event:o,listeners:g}),o.target=Al)))}function Or(a,o){var d={};return d[a.toLowerCase()]=o.toLowerCase(),d["Webkit"+a]="webkit"+o,d["Moz"+a]="moz"+o,d}var wl={animationend:Or("Animation","AnimationEnd"),animationiteration:Or("Animation","AnimationIteration"),animationstart:Or("Animation","AnimationStart"),transitionrun:Or("Transition","TransitionRun"),transitionstart:Or("Transition","TransitionStart"),transitioncancel:Or("Transition","TransitionCancel"),transitionend:Or("Transition","TransitionEnd")},jp={},Dh={};se&&(Dh=document.createElement("div").style,"AnimationEvent"in window||(delete wl.animationend.animation,delete wl.animationiteration.animation,delete wl.animationstart.animation),"TransitionEvent"in window||delete wl.transitionend.transition);function xi(a){if(jp[a])return jp[a];if(!wl[a])return a;var o=wl[a],d;for(d in o)if(o.hasOwnProperty(d)&&d in Dh)return jp[a]=o[d];return a}var Xp=xi("animationend"),Os=xi("animationiteration"),qp=xi("animationstart"),Pr=xi("transitionrun"),Rc=xi("transitionstart"),No=xi("transitioncancel"),Nh=xi("transitionend"),Lh=new Map,zr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ya(a,o){Lh.set(a,o),Jt(o,[a])}var Zi=[],rr=0,Br=0;function Yu(){for(var a=rr,o=Br=rr=0;o<a;){var d=Zi[o];Zi[o++]=null;var g=Zi[o];Zi[o++]=null;var S=Zi[o];Zi[o++]=null;var A=Zi[o];if(Zi[o++]=null,g!==null&&S!==null){var O=g.pending;O===null?S.next=S:(S.next=O.next,O.next=S),g.pending=S}A!==0&&Zu(d,S,A)}}function Wu(a,o,d,g){Zi[rr++]=a,Zi[rr++]=o,Zi[rr++]=d,Zi[rr++]=g,Br|=g,a.lanes|=g,a=a.alternate,a!==null&&(a.lanes|=g)}function Cl(a,o,d,g){return Wu(a,o,d,g),Ku(a)}function Vr(a,o){return Wu(a,null,null,o),Ku(a)}function Zu(a,o,d){a.lanes|=d;var g=a.alternate;g!==null&&(g.lanes|=d);for(var S=!1,A=a.return;A!==null;)A.childLanes|=d,g=A.alternate,g!==null&&(g.childLanes|=d),A.tag===22&&(a=A.stateNode,a===null||a._visibility&1||(S=!0)),a=A,A=A.return;S&&o!==null&&a.tag===3&&(A=a.stateNode,S=31-Me(d),A=A.hiddenUpdates,a=A[S],a===null?A[S]=[o]:a.push(o),o.lane=d|536870912)}function Ku(a){if(50<Ca)throw Ca=0,ao=null,Error(i(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var Lo={},Uh=new WeakMap;function Ps(a,o){if(typeof a=="object"&&a!==null){var d=Uh.get(a);return d!==void 0?d:(o={value:a,source:o,stack:tt(o)},Uh.set(a,o),o)}return{value:a,source:o,stack:tt(o)}}var Rl=[],Uo=0,ss=null,Qu=0,Hn=[],Js=0,Ir=null,or=1,Fr="";function _s(a,o){Rl[Uo++]=Qu,Rl[Uo++]=ss,ss=a,Qu=o}function Yp(a,o,d){Hn[Js++]=or,Hn[Js++]=Fr,Hn[Js++]=Ir,Ir=a;var g=or;a=Fr;var S=32-Me(g)-1;g&=~(1<<S),d+=1;var A=32-Me(o)+S;if(30<A){var O=S-S%5;A=(g&(1<<O)-1).toString(32),g>>=O,S-=O,or=1<<32-Me(o)+S|d<<S|g,Fr=A+a}else or=1<<A|d<<S|g,Fr=a}function $u(a){a.return!==null&&(_s(a,1),Yp(a,1,0))}function Oo(a){for(;a===ss;)ss=Rl[--Uo],Rl[Uo]=null,Qu=Rl[--Uo],Rl[Uo]=null;for(;a===Ir;)Ir=Hn[--Js],Hn[Js]=null,Fr=Hn[--Js],Hn[Js]=null,or=Hn[--Js],Hn[Js]=null}var as=null,Ii=null,mn=!1,xa=null,_a=!1,Ju=Error(i(519));function Dl(a){var o=Error(i(418,""));throw lr(Ps(o,a)),Ju}function W0(a){var o=a.stateNode,d=a.type,g=a.memoizedProps;switch(o[ei]=a,o[Ze]=g,d){case"dialog":vn("cancel",o),vn("close",o);break;case"iframe":case"object":case"embed":vn("load",o);break;case"video":case"audio":for(d=0;d<wm.length;d++)vn(wm[d],o);break;case"source":vn("error",o);break;case"img":case"image":case"link":vn("error",o),vn("load",o);break;case"details":vn("toggle",o);break;case"input":vn("invalid",o),is(o,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),cn(o);break;case"select":vn("invalid",o);break;case"textarea":vn("invalid",o),ka(o,g.value,g.defaultValue,g.children),cn(o)}d=g.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||o.textContent===""+d||g.suppressHydrationWarning===!0||gA(o.textContent,d)?(g.popover!=null&&(vn("beforetoggle",o),vn("toggle",o)),g.onScroll!=null&&vn("scroll",o),g.onScrollEnd!=null&&vn("scrollend",o),g.onClick!=null&&(o.onclick=jv),o=!0):o=!1,o||Dl(a)}function Z0(a){for(as=a.return;as;)switch(as.tag){case 3:case 27:_a=!0;return;case 5:case 13:_a=!1;return;default:as=as.return}}function Dc(a){if(a!==as)return!1;if(!mn)return Z0(a),mn=!0,!1;var o=!1,d;if((d=a.tag!==3&&a.tag!==27)&&((d=a.tag===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||IS(a.type,a.memoizedProps)),d=!d),d&&(o=!0),o&&Ii&&Dl(a),Z0(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));t:{for(a=a.nextSibling,o=0;a;){if(a.nodeType===8)if(d=a.data,d==="/$"){if(o===0){Ii=oo(a.nextSibling);break t}o--}else d!=="$"&&d!=="$!"&&d!=="$?"||o++;a=a.nextSibling}Ii=null}}else Ii=as?oo(a.stateNode.nextSibling):null;return!0}function Nc(){Ii=as=null,mn=!1}function lr(a){xa===null?xa=[a]:xa.push(a)}var Po=Error(i(460)),Wp=Error(i(474)),Oh={then:function(){}};function K0(a){return a=a.status,a==="fulfilled"||a==="rejected"}function tf(){}function zo(a,o,d){switch(d=a[d],d===void 0?a.push(o):d!==o&&(o.then(tf,tf),o=d),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,a===Po?Error(i(483)):a;default:if(typeof o.status=="string")o.then(tf,tf);else{if(a=Ln,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=o,a.status="pending",a.then(function(g){if(o.status==="pending"){var S=o;S.status="fulfilled",S.value=g}},function(g){if(o.status==="pending"){var S=o;S.status="rejected",S.reason=g}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,a===Po?Error(i(483)):a}throw Lc=o,Po}}var Lc=null;function En(){if(Lc===null)throw Error(i(459));var a=Lc;return Lc=null,a}var Bo=null,ef=0;function nf(a){var o=ef;return ef+=1,Bo===null&&(Bo=[]),zo(Bo,a,o)}function sf(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Ph(a,o){throw o.$$typeof===r?Error(i(525)):(a=Object.prototype.toString.call(o),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function Q0(a){var o=a._init;return o(a._payload)}function $0(a){function o(dt,ot){if(a){var yt=dt.deletions;yt===null?(dt.deletions=[ot],dt.flags|=16):yt.push(ot)}}function d(dt,ot){if(!a)return null;for(;ot!==null;)o(dt,ot),ot=ot.sibling;return null}function g(dt){for(var ot=new Map;dt!==null;)dt.key!==null?ot.set(dt.key,dt):ot.set(dt.index,dt),dt=dt.sibling;return ot}function S(dt,ot){return dt=Ts(dt,ot),dt.index=0,dt.sibling=null,dt}function A(dt,ot,yt){return dt.index=yt,a?(yt=dt.alternate,yt!==null?(yt=yt.index,yt<ot?(dt.flags|=33554434,ot):yt):(dt.flags|=33554434,ot)):(dt.flags|=1048576,ot)}function O(dt){return a&&dt.alternate===null&&(dt.flags|=33554434),dt}function G(dt,ot,yt,Bt){return ot===null||ot.tag!==6?(ot=Mi(yt,dt.mode,Bt),ot.return=dt,ot):(ot=S(ot,yt),ot.return=dt,ot)}function $(dt,ot,yt,Bt){var _e=yt.type;return _e===h?Lt(dt,ot,yt.props.children,Bt,yt.key):ot!==null&&(ot.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===R&&Q0(_e)===ot.type)?(ot=S(ot,yt.props),sf(ot,yt),ot.return=dt,ot):(ot=Yc(yt.type,yt.key,yt.props,null,dt.mode,Bt),sf(ot,yt),ot.return=dt,ot)}function ut(dt,ot,yt,Bt){return ot===null||ot.tag!==4||ot.stateNode.containerInfo!==yt.containerInfo||ot.stateNode.implementation!==yt.implementation?(ot=gf(yt,dt.mode,Bt),ot.return=dt,ot):(ot=S(ot,yt.children||[]),ot.return=dt,ot)}function Lt(dt,ot,yt,Bt,_e){return ot===null||ot.tag!==7?(ot=nl(yt,dt.mode,Bt,_e),ot.return=dt,ot):(ot=S(ot,yt),ot.return=dt,ot)}function jt(dt,ot,yt){if(typeof ot=="string"&&ot!==""||typeof ot=="number"||typeof ot=="bigint")return ot=Mi(""+ot,dt.mode,yt),ot.return=dt,ot;if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case l:return yt=Yc(ot.type,ot.key,ot.props,null,dt.mode,yt),sf(yt,ot),yt.return=dt,yt;case u:return ot=gf(ot,dt.mode,yt),ot.return=dt,ot;case R:var Bt=ot._init;return ot=Bt(ot._payload),jt(dt,ot,yt)}if(zt(ot)||B(ot))return ot=nl(ot,dt.mode,yt,null),ot.return=dt,ot;if(typeof ot.then=="function")return jt(dt,nf(ot),yt);if(ot.$$typeof===_)return jt(dt,$h(dt,ot),yt);Ph(dt,ot)}return null}function bt(dt,ot,yt,Bt){var _e=ot!==null?ot.key:null;if(typeof yt=="string"&&yt!==""||typeof yt=="number"||typeof yt=="bigint")return _e!==null?null:G(dt,ot,""+yt,Bt);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case l:return yt.key===_e?$(dt,ot,yt,Bt):null;case u:return yt.key===_e?ut(dt,ot,yt,Bt):null;case R:return _e=yt._init,yt=_e(yt._payload),bt(dt,ot,yt,Bt)}if(zt(yt)||B(yt))return _e!==null?null:Lt(dt,ot,yt,Bt,null);if(typeof yt.then=="function")return bt(dt,ot,nf(yt),Bt);if(yt.$$typeof===_)return bt(dt,ot,$h(dt,yt),Bt);Ph(dt,yt)}return null}function Ct(dt,ot,yt,Bt,_e){if(typeof Bt=="string"&&Bt!==""||typeof Bt=="number"||typeof Bt=="bigint")return dt=dt.get(yt)||null,G(ot,dt,""+Bt,_e);if(typeof Bt=="object"&&Bt!==null){switch(Bt.$$typeof){case l:return dt=dt.get(Bt.key===null?yt:Bt.key)||null,$(ot,dt,Bt,_e);case u:return dt=dt.get(Bt.key===null?yt:Bt.key)||null,ut(ot,dt,Bt,_e);case R:var fn=Bt._init;return Bt=fn(Bt._payload),Ct(dt,ot,yt,Bt,_e)}if(zt(Bt)||B(Bt))return dt=dt.get(yt)||null,Lt(ot,dt,Bt,_e,null);if(typeof Bt.then=="function")return Ct(dt,ot,yt,nf(Bt),_e);if(Bt.$$typeof===_)return Ct(dt,ot,yt,$h(ot,Bt),_e);Ph(ot,Bt)}return null}function Ee(dt,ot,yt,Bt){for(var _e=null,fn=null,Ce=ot,Pe=ot=0,hs=null;Ce!==null&&Pe<yt.length;Pe++){Ce.index>Pe?(hs=Ce,Ce=null):hs=Ce.sibling;var An=bt(dt,Ce,yt[Pe],Bt);if(An===null){Ce===null&&(Ce=hs);break}a&&Ce&&An.alternate===null&&o(dt,Ce),ot=A(An,ot,Pe),fn===null?_e=An:fn.sibling=An,fn=An,Ce=hs}if(Pe===yt.length)return d(dt,Ce),mn&&_s(dt,Pe),_e;if(Ce===null){for(;Pe<yt.length;Pe++)Ce=jt(dt,yt[Pe],Bt),Ce!==null&&(ot=A(Ce,ot,Pe),fn===null?_e=Ce:fn.sibling=Ce,fn=Ce);return mn&&_s(dt,Pe),_e}for(Ce=g(Ce);Pe<yt.length;Pe++)hs=Ct(Ce,dt,Pe,yt[Pe],Bt),hs!==null&&(a&&hs.alternate!==null&&Ce.delete(hs.key===null?Pe:hs.key),ot=A(hs,ot,Pe),fn===null?_e=hs:fn.sibling=hs,fn=hs);return a&&Ce.forEach(function(nu){return o(dt,nu)}),mn&&_s(dt,Pe),_e}function je(dt,ot,yt,Bt){if(yt==null)throw Error(i(151));for(var _e=null,fn=null,Ce=ot,Pe=ot=0,hs=null,An=yt.next();Ce!==null&&!An.done;Pe++,An=yt.next()){Ce.index>Pe?(hs=Ce,Ce=null):hs=Ce.sibling;var nu=bt(dt,Ce,An.value,Bt);if(nu===null){Ce===null&&(Ce=hs);break}a&&Ce&&nu.alternate===null&&o(dt,Ce),ot=A(nu,ot,Pe),fn===null?_e=nu:fn.sibling=nu,fn=nu,Ce=hs}if(An.done)return d(dt,Ce),mn&&_s(dt,Pe),_e;if(Ce===null){for(;!An.done;Pe++,An=yt.next())An=jt(dt,An.value,Bt),An!==null&&(ot=A(An,ot,Pe),fn===null?_e=An:fn.sibling=An,fn=An);return mn&&_s(dt,Pe),_e}for(Ce=g(Ce);!An.done;Pe++,An=yt.next())An=Ct(Ce,dt,Pe,An.value,Bt),An!==null&&(a&&An.alternate!==null&&Ce.delete(An.key===null?Pe:An.key),ot=A(An,ot,Pe),fn===null?_e=An:fn.sibling=An,fn=An);return a&&Ce.forEach(function(Pz){return o(dt,Pz)}),mn&&_s(dt,Pe),_e}function Ai(dt,ot,yt,Bt){if(typeof yt=="object"&&yt!==null&&yt.type===h&&yt.key===null&&(yt=yt.props.children),typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case l:t:{for(var _e=yt.key;ot!==null;){if(ot.key===_e){if(_e=yt.type,_e===h){if(ot.tag===7){d(dt,ot.sibling),Bt=S(ot,yt.props.children),Bt.return=dt,dt=Bt;break t}}else if(ot.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===R&&Q0(_e)===ot.type){d(dt,ot.sibling),Bt=S(ot,yt.props),sf(Bt,yt),Bt.return=dt,dt=Bt;break t}d(dt,ot);break}else o(dt,ot);ot=ot.sibling}yt.type===h?(Bt=nl(yt.props.children,dt.mode,Bt,yt.key),Bt.return=dt,dt=Bt):(Bt=Yc(yt.type,yt.key,yt.props,null,dt.mode,Bt),sf(Bt,yt),Bt.return=dt,dt=Bt)}return O(dt);case u:t:{for(_e=yt.key;ot!==null;){if(ot.key===_e)if(ot.tag===4&&ot.stateNode.containerInfo===yt.containerInfo&&ot.stateNode.implementation===yt.implementation){d(dt,ot.sibling),Bt=S(ot,yt.children||[]),Bt.return=dt,dt=Bt;break t}else{d(dt,ot);break}else o(dt,ot);ot=ot.sibling}Bt=gf(yt,dt.mode,Bt),Bt.return=dt,dt=Bt}return O(dt);case R:return _e=yt._init,yt=_e(yt._payload),Ai(dt,ot,yt,Bt)}if(zt(yt))return Ee(dt,ot,yt,Bt);if(B(yt)){if(_e=B(yt),typeof _e!="function")throw Error(i(150));return yt=_e.call(yt),je(dt,ot,yt,Bt)}if(typeof yt.then=="function")return Ai(dt,ot,nf(yt),Bt);if(yt.$$typeof===_)return Ai(dt,ot,$h(dt,yt),Bt);Ph(dt,yt)}return typeof yt=="string"&&yt!==""||typeof yt=="number"||typeof yt=="bigint"?(yt=""+yt,ot!==null&&ot.tag===6?(d(dt,ot.sibling),Bt=S(ot,yt),Bt.return=dt,dt=Bt):(d(dt,ot),Bt=Mi(yt,dt.mode,Bt),Bt.return=dt,dt=Bt),O(dt)):d(dt,ot)}return function(dt,ot,yt,Bt){try{ef=0;var _e=Ai(dt,ot,yt,Bt);return Bo=null,_e}catch(Ce){if(Ce===Po)throw Ce;var fn=hi(29,Ce,null,dt.mode);return fn.lanes=Bt,fn.return=dt,fn}finally{}}}var Hr=$0(!0),Gr=$0(!1),Nl=kt(null),Ll=kt(0);function Vo(a,o){a=so,qt(Ll,a),qt(Nl,o),so=a|o.baseLanes}function zh(){qt(Ll,so),qt(Nl,Nl.current)}function af(){so=Ll.current,ye(Nl),ye(Ll)}var zs=kt(null),cr=null;function kr(a){var o=a.alternate;qt(_i,_i.current&1),qt(zs,a),cr===null&&(o===null||Nl.current!==null||o.memoizedState!==null)&&(cr=a)}function Zp(a){if(a.tag===22){if(qt(_i,_i.current),qt(zs,a),cr===null){var o=a.alternate;o!==null&&o.memoizedState!==null&&(cr=a)}}else jr()}function jr(){qt(_i,_i.current),qt(zs,zs.current)}function ur(a){ye(zs),cr===a&&(cr=null),ye(_i)}var _i=kt(0);function Uc(a){for(var o=a;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var sn=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(d,g){a.push(g)}};this.abort=function(){o.aborted=!0,a.forEach(function(d){return d()})}},_S=n.unstable_scheduleCallback,ta=n.unstable_NormalPriority,ri={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kp(){return{controller:new sn,data:new Map,refCount:0}}function Io(a){a.refCount--,a.refCount===0&&_S(ta,function(){a.controller.abort()})}var fr=null,Fo=0,Ul=0,Ho=null;function SS(a,o){if(fr===null){var d=fr=[];Fo=0,Ul=DS(),Ho={status:"pending",value:void 0,then:function(g){d.push(g)}}}return Fo++,o.then(Qp,Qp),o}function Qp(){if(--Fo===0&&fr!==null){Ho!==null&&(Ho.status="fulfilled");var a=fr;fr=null,Ul=0,Ho=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function Go(a,o){var d=[],g={status:"pending",value:null,reason:null,then:function(S){d.push(S)}};return a.then(function(){g.status="fulfilled",g.value=o;for(var S=0;S<d.length;S++)(0,d[S])(o)},function(S){for(g.status="rejected",g.reason=S,S=0;S<d.length;S++)(0,d[S])(void 0)}),g}var Bh=U.S;U.S=function(a,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&SS(a,o),Bh!==null&&Bh(a,o)};var Xr=kt(null);function rf(){var a=Xr.current;return a!==null?a:Ln.pooledCache}function Oc(a,o){o===null?qt(Xr,Xr.current):qt(Xr,o.pool)}function qr(){var a=rf();return a===null?null:{parent:ri._currentValue,pool:a}}var Yr=0,Ke=null,Cn=null,Si=null,Oe=!1,ko=!1,jo=!1,Pc=0,Xo=0,zc=null,bS=0;function ii(){throw Error(i(321))}function Ol(a,o){if(o===null)return!1;for(var d=0;d<o.length&&d<a.length;d++)if(!Ls(a[d],o[d]))return!1;return!0}function $p(a,o,d,g,S,A){return Yr=A,Ke=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,U.H=a===null||a.memoizedState===null?Yo:Zr,jo=!1,A=d(g,S),jo=!1,ko&&(A=tv(o,d,g,S)),J0(a),A}function J0(a){U.H=dr;var o=Cn!==null&&Cn.next!==null;if(Yr=0,Si=Cn=Ke=null,Oe=!1,Xo=0,zc=null,o)throw Error(i(300));a===null||Ui||(a=a.dependencies,a!==null&&Hc(a)&&(Ui=!0))}function tv(a,o,d,g){Ke=a;var S=0;do{if(ko&&(zc=null),Xo=0,ko=!1,25<=S)throw Error(i(301));if(S+=1,Si=Cn=null,a.updateQueue!=null){var A=a.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}U.H=Bl,A=o(d,g)}while(ko);return A}function MS(){var a=U.H,o=a.useState()[0];return o=typeof o.then=="function"?lf(o):o,a=a.useState()[0],(Cn!==null?Cn.memoizedState:null)!==a&&(Ke.flags|=1024),o}function Jp(){var a=Pc!==0;return Pc=0,a}function of(a,o,d){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~d}function Vh(a){if(Oe){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Oe=!1}Yr=0,Si=Cn=Ke=null,ko=!1,Xo=Pc=0,zc=null}function Ki(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Si===null?Ke.memoizedState=Si=a:Si=Si.next=a,Si}function oi(){if(Cn===null){var a=Ke.alternate;a=a!==null?a.memoizedState:null}else a=Cn.next;var o=Si===null?Ke.memoizedState:Si.next;if(o!==null)Si=o,Cn=a;else{if(a===null)throw Ke.alternate===null?Error(i(467)):Error(i(310));Cn=a,a={memoizedState:Cn.memoizedState,baseState:Cn.baseState,baseQueue:Cn.baseQueue,queue:Cn.queue,next:null},Si===null?Ke.memoizedState=Si=a:Si=Si.next=a}return Si}var Ih;Ih=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function lf(a){var o=Xo;return Xo+=1,zc===null&&(zc=[]),a=zo(zc,a,o),o=Ke,(Si===null?o.memoizedState:Si.next)===null&&(o=o.alternate,U.H=o===null||o.memoizedState===null?Yo:Zr),a}function Bc(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return lf(a);if(a.$$typeof===_)return rs(a)}throw Error(i(438,String(a)))}function Xa(a){var o=null,d=Ke.updateQueue;if(d!==null&&(o=d.memoCache),o==null){var g=Ke.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(o={data:g.data.map(function(S){return S.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),d===null&&(d=Ih(),Ke.updateQueue=d),d.memoCache=o,d=o.data[o.index],d===void 0)for(d=o.data[o.index]=Array(a),g=0;g<a;g++)d[g]=L;return o.index++,d}function Zn(a,o){return typeof o=="function"?o(a):o}function qa(a){var o=oi();return Bs(o,Cn,a)}function Bs(a,o,d){var g=a.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=d;var S=a.baseQueue,A=g.pending;if(A!==null){if(S!==null){var O=S.next;S.next=A.next,A.next=O}o.baseQueue=S=A,g.pending=null}if(A=a.baseState,S===null)a.memoizedState=A;else{o=S.next;var G=O=null,$=null,ut=o,Lt=!1;do{var jt=ut.lane&-536870913;if(jt!==ut.lane?(Re&jt)===jt:(Yr&jt)===jt){var bt=ut.revertLane;if(bt===0)$!==null&&($=$.next={lane:0,revertLane:0,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null}),jt===Ul&&(Lt=!0);else if((Yr&bt)===bt){ut=ut.next,bt===Ul&&(Lt=!0);continue}else jt={lane:0,revertLane:ut.revertLane,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null},$===null?(G=$=jt,O=A):$=$.next=jt,Ke.lanes|=bt,Ja|=bt;jt=ut.action,jo&&d(A,jt),A=ut.hasEagerState?ut.eagerState:d(A,jt)}else bt={lane:jt,revertLane:ut.revertLane,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null},$===null?(G=$=bt,O=A):$=$.next=bt,Ke.lanes|=jt,Ja|=jt;ut=ut.next}while(ut!==null&&ut!==o);if($===null?O=A:$.next=G,!Ls(A,a.memoizedState)&&(Ui=!0,Lt&&(d=Ho,d!==null)))throw d;a.memoizedState=A,a.baseState=O,a.baseQueue=$,g.lastRenderedState=A}return S===null&&(g.lanes=0),[a.memoizedState,g.dispatch]}function Fh(a){var o=oi(),d=o.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=a;var g=d.dispatch,S=d.pending,A=o.memoizedState;if(S!==null){d.pending=null;var O=S=S.next;do A=a(A,O.action),O=O.next;while(O!==S);Ls(A,o.memoizedState)||(Ui=!0),o.memoizedState=A,o.baseQueue===null&&(o.baseState=A),d.lastRenderedState=A}return[A,g]}function ev(a,o,d){var g=Ke,S=oi(),A=mn;if(A){if(d===void 0)throw Error(i(407));d=d()}else d=o();var O=!Ls((Cn||S).memoizedState,d);if(O&&(S.memoizedState=d,Ui=!0),S=S.queue,im(nv.bind(null,g,S,a),[a]),S.getSnapshot!==o||O||Si!==null&&Si.memoizedState.tag&1){if(g.flags|=2048,hr(9,qo.bind(null,g,S,d,o),{destroy:void 0},null),Ln===null)throw Error(i(349));A||Yr&60||Ss(g,o,d)}return d}function Ss(a,o,d){a.flags|=16384,a={getSnapshot:o,value:d},o=Ke.updateQueue,o===null?(o=Ih(),Ke.updateQueue=o,o.stores=[a]):(d=o.stores,d===null?o.stores=[a]:d.push(a))}function qo(a,o,d,g){o.value=d,o.getSnapshot=g,iv(o)&&sv(a)}function nv(a,o,d){return d(function(){iv(o)&&sv(a)})}function iv(a){var o=a.getSnapshot;a=a.value;try{var d=o();return!Ls(a,d)}catch{return!0}}function sv(a){var o=Vr(a,2);o!==null&&Ei(o,a,2)}function tm(a){var o=Ki();if(typeof a=="function"){var d=a;if(a=d(),jo){Fe(!0);try{d()}finally{Fe(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:a},o}function em(a,o,d,g){return a.baseState=d,Bs(a,Cn,typeof g=="function"?g:Zn)}function TS(a,o,d,g,S){if(Xh(a))throw Error(i(485));if(a=o.action,a!==null){var A={payload:S,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){A.listeners.push(O)}};U.T!==null?d(!0):A.isTransition=!1,g(A),d=o.pending,d===null?(A.next=o.pending=A,nm(o,A)):(A.next=d.next,o.pending=d.next=A)}}function nm(a,o){var d=o.action,g=o.payload,S=a.state;if(o.isTransition){var A=U.T,O={};U.T=O;try{var G=d(S,g),$=U.S;$!==null&&$(O,G),av(a,o,G)}catch(ut){Wr(a,o,ut)}finally{U.T=A}}else try{A=d(S,g),av(a,o,A)}catch(ut){Wr(a,o,ut)}}function av(a,o,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(g){Pl(a,o,g)},function(g){return Wr(a,o,g)}):Pl(a,o,d)}function Pl(a,o,d){o.status="fulfilled",o.value=d,rv(o),a.state=d,o=a.pending,o!==null&&(d=o.next,d===o?a.pending=null:(d=d.next,o.next=d,nm(a,d)))}function Wr(a,o,d){var g=a.pending;if(a.pending=null,g!==null){g=g.next;do o.status="rejected",o.reason=d,rv(o),o=o.next;while(o!==g)}a.action=null}function rv(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function ov(a,o){return o}function lv(a,o){if(mn){var d=Ln.formState;if(d!==null){t:{var g=Ke;if(mn){if(Ii){e:{for(var S=Ii,A=_a;S.nodeType!==8;){if(!A){S=null;break e}if(S=oo(S.nextSibling),S===null){S=null;break e}}A=S.data,S=A==="F!"||A==="F"?S:null}if(S){Ii=oo(S.nextSibling),g=S.data==="F!";break t}}Dl(g)}g=!1}g&&(o=d[0])}}return d=Ki(),d.memoizedState=d.baseState=o,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ov,lastRenderedState:o},d.queue=g,d=om.bind(null,Ke,g),g.dispatch=d,g=tm(!1),A=cf.bind(null,Ke,!1,g.queue),g=Ki(),S={state:o,dispatch:null,action:a,pending:null},g.queue=S,d=TS.bind(null,Ke,S,A,d),S.dispatch=d,g.memoizedState=a,[o,d,!1]}function Vc(a){var o=oi();return cv(o,Cn,a)}function cv(a,o,d){o=Bs(a,o,ov)[0],a=qa(Zn)[0],o=typeof o=="object"&&o!==null&&typeof o.then=="function"?lf(o):o;var g=oi(),S=g.queue,A=S.dispatch;return d!==g.memoizedState&&(Ke.flags|=2048,hr(9,ES.bind(null,S,d),{destroy:void 0},null)),[o,A,a]}function ES(a,o){a.action=o}function uv(a){var o=oi(),d=Cn;if(d!==null)return cv(o,d,a);oi(),o=o.memoizedState,d=oi();var g=d.queue.dispatch;return d.memoizedState=a,[o,g,!1]}function hr(a,o,d,g){return a={tag:a,create:o,inst:d,deps:g,next:null},o=Ke.updateQueue,o===null&&(o=Ih(),Ke.updateQueue=o),d=o.lastEffect,d===null?o.lastEffect=a.next=a:(g=d.next,d.next=a,a.next=g,o.lastEffect=a),a}function fv(){return oi().memoizedState}function Hh(a,o,d,g){var S=Ki();Ke.flags|=a,S.memoizedState=hr(1|o,d,{destroy:void 0},g===void 0?null:g)}function Gh(a,o,d,g){var S=oi();g=g===void 0?null:g;var A=S.memoizedState.inst;Cn!==null&&g!==null&&Ol(g,Cn.memoizedState.deps)?S.memoizedState=hr(o,d,A,g):(Ke.flags|=a,S.memoizedState=hr(1|o,d,A,g))}function hv(a,o){Hh(8390656,8,a,o)}function im(a,o){Gh(2048,8,a,o)}function dv(a,o){return Gh(4,2,a,o)}function pv(a,o){return Gh(4,4,a,o)}function mv(a,o){if(typeof o=="function"){a=a();var d=o(a);return function(){typeof d=="function"?d():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function gv(a,o,d){d=d!=null?d.concat([a]):null,Gh(4,4,mv.bind(null,o,a),d)}function sm(){}function vv(a,o){var d=oi();o=o===void 0?null:o;var g=d.memoizedState;return o!==null&&Ol(o,g[1])?g[0]:(d.memoizedState=[a,o],a)}function yv(a,o){var d=oi();o=o===void 0?null:o;var g=d.memoizedState;if(o!==null&&Ol(o,g[1]))return g[0];if(g=a(),jo){Fe(!0);try{a()}finally{Fe(!1)}}return d.memoizedState=[g,o],g}function kh(a,o,d){return d===void 0||Yr&1073741824?a.memoizedState=o:(a.memoizedState=d,a=aa(),Ke.lanes|=a,Ja|=a,d)}function xv(a,o,d,g){return Ls(d,o)?d:Nl.current!==null?(a=kh(a,d,g),Ls(a,o)||(Ui=!0),a):Yr&42?(a=aa(),Ke.lanes|=a,Ja|=a,o):(Ui=!0,a.memoizedState=d)}function _v(a,o,d,g,S){var A=st.p;st.p=A!==0&&8>A?A:8;var O=U.T,G={};U.T=G,cf(a,!1,o,d);try{var $=S(),ut=U.S;if(ut!==null&&ut(G,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var Lt=Go($,g);zl(a,o,Lt,As(a))}else zl(a,o,g,As(a))}catch(jt){zl(a,o,{then:function(){},status:"rejected",reason:jt},As())}finally{st.p=A,U.T=O}}function AS(){}function am(a,o,d,g){if(a.tag!==5)throw Error(i(476));var S=Sv(a).queue;_v(a,S,o,Et,d===null?AS:function(){return bv(a),d(g)})}function Sv(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:Et,baseState:Et,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:Et},next:null};var d={};return o.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:d},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function bv(a){var o=Sv(a).next.queue;zl(a,o,{},As())}function jh(){return rs(Lm)}function rm(){return oi().memoizedState}function Mv(){return oi().memoizedState}function Tv(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var d=As();a=ia(d);var g=sa(o,a,d);g!==null&&(Ei(g,o,d),Ko(g,o,d)),o={cache:Kp()},a.payload=o;return}o=o.return}}function Ev(a,o,d){var g=As();d={lane:g,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},Xh(a)?Av(o,d):(d=Cl(a,o,d,g),d!==null&&(Ei(d,a,g),wv(d,o,g)))}function om(a,o,d){var g=As();zl(a,o,d,g)}function zl(a,o,d,g){var S={lane:g,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(Xh(a))Av(o,S);else{var A=a.alternate;if(a.lanes===0&&(A===null||A.lanes===0)&&(A=o.lastRenderedReducer,A!==null))try{var O=o.lastRenderedState,G=A(O,d);if(S.hasEagerState=!0,S.eagerState=G,Ls(G,O))return Wu(a,o,S,0),Ln===null&&Yu(),!1}catch{}finally{}if(d=Cl(a,o,S,g),d!==null)return Ei(d,a,g),wv(d,o,g),!0}return!1}function cf(a,o,d,g){if(g={lane:2,revertLane:DS(),action:g,hasEagerState:!1,eagerState:null,next:null},Xh(a)){if(o)throw Error(i(479))}else o=Cl(a,d,g,2),o!==null&&Ei(o,a,2)}function Xh(a){var o=a.alternate;return a===Ke||o!==null&&o===Ke}function Av(a,o){ko=Oe=!0;var d=a.pending;d===null?o.next=o:(o.next=d.next,d.next=o),a.pending=o}function wv(a,o,d){if(d&4194176){var g=o.lanes;g&=a.pendingLanes,d|=g,o.lanes=d,ga(a,d)}}var dr={readContext:rs,use:Bc,useCallback:ii,useContext:ii,useEffect:ii,useImperativeHandle:ii,useLayoutEffect:ii,useInsertionEffect:ii,useMemo:ii,useReducer:ii,useRef:ii,useState:ii,useDebugValue:ii,useDeferredValue:ii,useTransition:ii,useSyncExternalStore:ii,useId:ii};dr.useCacheRefresh=ii,dr.useMemoCache=ii,dr.useHostTransitionStatus=ii,dr.useFormState=ii,dr.useActionState=ii,dr.useOptimistic=ii;var Yo={readContext:rs,use:Bc,useCallback:function(a,o){return Ki().memoizedState=[a,o===void 0?null:o],a},useContext:rs,useEffect:hv,useImperativeHandle:function(a,o,d){d=d!=null?d.concat([a]):null,Hh(4194308,4,mv.bind(null,o,a),d)},useLayoutEffect:function(a,o){return Hh(4194308,4,a,o)},useInsertionEffect:function(a,o){Hh(4,2,a,o)},useMemo:function(a,o){var d=Ki();o=o===void 0?null:o;var g=a();if(jo){Fe(!0);try{a()}finally{Fe(!1)}}return d.memoizedState=[g,o],g},useReducer:function(a,o,d){var g=Ki();if(d!==void 0){var S=d(o);if(jo){Fe(!0);try{d(o)}finally{Fe(!1)}}}else S=o;return g.memoizedState=g.baseState=S,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:S},g.queue=a,a=a.dispatch=Ev.bind(null,Ke,a),[g.memoizedState,a]},useRef:function(a){var o=Ki();return a={current:a},o.memoizedState=a},useState:function(a){a=tm(a);var o=a.queue,d=om.bind(null,Ke,o);return o.dispatch=d,[a.memoizedState,d]},useDebugValue:sm,useDeferredValue:function(a,o){var d=Ki();return kh(d,a,o)},useTransition:function(){var a=tm(!1);return a=_v.bind(null,Ke,a.queue,!0,!1),Ki().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,d){var g=Ke,S=Ki();if(mn){if(d===void 0)throw Error(i(407));d=d()}else{if(d=o(),Ln===null)throw Error(i(349));Re&60||Ss(g,o,d)}S.memoizedState=d;var A={value:d,getSnapshot:o};return S.queue=A,hv(nv.bind(null,g,A,a),[a]),g.flags|=2048,hr(9,qo.bind(null,g,A,d,o),{destroy:void 0},null),d},useId:function(){var a=Ki(),o=Ln.identifierPrefix;if(mn){var d=Fr,g=or;d=(g&~(1<<32-Me(g)-1)).toString(32)+d,o=":"+o+"R"+d,d=Pc++,0<d&&(o+="H"+d.toString(32)),o+=":"}else d=bS++,o=":"+o+"r"+d.toString(32)+":";return a.memoizedState=o},useCacheRefresh:function(){return Ki().memoizedState=Tv.bind(null,Ke)}};Yo.useMemoCache=Xa,Yo.useHostTransitionStatus=jh,Yo.useFormState=lv,Yo.useActionState=lv,Yo.useOptimistic=function(a){var o=Ki();o.memoizedState=o.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=d,o=cf.bind(null,Ke,!0,d),d.dispatch=o,[a,o]};var Zr={readContext:rs,use:Bc,useCallback:vv,useContext:rs,useEffect:im,useImperativeHandle:gv,useInsertionEffect:dv,useLayoutEffect:pv,useMemo:yv,useReducer:qa,useRef:fv,useState:function(){return qa(Zn)},useDebugValue:sm,useDeferredValue:function(a,o){var d=oi();return xv(d,Cn.memoizedState,a,o)},useTransition:function(){var a=qa(Zn)[0],o=oi().memoizedState;return[typeof a=="boolean"?a:lf(a),o]},useSyncExternalStore:ev,useId:rm};Zr.useCacheRefresh=Mv,Zr.useMemoCache=Xa,Zr.useHostTransitionStatus=jh,Zr.useFormState=Vc,Zr.useActionState=Vc,Zr.useOptimistic=function(a,o){var d=oi();return em(d,Cn,a,o)};var Bl={readContext:rs,use:Bc,useCallback:vv,useContext:rs,useEffect:im,useImperativeHandle:gv,useInsertionEffect:dv,useLayoutEffect:pv,useMemo:yv,useReducer:Fh,useRef:fv,useState:function(){return Fh(Zn)},useDebugValue:sm,useDeferredValue:function(a,o){var d=oi();return Cn===null?kh(d,a,o):xv(d,Cn.memoizedState,a,o)},useTransition:function(){var a=Fh(Zn)[0],o=oi().memoizedState;return[typeof a=="boolean"?a:lf(a),o]},useSyncExternalStore:ev,useId:rm};Bl.useCacheRefresh=Mv,Bl.useMemoCache=Xa,Bl.useHostTransitionStatus=jh,Bl.useFormState=uv,Bl.useActionState=uv,Bl.useOptimistic=function(a,o){var d=oi();return Cn!==null?em(d,Cn,a,o):(d.baseState=a,[a,d.queue.dispatch])};function lm(a,o,d,g){o=a.memoizedState,d=d(g,o),d=d==null?o:P({},o,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var cm={isMounted:function(a){return(a=a._reactInternals)?Q(a)===a:!1},enqueueSetState:function(a,o,d){a=a._reactInternals;var g=As(),S=ia(g);S.payload=o,d!=null&&(S.callback=d),o=sa(a,S,g),o!==null&&(Ei(o,a,g),Ko(o,a,g))},enqueueReplaceState:function(a,o,d){a=a._reactInternals;var g=As(),S=ia(g);S.tag=1,S.payload=o,d!=null&&(S.callback=d),o=sa(a,S,g),o!==null&&(Ei(o,a,g),Ko(o,a,g))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var d=As(),g=ia(d);g.tag=2,o!=null&&(g.callback=o),o=sa(a,g,d),o!==null&&(Ei(o,a,d),Ko(o,a,d))}};function Cv(a,o,d,g,S,A,O){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,A,O):o.prototype&&o.prototype.isPureReactComponent?!ja(d,g)||!ja(S,A):!0}function Rv(a,o,d,g){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,g),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,g),o.state!==a&&cm.enqueueReplaceState(o,o.state,null)}function Vl(a,o){var d=o;if("ref"in o){d={};for(var g in o)g!=="ref"&&(d[g]=o[g])}if(a=a.defaultProps){d===o&&(d=P({},d));for(var S in a)d[S]===void 0&&(d[S]=a[S])}return d}var qh=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function Dv(a){qh(a)}function Nv(a){console.error(a)}function Lv(a){qh(a)}function Yh(a,o){try{var d=a.onUncaughtError;d(o.value,{componentStack:o.stack})}catch(g){setTimeout(function(){throw g})}}function Uv(a,o,d){try{var g=a.onCaughtError;g(d.value,{componentStack:d.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function um(a,o,d){return d=ia(d),d.tag=3,d.payload={element:null},d.callback=function(){Yh(a,o)},d}function fm(a){return a=ia(a),a.tag=3,a}function Ov(a,o,d,g){var S=d.type.getDerivedStateFromError;if(typeof S=="function"){var A=g.value;a.payload=function(){return S(A)},a.callback=function(){Uv(o,d,g)}}var O=d.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(a.callback=function(){Uv(o,d,g),typeof S!="function"&&(Ti===null?Ti=new Set([this]):Ti.add(this));var G=g.stack;this.componentDidCatch(g.value,{componentStack:G!==null?G:""})})}function wS(a,o,d,g,S){if(d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(o=d.alternate,o!==null&&ff(o,d,S,!0),d=zs.current,d!==null){switch(d.tag){case 13:return cr===null?xf():d.alternate===null&&Yn===0&&(Yn=3),d.flags&=-257,d.flags|=65536,d.lanes=S,g===Oh?d.flags|=16384:(o=d.updateQueue,o===null?d.updateQueue=new Set([g]):o.add(g),ke(a,g,S)),!1;case 22:return d.flags|=65536,g===Oh?d.flags|=16384:(o=d.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([g])},d.updateQueue=o):(d=o.retryQueue,d===null?o.retryQueue=new Set([g]):d.add(g)),ke(a,g,S)),!1}throw Error(i(435,d.tag))}return ke(a,g,S),xf(),!1}if(mn)return o=zs.current,o!==null?(!(o.flags&65536)&&(o.flags|=256),o.flags|=65536,o.lanes=S,g!==Ju&&(a=Error(i(422),{cause:g}),lr(Ps(a,d)))):(g!==Ju&&(o=Error(i(423),{cause:g}),lr(Ps(o,d))),a=a.current.alternate,a.flags|=65536,S&=-S,a.lanes|=S,g=Ps(g,d),S=um(a.stateNode,g,S),kc(a,S),Yn!==4&&(Yn=2)),!1;var A=Error(i(520),{cause:g});if(A=Ps(A,d),yf===null?yf=[A]:yf.push(A),Yn!==4&&(Yn=2),o===null)return!0;g=Ps(g,d),d=o;do{switch(d.tag){case 3:return d.flags|=65536,a=S&-S,d.lanes|=a,a=um(d.stateNode,g,a),kc(d,a),!1;case 1:if(o=d.type,A=d.stateNode,(d.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Ti===null||!Ti.has(A))))return d.flags|=65536,S&=-S,d.lanes|=S,S=fm(S),Ov(S,a,d,g),kc(d,S),!1}d=d.return}while(d!==null);return!1}var ea=Error(i(461)),Ui=!1;function Oi(a,o,d,g){o.child=a===null?Gr(o,null,d,g):Hr(o,a.child,d,g)}function hm(a,o,d,g,S){d=d.render;var A=o.ref;if("ref"in g){var O={};for(var G in g)G!=="ref"&&(O[G]=g[G])}else O=g;return Fl(o),g=$p(a,o,d,O,A,S),G=Jp(),a!==null&&!Ui?(of(a,o,S),li(a,o,S)):(mn&&G&&$u(o),o.flags|=1,Oi(a,o,g,S),o.child)}function dm(a,o,d,g,S){if(a===null){var A=d.type;return typeof A=="function"&&!no(A)&&A.defaultProps===void 0&&d.compare===null?(o.tag=15,o.type=A,pm(a,o,A,g,S)):(a=Yc(d.type,null,g,o,o.mode,S),a.ref=o.ref,a.return=o,o.child=a)}if(A=a.child,!Sm(a,S)){var O=A.memoizedProps;if(d=d.compare,d=d!==null?d:ja,d(O,g)&&a.ref===o.ref)return li(a,o,S)}return o.flags|=1,a=Ts(A,g),a.ref=o.ref,a.return=o,o.child=a}function pm(a,o,d,g,S){if(a!==null){var A=a.memoizedProps;if(ja(A,g)&&a.ref===o.ref)if(Ui=!1,o.pendingProps=g=A,Sm(a,S))a.flags&131072&&(Ui=!0);else return o.lanes=a.lanes,li(a,o,S)}return gm(a,o,d,g,S)}function Pv(a,o,d){var g=o.pendingProps,S=g.children,A=(o.stateNode._pendingVisibility&2)!==0,O=a!==null?a.memoizedState:null;if(Ic(a,o),g.mode==="hidden"||A){if(o.flags&128){if(g=O!==null?O.baseLanes|d:d,a!==null){for(S=o.child=a.child,A=0;S!==null;)A=A|S.lanes|S.childLanes,S=S.sibling;o.childLanes=A&~g}else o.childLanes=0,o.child=null;return mm(a,o,g,d)}if(d&536870912)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Oc(o,O!==null?O.cachePool:null),O!==null?Vo(o,O):zh(),Zp(o);else return o.lanes=o.childLanes=536870912,mm(a,o,O!==null?O.baseLanes|d:d,d)}else O!==null?(Oc(o,O.cachePool),Vo(o,O),jr(),o.memoizedState=null):(a!==null&&Oc(o,null),zh(),jr());return Oi(a,o,S,d),o.child}function mm(a,o,d,g){var S=rf();return S=S===null?null:{parent:ri._currentValue,pool:S},o.memoizedState={baseLanes:d,cachePool:S},a!==null&&Oc(o,null),zh(),Zp(o),a!==null&&ff(a,o,g,!0),null}function Ic(a,o){var d=o.ref;if(d===null)a!==null&&a.ref!==null&&(o.flags|=2097664);else{if(typeof d!="function"&&typeof d!="object")throw Error(i(284));(a===null||a.ref!==d)&&(o.flags|=2097664)}}function gm(a,o,d,g,S){return Fl(o),d=$p(a,o,d,g,void 0,S),g=Jp(),a!==null&&!Ui?(of(a,o,S),li(a,o,S)):(mn&&g&&$u(o),o.flags|=1,Oi(a,o,d,S),o.child)}function zv(a,o,d,g,S,A){return Fl(o),o.updateQueue=null,d=tv(o,g,d,S),J0(a),g=Jp(),a!==null&&!Ui?(of(a,o,A),li(a,o,A)):(mn&&g&&$u(o),o.flags|=1,Oi(a,o,d,A),o.child)}function Bv(a,o,d,g,S){if(Fl(o),o.stateNode===null){var A=Lo,O=d.contextType;typeof O=="object"&&O!==null&&(A=rs(O)),A=new d(g,A),o.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=cm,o.stateNode=A,A._reactInternals=o,A=o.stateNode,A.props=g,A.state=o.memoizedState,A.refs={},bs(o),O=d.contextType,A.context=typeof O=="object"&&O!==null?rs(O):Lo,A.state=o.memoizedState,O=d.getDerivedStateFromProps,typeof O=="function"&&(lm(o,d,O,g),A.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(O=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),O!==A.state&&cm.enqueueReplaceState(A,A.state,null),Wa(o,g,A,S),os(),A.state=o.memoizedState),typeof A.componentDidMount=="function"&&(o.flags|=4194308),g=!0}else if(a===null){A=o.stateNode;var G=o.memoizedProps,$=Vl(d,G);A.props=$;var ut=A.context,Lt=d.contextType;O=Lo,typeof Lt=="object"&&Lt!==null&&(O=rs(Lt));var jt=d.getDerivedStateFromProps;Lt=typeof jt=="function"||typeof A.getSnapshotBeforeUpdate=="function",G=o.pendingProps!==G,Lt||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(G||ut!==O)&&Rv(o,A,g,O),bi=!1;var bt=o.memoizedState;A.state=bt,Wa(o,g,A,S),os(),ut=o.memoizedState,G||bt!==ut||bi?(typeof jt=="function"&&(lm(o,d,jt,g),ut=o.memoizedState),($=bi||Cv(o,d,$,g,bt,ut,O))?(Lt||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(o.flags|=4194308)):(typeof A.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=g,o.memoizedState=ut),A.props=g,A.state=ut,A.context=O,g=$):(typeof A.componentDidMount=="function"&&(o.flags|=4194308),g=!1)}else{A=o.stateNode,Jh(a,o),O=o.memoizedProps,Lt=Vl(d,O),A.props=Lt,jt=o.pendingProps,bt=A.context,ut=d.contextType,$=Lo,typeof ut=="object"&&ut!==null&&($=rs(ut)),G=d.getDerivedStateFromProps,(ut=typeof G=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(O!==jt||bt!==$)&&Rv(o,A,g,$),bi=!1,bt=o.memoizedState,A.state=bt,Wa(o,g,A,S),os();var Ct=o.memoizedState;O!==jt||bt!==Ct||bi||a!==null&&a.dependencies!==null&&Hc(a.dependencies)?(typeof G=="function"&&(lm(o,d,G,g),Ct=o.memoizedState),(Lt=bi||Cv(o,d,Lt,g,bt,Ct,$)||a!==null&&a.dependencies!==null&&Hc(a.dependencies))?(ut||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(g,Ct,$),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(g,Ct,$)),typeof A.componentDidUpdate=="function"&&(o.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof A.componentDidUpdate!="function"||O===a.memoizedProps&&bt===a.memoizedState||(o.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&bt===a.memoizedState||(o.flags|=1024),o.memoizedProps=g,o.memoizedState=Ct),A.props=g,A.state=Ct,A.context=$,g=Lt):(typeof A.componentDidUpdate!="function"||O===a.memoizedProps&&bt===a.memoizedState||(o.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&bt===a.memoizedState||(o.flags|=1024),g=!1)}return A=g,Ic(a,o),g=(o.flags&128)!==0,A||g?(A=o.stateNode,d=g&&typeof d.getDerivedStateFromError!="function"?null:A.render(),o.flags|=1,a!==null&&g?(o.child=Hr(o,a.child,null,S),o.child=Hr(o,null,d,S)):Oi(a,o,d,S),o.memoizedState=A.state,a=o.child):a=li(a,o,S),a}function vm(a,o,d,g){return Nc(),o.flags|=256,Oi(a,o,d,g),o.child}var ym={dehydrated:null,treeContext:null,retryLane:0};function Fi(a){return{baseLanes:a,cachePool:qr()}}function Wh(a,o,d){return a=a!==null?a.childLanes&~d:0,o&&(a|=Es),a}function Vv(a,o,d){var g=o.pendingProps,S=!1,A=(o.flags&128)!==0,O;if((O=A)||(O=a!==null&&a.memoizedState===null?!1:(_i.current&2)!==0),O&&(S=!0,o.flags&=-129),O=(o.flags&32)!==0,o.flags&=-33,a===null){if(mn){if(S?kr(o):jr(),mn){var G=Ii,$;if($=G){t:{for($=G,G=_a;$.nodeType!==8;){if(!G){G=null;break t}if($=oo($.nextSibling),$===null){G=null;break t}}G=$}G!==null?(o.memoizedState={dehydrated:G,treeContext:Ir!==null?{id:or,overflow:Fr}:null,retryLane:536870912},$=hi(18,null,null,0),$.stateNode=G,$.return=o,o.child=$,as=o,Ii=null,$=!0):$=!1}$||Dl(o)}if(G=o.memoizedState,G!==null&&(G=G.dehydrated,G!==null))return G.data==="$!"?o.lanes=16:o.lanes=536870912,null;ur(o)}return G=g.children,g=g.fallback,S?(jr(),S=o.mode,G=_m({mode:"hidden",children:G},S),g=nl(g,S,d,null),G.return=o,g.return=o,G.sibling=g,o.child=G,S=o.child,S.memoizedState=Fi(d),S.childLanes=Wh(a,O,d),o.memoizedState=ym,g):(kr(o),xm(o,G))}if($=a.memoizedState,$!==null&&(G=$.dehydrated,G!==null)){if(A)o.flags&256?(kr(o),o.flags&=-257,o=Zh(a,o,d)):o.memoizedState!==null?(jr(),o.child=a.child,o.flags|=128,o=null):(jr(),S=g.fallback,G=o.mode,g=_m({mode:"visible",children:g.children},G),S=nl(S,G,d,null),S.flags|=2,g.return=o,S.return=o,g.sibling=S,o.child=g,Hr(o,a.child,null,d),g=o.child,g.memoizedState=Fi(d),g.childLanes=Wh(a,O,d),o.memoizedState=ym,o=S);else if(kr(o),G.data==="$!"){if(O=G.nextSibling&&G.nextSibling.dataset,O)var ut=O.dgst;O=ut,g=Error(i(419)),g.stack="",g.digest=O,lr({value:g,source:null,stack:null}),o=Zh(a,o,d)}else if(Ui||ff(a,o,d,!1),O=(d&a.childLanes)!==0,Ui||O){if(O=Ln,O!==null){if(g=d&-d,g&42)g=1;else switch(g){case 2:g=1;break;case 8:g=4;break;case 32:g=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:g=64;break;case 268435456:g=134217728;break;default:g=0}if(g=g&(O.suspendedLanes|d)?0:g,g!==0&&g!==$.retryLane)throw $.retryLane=g,Vr(a,g),Ei(O,a,g),ea}G.data==="$?"||xf(),o=Zh(a,o,d)}else G.data==="$?"?(o.flags|=128,o.child=a.child,o=Yl.bind(null,a),G._reactRetry=o,o=null):(a=$.treeContext,Ii=oo(G.nextSibling),as=o,mn=!0,xa=null,_a=!1,a!==null&&(Hn[Js++]=or,Hn[Js++]=Fr,Hn[Js++]=Ir,or=a.id,Fr=a.overflow,Ir=o),o=xm(o,g.children),o.flags|=4096);return o}return S?(jr(),S=g.fallback,G=o.mode,$=a.child,ut=$.sibling,g=Ts($,{mode:"hidden",children:g.children}),g.subtreeFlags=$.subtreeFlags&31457280,ut!==null?S=Ts(ut,S):(S=nl(S,G,d,null),S.flags|=2),S.return=o,g.return=o,g.sibling=S,o.child=g,g=S,S=o.child,G=a.child.memoizedState,G===null?G=Fi(d):($=G.cachePool,$!==null?(ut=ri._currentValue,$=$.parent!==ut?{parent:ut,pool:ut}:$):$=qr(),G={baseLanes:G.baseLanes|d,cachePool:$}),S.memoizedState=G,S.childLanes=Wh(a,O,d),o.memoizedState=ym,g):(kr(o),d=a.child,a=d.sibling,d=Ts(d,{mode:"visible",children:g.children}),d.return=o,d.sibling=null,a!==null&&(O=o.deletions,O===null?(o.deletions=[a],o.flags|=16):O.push(a)),o.child=d,o.memoizedState=null,d)}function xm(a,o){return o=_m({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function _m(a,o){return Mm(a,o,0,null)}function Zh(a,o,d){return Hr(o,a.child,null,d),a=xm(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function Kh(a,o,d){a.lanes|=o;var g=a.alternate;g!==null&&(g.lanes|=o),na(a.return,o,d)}function Wo(a,o,d,g,S){var A=a.memoizedState;A===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:S}:(A.isBackwards=o,A.rendering=null,A.renderingStartTime=0,A.last=g,A.tail=d,A.tailMode=S)}function Il(a,o,d){var g=o.pendingProps,S=g.revealOrder,A=g.tail;if(Oi(a,o,g.children,d),g=_i.current,g&2)g=g&1|2,o.flags|=128;else{if(a!==null&&a.flags&128)t:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Kh(a,d,o);else if(a.tag===19)Kh(a,d,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break t;for(;a.sibling===null;){if(a.return===null||a.return===o)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}switch(qt(_i,g),S){case"forwards":for(d=o.child,S=null;d!==null;)a=d.alternate,a!==null&&Uc(a)===null&&(S=d),d=d.sibling;d=S,d===null?(S=o.child,o.child=null):(S=d.sibling,d.sibling=null),Wo(o,!1,S,d,A);break;case"backwards":for(d=null,S=o.child,o.child=null;S!==null;){if(a=S.alternate,a!==null&&Uc(a)===null){o.child=S;break}a=S.sibling,S.sibling=d,d=S,S=a}Wo(o,!0,d,null,A);break;case"together":Wo(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function li(a,o,d){if(a!==null&&(o.dependencies=a.dependencies),Ja|=o.lanes,!(d&o.childLanes))if(a!==null){if(ff(a,o,d,!1),(d&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(i(153));if(o.child!==null){for(a=o.child,d=Ts(a,a.pendingProps),o.child=d,d.return=o;a.sibling!==null;)a=a.sibling,d=d.sibling=Ts(a,a.pendingProps),d.return=o;d.sibling=null}return o.child}function Sm(a,o){return a.lanes&o?!0:(a=a.dependencies,!!(a!==null&&Hc(a)))}function CS(a,o,d){switch(o.tag){case 3:ue(o,o.stateNode.containerInfo),Zo(o,ri,a.memoizedState.cache),Nc();break;case 27:case 5:$t(o);break;case 4:ue(o,o.stateNode.containerInfo);break;case 10:Zo(o,o.type,o.memoizedProps.value);break;case 13:var g=o.memoizedState;if(g!==null)return g.dehydrated!==null?(kr(o),o.flags|=128,null):d&o.child.childLanes?Vv(a,o,d):(kr(o),a=li(a,o,d),a!==null?a.sibling:null);kr(o);break;case 19:var S=(a.flags&128)!==0;if(g=(d&o.childLanes)!==0,g||(ff(a,o,d,!1),g=(d&o.childLanes)!==0),S){if(g)return Il(a,o,d);o.flags|=128}if(S=o.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),qt(_i,_i.current),g)break;return null;case 22:case 23:return o.lanes=0,Pv(a,o,d);case 24:Zo(o,ri,a.memoizedState.cache)}return li(a,o,d)}function uf(a,o,d){if(a!==null)if(a.memoizedProps!==o.pendingProps)Ui=!0;else{if(!Sm(a,d)&&!(o.flags&128))return Ui=!1,CS(a,o,d);Ui=!!(a.flags&131072)}else Ui=!1,mn&&o.flags&1048576&&Yp(o,Qu,o.index);switch(o.lanes=0,o.tag){case 16:t:{a=o.pendingProps;var g=o.elementType,S=g._init;if(g=S(g._payload),o.type=g,typeof g=="function")no(g)?(a=Vl(g,a),o.tag=1,o=Bv(null,o,g,a,d)):(o.tag=0,o=gm(null,o,g,a,d));else{if(g!=null){if(S=g.$$typeof,S===T){o.tag=11,o=hm(null,o,g,a,d);break t}else if(S===M){o.tag=14,o=dm(null,o,g,a,d);break t}}throw o=V(g)||g,Error(i(306,o,""))}}return o;case 0:return gm(a,o,o.type,o.pendingProps,d);case 1:return g=o.type,S=Vl(g,o.pendingProps),Bv(a,o,g,S,d);case 3:t:{if(ue(o,o.stateNode.containerInfo),a===null)throw Error(i(387));var A=o.pendingProps;S=o.memoizedState,g=S.element,Jh(a,o),Wa(o,A,null,d);var O=o.memoizedState;if(A=O.cache,Zo(o,ri,A),A!==S.cache&&Qh(o,[ri],d,!0),os(),A=O.element,S.isDehydrated)if(S={element:A,isDehydrated:!1,cache:O.cache},o.updateQueue.baseState=S,o.memoizedState=S,o.flags&256){o=vm(a,o,A,d);break t}else if(A!==g){g=Ps(Error(i(424)),o),lr(g),o=vm(a,o,A,d);break t}else for(Ii=oo(o.stateNode.containerInfo.firstChild),as=o,mn=!0,xa=null,_a=!0,d=Gr(o,null,A,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Nc(),A===g){o=li(a,o,d);break t}Oi(a,o,A,d)}o=o.child}return o;case 26:return Ic(a,o),a===null?(d=EA(o.type,null,o.pendingProps,null))?o.memoizedState=d:mn||(d=o.type,a=o.pendingProps,g=Xv(Rt.current).createElement(d),g[ei]=o,g[Ze]=a,ws(g,d,a),gt(g),o.stateNode=g):o.memoizedState=EA(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return $t(o),a===null&&mn&&(g=o.stateNode=bA(o.type,o.pendingProps,Rt.current),as=o,_a=!0,Ii=oo(g.firstChild)),g=o.pendingProps.children,a!==null||mn?Oi(a,o,g,d):o.child=Hr(o,null,g,d),Ic(a,o),o.child;case 5:return a===null&&mn&&((S=g=Ii)&&(g=fz(g,o.type,o.pendingProps,_a),g!==null?(o.stateNode=g,as=o,Ii=oo(g.firstChild),_a=!1,S=!0):S=!1),S||Dl(o)),$t(o),S=o.type,A=o.pendingProps,O=a!==null?a.memoizedProps:null,g=A.children,IS(S,A)?g=null:O!==null&&IS(S,O)&&(o.flags|=32),o.memoizedState!==null&&(S=$p(a,o,MS,null,null,d),Lm._currentValue=S),Ic(a,o),Oi(a,o,g,d),o.child;case 6:return a===null&&mn&&((a=d=Ii)&&(d=hz(d,o.pendingProps,_a),d!==null?(o.stateNode=d,as=o,Ii=null,a=!0):a=!1),a||Dl(o)),null;case 13:return Vv(a,o,d);case 4:return ue(o,o.stateNode.containerInfo),g=o.pendingProps,a===null?o.child=Hr(o,null,g,d):Oi(a,o,g,d),o.child;case 11:return hm(a,o,o.type,o.pendingProps,d);case 7:return Oi(a,o,o.pendingProps,d),o.child;case 8:return Oi(a,o,o.pendingProps.children,d),o.child;case 12:return Oi(a,o,o.pendingProps.children,d),o.child;case 10:return g=o.pendingProps,Zo(o,o.type,g.value),Oi(a,o,g.children,d),o.child;case 9:return S=o.type._context,g=o.pendingProps.children,Fl(o),S=rs(S),g=g(S),o.flags|=1,Oi(a,o,g,d),o.child;case 14:return dm(a,o,o.type,o.pendingProps,d);case 15:return pm(a,o,o.type,o.pendingProps,d);case 19:return Il(a,o,d);case 22:return Pv(a,o,d);case 24:return Fl(o),g=rs(ri),a===null?(S=rf(),S===null&&(S=Ln,A=Kp(),S.pooledCache=A,A.refCount++,A!==null&&(S.pooledCacheLanes|=d),S=A),o.memoizedState={parent:g,cache:S},bs(o),Zo(o,ri,S)):(a.lanes&d&&(Jh(a,o),Wa(o,null,null,d),os()),S=a.memoizedState,A=o.memoizedState,S.parent!==g?(S={parent:g,cache:g},o.memoizedState=S,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=S),Zo(o,ri,g)):(g=A.cache,Zo(o,ri,g),g!==S.cache&&Qh(o,[ri],d,!0))),Oi(a,o,o.pendingProps.children,d),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}var Fc=kt(null),pr=null,Ya=null;function Zo(a,o,d){qt(Fc,o._currentValue),o._currentValue=d}function Kr(a){a._currentValue=Fc.current,ye(Fc)}function na(a,o,d){for(;a!==null;){var g=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,g!==null&&(g.childLanes|=o)):g!==null&&(g.childLanes&o)!==o&&(g.childLanes|=o),a===d)break;a=a.return}}function Qh(a,o,d,g){var S=a.child;for(S!==null&&(S.return=a);S!==null;){var A=S.dependencies;if(A!==null){var O=S.child;A=A.firstContext;t:for(;A!==null;){var G=A;A=S;for(var $=0;$<o.length;$++)if(G.context===o[$]){A.lanes|=d,G=A.alternate,G!==null&&(G.lanes|=d),na(A.return,d,a),g||(O=null);break t}A=G.next}}else if(S.tag===18){if(O=S.return,O===null)throw Error(i(341));O.lanes|=d,A=O.alternate,A!==null&&(A.lanes|=d),na(O,d,a),O=null}else O=S.child;if(O!==null)O.return=S;else for(O=S;O!==null;){if(O===a){O=null;break}if(S=O.sibling,S!==null){S.return=O.return,O=S;break}O=O.return}S=O}}function ff(a,o,d,g){a=null;for(var S=o,A=!1;S!==null;){if(!A){if(S.flags&524288)A=!0;else if(S.flags&262144)break}if(S.tag===10){var O=S.alternate;if(O===null)throw Error(i(387));if(O=O.memoizedProps,O!==null){var G=S.type;Ls(S.pendingProps.value,O.value)||(a!==null?a.push(G):a=[G])}}else if(S===Y.current){if(O=S.alternate,O===null)throw Error(i(387));O.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(a!==null?a.push(Lm):a=[Lm])}S=S.return}a!==null&&Qh(o,a,d,g),o.flags|=262144}function Hc(a){for(a=a.firstContext;a!==null;){if(!Ls(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Fl(a){pr=a,Ya=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function rs(a){return Gc(pr,a)}function $h(a,o){return pr===null&&Fl(a),Gc(a,o)}function Gc(a,o){var d=o._currentValue;if(o={context:o,memoizedValue:d,next:null},Ya===null){if(a===null)throw Error(i(308));Ya=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Ya=Ya.next=o;return d}var bi=!1;function bs(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jh(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function ia(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function sa(a,o,d){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,Ge&2){var S=g.pending;return S===null?o.next=o:(o.next=S.next,S.next=o),g.pending=o,o=Ku(a),Zu(a,null,d),o}return Wu(a,g,o,d),Ku(a)}function Ko(a,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194176)!==0)){var g=o.lanes;g&=a.pendingLanes,d|=g,o.lanes=d,ga(a,d)}}function kc(a,o){var d=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var S=null,A=null;if(d=d.firstBaseUpdate,d!==null){do{var O={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};A===null?S=A=O:A=A.next=O,d=d.next}while(d!==null);A===null?S=A=o:A=A.next=o}else S=A=o;d={baseState:g.baseState,firstBaseUpdate:S,lastBaseUpdate:A,shared:g.shared,callbacks:g.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=o:a.next=o,d.lastBaseUpdate=o}var Vs=!1;function os(){if(Vs){var a=Ho;if(a!==null)throw a}}function Wa(a,o,d,g){Vs=!1;var S=a.updateQueue;bi=!1;var A=S.firstBaseUpdate,O=S.lastBaseUpdate,G=S.shared.pending;if(G!==null){S.shared.pending=null;var $=G,ut=$.next;$.next=null,O===null?A=ut:O.next=ut,O=$;var Lt=a.alternate;Lt!==null&&(Lt=Lt.updateQueue,G=Lt.lastBaseUpdate,G!==O&&(G===null?Lt.firstBaseUpdate=ut:G.next=ut,Lt.lastBaseUpdate=$))}if(A!==null){var jt=S.baseState;O=0,Lt=ut=$=null,G=A;do{var bt=G.lane&-536870913,Ct=bt!==G.lane;if(Ct?(Re&bt)===bt:(g&bt)===bt){bt!==0&&bt===Ul&&(Vs=!0),Lt!==null&&(Lt=Lt.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});t:{var Ee=a,je=G;bt=o;var Ai=d;switch(je.tag){case 1:if(Ee=je.payload,typeof Ee=="function"){jt=Ee.call(Ai,jt,bt);break t}jt=Ee;break t;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=je.payload,bt=typeof Ee=="function"?Ee.call(Ai,jt,bt):Ee,bt==null)break t;jt=P({},jt,bt);break t;case 2:bi=!0}}bt=G.callback,bt!==null&&(a.flags|=64,Ct&&(a.flags|=8192),Ct=S.callbacks,Ct===null?S.callbacks=[bt]:Ct.push(bt))}else Ct={lane:bt,tag:G.tag,payload:G.payload,callback:G.callback,next:null},Lt===null?(ut=Lt=Ct,$=jt):Lt=Lt.next=Ct,O|=bt;if(G=G.next,G===null){if(G=S.shared.pending,G===null)break;Ct=G,G=Ct.next,Ct.next=null,S.lastBaseUpdate=Ct,S.shared.pending=null}}while(!0);Lt===null&&($=jt),S.baseState=$,S.firstBaseUpdate=ut,S.lastBaseUpdate=Lt,A===null&&(S.shared.lanes=0),Ja|=O,a.lanes=O,a.memoizedState=jt}}function mr(a,o){if(typeof a!="function")throw Error(i(191,a));a.call(o)}function gr(a,o){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)mr(d[a],o)}function ci(a,o){try{var d=o.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var S=g.next;d=S;do{if((d.tag&a)===a){g=void 0;var A=d.create,O=d.inst;g=A(),O.destroy=g}d=d.next}while(d!==S)}}catch(G){Yt(o,o.return,G)}}function Sa(a,o,d){try{var g=o.updateQueue,S=g!==null?g.lastEffect:null;if(S!==null){var A=S.next;g=A;do{if((g.tag&a)===a){var O=g.inst,G=O.destroy;if(G!==void 0){O.destroy=void 0,S=o;var $=d;try{G()}catch(ut){Yt(S,$,ut)}}}g=g.next}while(g!==A)}}catch(ut){Yt(o,o.return,ut)}}function Qr(a){var o=a.updateQueue;if(o!==null){var d=a.stateNode;try{gr(o,d)}catch(g){Yt(a,a.return,g)}}}function hf(a,o,d){d.props=Vl(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(g){Yt(a,o,g)}}function ui(a,o){try{var d=a.ref;if(d!==null){var g=a.stateNode;switch(a.tag){case 26:case 27:case 5:var S=g;break;default:S=g}typeof d=="function"?a.refCleanup=d(S):d.current=S}}catch(A){Yt(a,o,A)}}function Nn(a,o){var d=a.ref,g=a.refCleanup;if(d!==null)if(typeof g=="function")try{g()}catch(S){Yt(a,o,S)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(S){Yt(a,o,S)}else d.current=null}function gn(a){var o=a.type,d=a.memoizedProps,g=a.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":d.autoFocus&&g.focus();break t;case"img":d.src?g.src=d.src:d.srcSet&&(g.srcset=d.srcSet)}}catch(S){Yt(a,a.return,S)}}function ba(a,o,d){try{var g=a.stateNode;rz(g,a.type,d,o),g[Ze]=o}catch(S){Yt(a,a.return,S)}}function Za(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27||a.tag===4}function df(a){t:for(;;){for(;a.sibling===null;){if(a.return===null||Za(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==27&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue t;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Is(a,o,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,o?d.nodeType===8?d.parentNode.insertBefore(a,o):d.insertBefore(a,o):(d.nodeType===8?(o=d.parentNode,o.insertBefore(a,d)):(o=d,o.appendChild(a)),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=jv));else if(g!==4&&g!==27&&(a=a.child,a!==null))for(Is(a,o,d),a=a.sibling;a!==null;)Is(a,o,d),a=a.sibling}function $r(a,o,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,o?d.insertBefore(a,o):d.appendChild(a);else if(g!==4&&g!==27&&(a=a.child,a!==null))for($r(a,o,d),a=a.sibling;a!==null;)$r(a,o,d),a=a.sibling}var Ka=!1,Xn=!1,Qo=!1,td=typeof WeakSet=="function"?WeakSet:Set,fi=null,ed=!1;function jc(a,o){if(a=a.containerInfo,BS=Qv,a=Hp(a),qu(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else t:{d=(d=a.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var S=g.anchorOffset,A=g.focusNode;g=g.focusOffset;try{d.nodeType,A.nodeType}catch{d=null;break t}var O=0,G=-1,$=-1,ut=0,Lt=0,jt=a,bt=null;e:for(;;){for(var Ct;jt!==d||S!==0&&jt.nodeType!==3||(G=O+S),jt!==A||g!==0&&jt.nodeType!==3||($=O+g),jt.nodeType===3&&(O+=jt.nodeValue.length),(Ct=jt.firstChild)!==null;)bt=jt,jt=Ct;for(;;){if(jt===a)break e;if(bt===d&&++ut===S&&(G=O),bt===A&&++Lt===g&&($=O),(Ct=jt.nextSibling)!==null)break;jt=bt,bt=jt.parentNode}jt=Ct}d=G===-1||$===-1?null:{start:G,end:$}}else d=null}d=d||{start:0,end:0}}else d=null;for(VS={focusedElem:a,selectionRange:d},Qv=!1,fi=o;fi!==null;)if(o=fi,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,fi=a;else for(;fi!==null;){switch(o=fi,A=o.alternate,a=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if(a&1024&&A!==null){a=void 0,d=o,S=A.memoizedProps,A=A.memoizedState,g=d.stateNode;try{var Ee=Vl(d.type,S,d.elementType===d.type);a=g.getSnapshotBeforeUpdate(Ee,A),g.__reactInternalSnapshotBeforeUpdate=a}catch(je){Yt(d,d.return,je)}}break;case 3:if(a&1024){if(a=o.stateNode.containerInfo,d=a.nodeType,d===9)GS(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":GS(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(a&1024)throw Error(i(163))}if(a=o.sibling,a!==null){a.return=o.return,fi=a;break}fi=o.return}return Ee=ed,ed=!1,Ee}function Xc(a,o,d){var g=d.flags;switch(d.tag){case 0:case 11:case 15:vr(a,d),g&4&&ci(5,d);break;case 1:if(vr(a,d),g&4)if(a=d.stateNode,o===null)try{a.componentDidMount()}catch(G){Yt(d,d.return,G)}else{var S=Vl(d.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(S,o,a.__reactInternalSnapshotBeforeUpdate)}catch(G){Yt(d,d.return,G)}}g&64&&Qr(d),g&512&&ui(d,d.return);break;case 3:if(vr(a,d),g&64&&(g=d.updateQueue,g!==null)){if(a=null,d.child!==null)switch(d.child.tag){case 27:case 5:a=d.child.stateNode;break;case 1:a=d.child.stateNode}try{gr(g,a)}catch(G){Yt(d,d.return,G)}}break;case 26:vr(a,d),g&512&&ui(d,d.return);break;case 27:case 5:vr(a,d),o===null&&g&4&&gn(d),g&512&&ui(d,d.return);break;case 12:vr(a,d);break;case 13:vr(a,d),g&4&&Iv(a,d);break;case 22:if(S=d.memoizedState!==null||Ka,!S){o=o!==null&&o.memoizedState!==null||Xn;var A=Ka,O=Xn;Ka=S,(Xn=o)&&!O?$a(a,d,(d.subtreeFlags&8772)!==0):vr(a,d),Ka=A,Xn=O}g&512&&(d.memoizedProps.mode==="manual"?ui(d,d.return):Nn(d,d.return));break;default:vr(a,d)}}function nd(a){var o=a.alternate;o!==null&&(a.alternate=null,nd(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&Sl(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var qn=null,Hi=!1;function ls(a,o,d){for(d=d.child;d!==null;)id(a,o,d),d=d.sibling}function id(a,o,d){if(ve&&typeof ve.onCommitFiberUnmount=="function")try{ve.onCommitFiberUnmount(xe,d)}catch{}switch(d.tag){case 26:Xn||Nn(d,o),ls(a,o,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Xn||Nn(d,o);var g=qn,S=Hi;for(qn=d.stateNode,ls(a,o,d),d=d.stateNode,o=d.attributes;o.length;)d.removeAttributeNode(o[0]);Sl(d),qn=g,Hi=S;break;case 5:Xn||Nn(d,o);case 6:S=qn;var A=Hi;if(qn=null,ls(a,o,d),qn=S,Hi=A,qn!==null)if(Hi)try{a=qn,g=d.stateNode,a.nodeType===8?a.parentNode.removeChild(g):a.removeChild(g)}catch(O){Yt(d,o,O)}else try{qn.removeChild(d.stateNode)}catch(O){Yt(d,o,O)}break;case 18:qn!==null&&(Hi?(o=qn,d=d.stateNode,o.nodeType===8?HS(o.parentNode,d):o.nodeType===1&&HS(o,d),zm(o)):HS(qn,d.stateNode));break;case 4:g=qn,S=Hi,qn=d.stateNode.containerInfo,Hi=!0,ls(a,o,d),qn=g,Hi=S;break;case 0:case 11:case 14:case 15:Xn||Sa(2,d,o),Xn||Sa(4,d,o),ls(a,o,d);break;case 1:Xn||(Nn(d,o),g=d.stateNode,typeof g.componentWillUnmount=="function"&&hf(d,o,g)),ls(a,o,d);break;case 21:ls(a,o,d);break;case 22:Xn||Nn(d,o),Xn=(g=Xn)||d.memoizedState!==null,ls(a,o,d),Xn=g;break;default:ls(a,o,d)}}function Iv(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{zm(a)}catch(d){Yt(o,o.return,d)}}function pf(a){switch(a.tag){case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new td),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new td),o;default:throw Error(i(435,a.tag))}}function mf(a,o){var d=pf(a);o.forEach(function(g){var S=St.bind(null,a,g);d.has(g)||(d.add(g),g.then(S,S))})}function Ms(a,o){var d=o.deletions;if(d!==null)for(var g=0;g<d.length;g++){var S=d[g],A=a,O=o,G=O;t:for(;G!==null;){switch(G.tag){case 27:case 5:qn=G.stateNode,Hi=!1;break t;case 3:qn=G.stateNode.containerInfo,Hi=!0;break t;case 4:qn=G.stateNode.containerInfo,Hi=!0;break t}G=G.return}if(qn===null)throw Error(i(160));id(A,O,S),qn=null,Hi=!1,A=S.alternate,A!==null&&(A.return=null),S.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)Hl(o,a),o=o.sibling}var cs=null;function Hl(a,o){var d=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Ms(o,a),us(a),g&4&&(Sa(3,a,a.return),ci(3,a),Sa(5,a,a.return));break;case 1:Ms(o,a),us(a),g&512&&(Xn||d===null||Nn(d,d.return)),g&64&&Ka&&(a=a.updateQueue,a!==null&&(g=a.callbacks,g!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?g:d.concat(g))));break;case 26:var S=cs;if(Ms(o,a),us(a),g&512&&(Xn||d===null||Nn(d,d.return)),g&4){var A=d!==null?d.memoizedState:null;if(g=a.memoizedState,d===null)if(g===null)if(a.stateNode===null){t:{g=a.type,d=a.memoizedProps,S=S.ownerDocument||S;e:switch(g){case"title":A=S.getElementsByTagName("title")[0],(!A||A[Rr]||A[ei]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=S.createElement(g),S.head.insertBefore(A,S.querySelector("head > title"))),ws(A,g,d),A[ei]=a,gt(A),g=A;break t;case"link":var O=CA("link","href",S).get(g+(d.href||""));if(O){for(var G=0;G<O.length;G++)if(A=O[G],A.getAttribute("href")===(d.href==null?null:d.href)&&A.getAttribute("rel")===(d.rel==null?null:d.rel)&&A.getAttribute("title")===(d.title==null?null:d.title)&&A.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){O.splice(G,1);break e}}A=S.createElement(g),ws(A,g,d),S.head.appendChild(A);break;case"meta":if(O=CA("meta","content",S).get(g+(d.content||""))){for(G=0;G<O.length;G++)if(A=O[G],A.getAttribute("content")===(d.content==null?null:""+d.content)&&A.getAttribute("name")===(d.name==null?null:d.name)&&A.getAttribute("property")===(d.property==null?null:d.property)&&A.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&A.getAttribute("charset")===(d.charSet==null?null:d.charSet)){O.splice(G,1);break e}}A=S.createElement(g),ws(A,g,d),S.head.appendChild(A);break;default:throw Error(i(468,g))}A[ei]=a,gt(A),g=A}a.stateNode=g}else RA(S,a.type,a.stateNode);else a.stateNode=wA(S,g,a.memoizedProps);else A!==g?(A===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):A.count--,g===null?RA(S,a.type,a.stateNode):wA(S,g,a.memoizedProps)):g===null&&a.stateNode!==null&&ba(a,a.memoizedProps,d.memoizedProps)}break;case 27:if(g&4&&a.alternate===null){S=a.stateNode,A=a.memoizedProps;try{for(var $=S.firstChild;$;){var ut=$.nextSibling,Lt=$.nodeName;$[Rr]||Lt==="HEAD"||Lt==="BODY"||Lt==="SCRIPT"||Lt==="STYLE"||Lt==="LINK"&&$.rel.toLowerCase()==="stylesheet"||S.removeChild($),$=ut}for(var jt=a.type,bt=S.attributes;bt.length;)S.removeAttributeNode(bt[0]);ws(S,jt,A),S[ei]=a,S[Ze]=A}catch(Ee){Yt(a,a.return,Ee)}}case 5:if(Ms(o,a),us(a),g&512&&(Xn||d===null||Nn(d,d.return)),a.flags&32){S=a.stateNode;try{ys(S,"")}catch(Ee){Yt(a,a.return,Ee)}}g&4&&a.stateNode!=null&&(S=a.memoizedProps,ba(a,S,d!==null?d.memoizedProps:S)),g&1024&&(Qo=!0);break;case 6:if(Ms(o,a),us(a),g&4){if(a.stateNode===null)throw Error(i(162));g=a.memoizedProps,d=a.stateNode;try{d.nodeValue=g}catch(Ee){Yt(a,a.return,Ee)}}break;case 3:if(Wv=null,S=cs,cs=qv(o.containerInfo),Ms(o,a),cs=S,us(a),g&4&&d!==null&&d.memoizedState.isDehydrated)try{zm(o.containerInfo)}catch(Ee){Yt(a,a.return,Ee)}Qo&&(Qo=!1,$o(a));break;case 4:g=cs,cs=qv(a.stateNode.containerInfo),Ms(o,a),us(a),cs=g;break;case 12:Ms(o,a),us(a);break;case 13:Ms(o,a),us(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Qe=wt()),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,mf(a,g)));break;case 22:if(g&512&&(Xn||d===null||Nn(d,d.return)),$=a.memoizedState!==null,ut=d!==null&&d.memoizedState!==null,Lt=Ka,jt=Xn,Ka=Lt||$,Xn=jt||ut,Ms(o,a),Xn=jt,Ka=Lt,us(a),o=a.stateNode,o._current=a,o._visibility&=-3,o._visibility|=o._pendingVisibility&2,g&8192&&(o._visibility=$?o._visibility&-2:o._visibility|1,$&&(o=Ka||Xn,d===null||ut||o||Qa(a)),a.memoizedProps===null||a.memoizedProps.mode!=="manual"))t:for(d=null,o=a;;){if(o.tag===5||o.tag===26||o.tag===27){if(d===null){ut=d=o;try{if(S=ut.stateNode,$)A=S.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{O=ut.stateNode,G=ut.memoizedProps.style;var Ct=G!=null&&G.hasOwnProperty("display")?G.display:null;O.style.display=Ct==null||typeof Ct=="boolean"?"":(""+Ct).trim()}}catch(Ee){Yt(ut,ut.return,Ee)}}}else if(o.tag===6){if(d===null){ut=o;try{ut.stateNode.nodeValue=$?"":ut.memoizedProps}catch(Ee){Yt(ut,ut.return,Ee)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break t;for(;o.sibling===null;){if(o.return===null||o.return===a)break t;d===o&&(d=null),o=o.return}d===o&&(d=null),o.sibling.return=o.return,o=o.sibling}g&4&&(g=a.updateQueue,g!==null&&(d=g.retryQueue,d!==null&&(g.retryQueue=null,mf(a,d))));break;case 19:Ms(o,a),us(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,mf(a,g)));break;case 21:break;default:Ms(o,a),us(a)}}function us(a){var o=a.flags;if(o&2){try{if(a.tag!==27){t:{for(var d=a.return;d!==null;){if(Za(d)){var g=d;break t}d=d.return}throw Error(i(160))}switch(g.tag){case 27:var S=g.stateNode,A=df(a);$r(a,A,S);break;case 5:var O=g.stateNode;g.flags&32&&(ys(O,""),g.flags&=-33);var G=df(a);$r(a,G,O);break;case 3:case 4:var $=g.stateNode.containerInfo,ut=df(a);Is(a,ut,$);break;default:throw Error(i(161))}}}catch(Lt){Yt(a,a.return,Lt)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function $o(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;$o(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function vr(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Xc(a,o.alternate,o),o=o.sibling}function Qa(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Sa(4,o,o.return),Qa(o);break;case 1:Nn(o,o.return);var d=o.stateNode;typeof d.componentWillUnmount=="function"&&hf(o,o.return,d),Qa(o);break;case 26:case 27:case 5:Nn(o,o.return),Qa(o);break;case 22:Nn(o,o.return),o.memoizedState===null&&Qa(o);break;default:Qa(o)}a=a.sibling}}function $a(a,o,d){for(d=d&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var g=o.alternate,S=a,A=o,O=A.flags;switch(A.tag){case 0:case 11:case 15:$a(S,A,d),ci(4,A);break;case 1:if($a(S,A,d),g=A,S=g.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(ut){Yt(g,g.return,ut)}if(g=A,S=g.updateQueue,S!==null){var G=g.stateNode;try{var $=S.shared.hiddenCallbacks;if($!==null)for(S.shared.hiddenCallbacks=null,S=0;S<$.length;S++)mr($[S],G)}catch(ut){Yt(g,g.return,ut)}}d&&O&64&&Qr(A),ui(A,A.return);break;case 26:case 27:case 5:$a(S,A,d),d&&g===null&&O&4&&gn(A),ui(A,A.return);break;case 12:$a(S,A,d);break;case 13:$a(S,A,d),d&&O&4&&Iv(S,A);break;case 22:A.memoizedState===null&&$a(S,A,d),ui(A,A.return);break;default:$a(S,A,d)}o=o.sibling}}function Fs(a,o){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&Io(d))}function Ma(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Io(a))}function Gn(a,o,d,g){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Jr(a,o,d,g),o=o.sibling}function Jr(a,o,d,g){var S=o.flags;switch(o.tag){case 0:case 11:case 15:Gn(a,o,d,g),S&2048&&ci(9,o);break;case 3:Gn(a,o,d,g),S&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Io(a)));break;case 12:if(S&2048){Gn(a,o,d,g),a=o.stateNode;try{var A=o.memoizedProps,O=A.id,G=A.onPostCommit;typeof G=="function"&&G(O,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch($){Yt(o,o.return,$)}}else Gn(a,o,d,g);break;case 23:break;case 22:A=o.stateNode,o.memoizedState!==null?A._visibility&4?Gn(a,o,d,g):_n(a,o):A._visibility&4?Gn(a,o,d,g):(A._visibility|=4,He(a,o,d,g,(o.subtreeFlags&10256)!==0)),S&2048&&Fs(o.alternate,o);break;case 24:Gn(a,o,d,g),S&2048&&Ma(o.alternate,o);break;default:Gn(a,o,d,g)}}function He(a,o,d,g,S){for(S=S&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var A=a,O=o,G=d,$=g,ut=O.flags;switch(O.tag){case 0:case 11:case 15:He(A,O,G,$,S),ci(8,O);break;case 23:break;case 22:var Lt=O.stateNode;O.memoizedState!==null?Lt._visibility&4?He(A,O,G,$,S):_n(A,O):(Lt._visibility|=4,He(A,O,G,$,S)),S&&ut&2048&&Fs(O.alternate,O);break;case 24:He(A,O,G,$,S),S&&ut&2048&&Ma(O.alternate,O);break;default:He(A,O,G,$,S)}o=o.sibling}}function _n(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var d=a,g=o,S=g.flags;switch(g.tag){case 22:_n(d,g),S&2048&&Fs(g.alternate,g);break;case 24:_n(d,g),S&2048&&Ma(g.alternate,g);break;default:_n(d,g)}o=o.sibling}}var Kn=8192;function to(a){if(a.subtreeFlags&Kn)for(a=a.child;a!==null;)Gl(a),a=a.sibling}function Gl(a){switch(a.tag){case 26:to(a),a.flags&Kn&&a.memoizedState!==null&&Ez(cs,a.memoizedState,a.memoizedProps);break;case 5:to(a);break;case 3:case 4:var o=cs;cs=qv(a.stateNode.containerInfo),to(a),cs=o;break;case 22:a.memoizedState===null&&(o=a.alternate,o!==null&&o.memoizedState!==null?(o=Kn,Kn=16777216,to(a),Kn=o):to(a));break;default:to(a)}}function Jo(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function tl(a){var o=a.deletions;if(a.flags&16){if(o!==null)for(var d=0;d<o.length;d++){var g=o[d];fi=g,Fv(g,a)}Jo(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)qc(a),a=a.sibling}function qc(a){switch(a.tag){case 0:case 11:case 15:tl(a),a.flags&2048&&Sa(9,a,a.return);break;case 3:tl(a);break;case 12:tl(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&4&&(a.return===null||a.return.tag!==13)?(o._visibility&=-5,eo(a)):tl(a);break;default:tl(a)}}function eo(a){var o=a.deletions;if(a.flags&16){if(o!==null)for(var d=0;d<o.length;d++){var g=o[d];fi=g,Fv(g,a)}Jo(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Sa(8,o,o.return),eo(o);break;case 22:d=o.stateNode,d._visibility&4&&(d._visibility&=-5,eo(o));break;default:eo(o)}a=a.sibling}}function Fv(a,o){for(;fi!==null;){var d=fi;switch(d.tag){case 0:case 11:case 15:Sa(8,d,o);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var g=d.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Io(d.memoizedState.cache)}if(g=d.child,g!==null)g.return=d,fi=g;else t:for(d=a;fi!==null;){g=fi;var S=g.sibling,A=g.return;if(nd(g),g===d){fi=null;break t}if(S!==null){S.return=A,fi=S;break t}fi=A}}}function bm(a,o,d,g){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hi(a,o,d,g){return new bm(a,o,d,g)}function no(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ts(a,o){var d=a.alternate;return d===null?(d=hi(a.tag,o,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=o,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&31457280,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,o=a.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function el(a,o){a.flags&=31457282;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,o=d.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function Yc(a,o,d,g,S,A){var O=0;if(g=a,typeof a=="function")no(a)&&(O=1);else if(typeof a=="string")O=Mz(a,d,le.current)?26:a==="html"||a==="head"||a==="body"?27:5;else t:switch(a){case h:return nl(d.children,S,A,o);case p:O=8,S|=24;break;case m:return a=hi(12,d,o,S|2),a.elementType=m,a.lanes=A,a;case C:return a=hi(13,d,o,S),a.elementType=C,a.lanes=A,a;case E:return a=hi(19,d,o,S),a.elementType=E,a.lanes=A,a;case D:return Mm(d,S,A,o);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case v:case _:O=10;break t;case x:O=9;break t;case T:O=11;break t;case M:O=14;break t;case R:O=16,g=null;break t}O=29,d=Error(i(130,a===null?"null":typeof a,"")),g=null}return o=hi(O,d,o,S),o.elementType=a,o.type=g,o.lanes=A,o}function nl(a,o,d,g){return a=hi(7,a,g,o),a.lanes=d,a}function Mm(a,o,d,g){a=hi(22,a,g,o),a.elementType=D,a.lanes=d;var S={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var A=S._current;if(A===null)throw Error(i(456));if(!(S._pendingVisibility&2)){var O=Vr(A,2);O!==null&&(S._pendingVisibility|=2,Ei(O,A,2))}},attach:function(){var A=S._current;if(A===null)throw Error(i(456));if(S._pendingVisibility&2){var O=Vr(A,2);O!==null&&(S._pendingVisibility&=-3,Ei(O,A,2))}}};return a.stateNode=S,a}function Mi(a,o,d){return a=hi(6,a,null,o),a.lanes=d,a}function gf(a,o,d){return o=hi(4,a.children!==null?a.children:[],a.key,o),o.lanes=d,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}function Ta(a){a.flags|=4}function il(a,o){if(o.type!=="stylesheet"||o.state.loading&4)a.flags&=-16777217;else if(a.flags|=16777216,!DA(o)){if(o=zs.current,o!==null&&((Re&4194176)===Re?cr!==null:(Re&62914560)!==Re&&!(Re&536870912)||o!==cr))throw Lc=Oh,Wp;a.flags|=8192}}function Ea(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?hn():536870912,a.lanes|=o,xr|=o)}function vf(a,o){if(!mn)switch(a.tailMode){case"hidden":o=a.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function ti(a){var o=a.alternate!==null&&a.alternate.child===a.child,d=0,g=0;if(o)for(var S=a.child;S!==null;)d|=S.lanes|S.childLanes,g|=S.subtreeFlags&31457280,g|=S.flags&31457280,S.return=a,S=S.sibling;else for(S=a.child;S!==null;)d|=S.lanes|S.childLanes,g|=S.subtreeFlags,g|=S.flags,S.return=a,S=S.sibling;return a.subtreeFlags|=g,a.childLanes=d,o}function RS(a,o,d){var g=o.pendingProps;switch(Oo(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ti(o),null;case 1:return ti(o),null;case 3:return d=o.stateNode,g=null,a!==null&&(g=a.memoizedState.cache),o.memoizedState.cache!==g&&(o.flags|=2048),Kr(ri),Ht(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(Dc(o)?Ta(o):a===null||a.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,xa!==null&&(Ra(xa),xa=null))),ti(o),null;case 26:return d=o.memoizedState,a===null?(Ta(o),d!==null?(ti(o),il(o,d)):(ti(o),o.flags&=-16777217)):d?d!==a.memoizedState?(Ta(o),ti(o),il(o,d)):(ti(o),o.flags&=-16777217):(a.memoizedProps!==g&&Ta(o),ti(o),o.flags&=-16777217),null;case 27:Kt(o),d=Rt.current;var S=o.type;if(a!==null&&o.stateNode!=null)a.memoizedProps!==g&&Ta(o);else{if(!g){if(o.stateNode===null)throw Error(i(166));return ti(o),null}a=le.current,Dc(o)?W0(o):(a=bA(S,g,d),o.stateNode=a,Ta(o))}return ti(o),null;case 5:if(Kt(o),d=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==g&&Ta(o);else{if(!g){if(o.stateNode===null)throw Error(i(166));return ti(o),null}if(a=le.current,Dc(o))W0(o);else{switch(S=Xv(Rt.current),a){case 1:a=S.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:a=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":a=S.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":a=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":a=S.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof g.is=="string"?S.createElement("select",{is:g.is}):S.createElement("select"),g.multiple?a.multiple=!0:g.size&&(a.size=g.size);break;default:a=typeof g.is=="string"?S.createElement(d,{is:g.is}):S.createElement(d)}}a[ei]=o,a[Ze]=g;t:for(S=o.child;S!==null;){if(S.tag===5||S.tag===6)a.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===o)break t;for(;S.sibling===null;){if(S.return===null||S.return===o)break t;S=S.return}S.sibling.return=S.return,S=S.sibling}o.stateNode=a;t:switch(ws(a,d,g),d){case"button":case"input":case"select":case"textarea":a=!!g.autoFocus;break t;case"img":a=!0;break t;default:a=!1}a&&Ta(o)}}return ti(o),o.flags&=-16777217,null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==g&&Ta(o);else{if(typeof g!="string"&&o.stateNode===null)throw Error(i(166));if(a=Rt.current,Dc(o)){if(a=o.stateNode,d=o.memoizedProps,g=null,S=as,S!==null)switch(S.tag){case 27:case 5:g=S.memoizedProps}a[ei]=o,a=!!(a.nodeValue===d||g!==null&&g.suppressHydrationWarning===!0||gA(a.nodeValue,d)),a||Dl(o)}else a=Xv(a).createTextNode(g),a[ei]=o,o.stateNode=a}return ti(o),null;case 13:if(g=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(S=Dc(o),g!==null&&g.dehydrated!==null){if(a===null){if(!S)throw Error(i(318));if(S=o.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(i(317));S[ei]=o}else Nc(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;ti(o),S=!1}else xa!==null&&(Ra(xa),xa=null),S=!0;if(!S)return o.flags&256?(ur(o),o):(ur(o),null)}if(ur(o),o.flags&128)return o.lanes=d,o;if(d=g!==null,a=a!==null&&a.memoizedState!==null,d){g=o.child,S=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(S=g.alternate.memoizedState.cachePool.pool);var A=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(A=g.memoizedState.cachePool.pool),A!==S&&(g.flags|=2048)}return d!==a&&d&&(o.child.flags|=8192),Ea(o,o.updateQueue),ti(o),null;case 4:return Ht(),a===null&&OS(o.stateNode.containerInfo),ti(o),null;case 10:return Kr(o.type),ti(o),null;case 19:if(ye(_i),S=o.memoizedState,S===null)return ti(o),null;if(g=(o.flags&128)!==0,A=S.rendering,A===null)if(g)vf(S,!1);else{if(Yn!==0||a!==null&&a.flags&128)for(a=o.child;a!==null;){if(A=Uc(a),A!==null){for(o.flags|=128,vf(S,!1),a=A.updateQueue,o.updateQueue=a,Ea(o,a),o.subtreeFlags=0,a=d,d=o.child;d!==null;)el(d,a),d=d.sibling;return qt(_i,_i.current&1|2),o.child}a=a.sibling}S.tail!==null&&wt()>rn&&(o.flags|=128,g=!0,vf(S,!1),o.lanes=4194304)}else{if(!g)if(a=Uc(A),a!==null){if(o.flags|=128,g=!0,a=a.updateQueue,o.updateQueue=a,Ea(o,a),vf(S,!0),S.tail===null&&S.tailMode==="hidden"&&!A.alternate&&!mn)return ti(o),null}else 2*wt()-S.renderingStartTime>rn&&d!==536870912&&(o.flags|=128,g=!0,vf(S,!1),o.lanes=4194304);S.isBackwards?(A.sibling=o.child,o.child=A):(a=S.last,a!==null?a.sibling=A:o.child=A,S.last=A)}return S.tail!==null?(o=S.tail,S.rendering=o,S.tail=o.sibling,S.renderingStartTime=wt(),o.sibling=null,a=_i.current,qt(_i,g?a&1|2:a&1),o):(ti(o),null);case 22:case 23:return ur(o),af(),g=o.memoizedState!==null,a!==null?a.memoizedState!==null!==g&&(o.flags|=8192):g&&(o.flags|=8192),g?d&536870912&&!(o.flags&128)&&(ti(o),o.subtreeFlags&6&&(o.flags|=8192)):ti(o),d=o.updateQueue,d!==null&&Ea(o,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),g=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),g!==d&&(o.flags|=2048),a!==null&&ye(Xr),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Kr(ri),ti(o),null;case 25:return null}throw Error(i(156,o.tag))}function si(a,o){switch(Oo(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Kr(ri),Ht(),a=o.flags,a&65536&&!(a&128)?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Kt(o),null;case 13:if(ur(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(i(340));Nc()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return ye(_i),null;case 4:return Ht(),null;case 10:return Kr(o.type),null;case 22:case 23:return ur(o),af(),a!==null&&ye(Xr),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return Kr(ri),null;case 25:return null;default:return null}}function Tm(a,o){switch(Oo(o),o.tag){case 3:Kr(ri),Ht();break;case 26:case 27:case 5:Kt(o);break;case 4:Ht();break;case 13:ur(o);break;case 19:ye(_i);break;case 10:Kr(o.type);break;case 22:case 23:ur(o),af(),a!==null&&ye(Xr);break;case 24:Kr(ri)}}var kl={getCacheForType:function(a){var o=rs(ri),d=o.data.get(a);return d===void 0&&(d=a(),o.data.set(a,d)),d}},io=typeof WeakMap=="function"?WeakMap:Map,Ge=0,Ln=null,en=null,Re=0,zn=0,Sn=null,di=!1,fs=!1,sl=!1,so=0,Yn=0,Ja=0,yr=0,Wc=0,Es=0,xr=0,yf=null,an=null,Un=!1,Qe=0,rn=1/0,Rn=null,Ti=null,Aa=!1,wa=null,jl=0,tr=0,Qn=null,Ca=0,ao=null;function As(){if(Ge&2&&Re!==0)return Re&-Re;if(U.T!==null){var a=Ul;return a!==0?a:DS()}return gc()}function aa(){Es===0&&(Es=!(Re&536870912)||mn?Jn():536870912);var a=zs.current;return a!==null&&(a.flags|=32),Es}function Ei(a,o,d){(a===Ln&&zn===2||a.cancelPendingCommit!==null)&&(ro(a,0),ra(a,Re,Es,!1)),es(a,d),(!(Ge&2)||a!==Ln)&&(a===Ln&&(!(Ge&2)&&(yr|=d),Yn===4&&ra(a,Re,Es,!1)),Bn(a))}function Zc(a,o,d){if(Ge&6)throw Error(i(327));var g=!d&&(o&60)===0&&(o&a.expiredLanes)===0||Ne(a,o),S=g?c(a,o):ql(a,o,!0),A=g;do{if(S===0){fs&&!g&&ra(a,o,0,!1);break}else if(S===6)ra(a,o,0,!di);else{if(d=a.current.alternate,A&&!Em(d)){S=ql(a,o,!1),A=!1;continue}if(S===2){if(A=o,a.errorRecoveryDisabledLanes&A)var O=0;else O=a.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){o=O;t:{var G=a;S=yf;var $=G.current.memoizedState.isDehydrated;if($&&(ro(G,O).flags|=256),O=ql(G,O,!1),O!==2){if(sl&&!$){G.errorRecoveryDisabledLanes|=A,yr|=A,S=4;break t}A=an,an=S,A!==null&&Ra(A)}S=O}if(A=!1,S!==2)continue}}if(S===1){ro(a,0),ra(a,o,0,!0);break}t:{switch(g=a,S){case 0:case 1:throw Error(i(345));case 4:if((o&4194176)===o){ra(g,o,Es,!di);break t}break;case 2:an=null;break;case 3:case 5:break;default:throw Error(i(329))}if(g.finishedWork=d,g.finishedLanes=o,(o&62914560)===o&&(A=Qe+300-wt(),10<A)){if(ra(g,o,Es,!di),ne(g,0)!==0)break t;g.timeoutHandle=xA(sd.bind(null,g,d,an,Rn,Un,o,Es,yr,xr,di,2,-0,0),A);break t}sd(g,d,an,Rn,Un,o,Es,yr,xr,di,0,-0,0)}}break}while(!0);Bn(a)}function Ra(a){an===null?an=a:an.push.apply(an,a)}function sd(a,o,d,g,S,A,O,G,$,ut,Lt,jt,bt){var Ct=o.subtreeFlags;if((Ct&8192||(Ct&16785408)===16785408)&&(Nm={stylesheets:null,count:0,unsuspend:Tz},Gl(o),o=Az(),o!==null)){a.cancelPendingCommit=o(et.bind(null,a,d,g,S,O,G,$,1,jt,bt)),ra(a,A,O,!ut);return}et(a,d,g,S,O,G,$,Lt,jt,bt)}function Em(a){for(var o=a;;){var d=o.tag;if((d===0||d===11||d===15)&&o.flags&16384&&(d=o.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var g=0;g<d.length;g++){var S=d[g],A=S.getSnapshot;S=S.value;try{if(!Ls(A(),S))return!1}catch{return!1}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ra(a,o,d,g){o&=~Wc,o&=~yr,a.suspendedLanes|=o,a.pingedLanes&=~o,g&&(a.warmLanes|=o),g=a.expirationTimes;for(var S=o;0<S;){var A=31-Me(S),O=1<<A;g[A]=-1,S&=~O}d!==0&&_l(a,d,o)}function Xl(){return Ge&6?!0:(un(0),!1)}function _r(){if(en!==null){if(zn===0)var a=en.return;else a=en,Ya=pr=null,Vh(a),Bo=null,ef=0,a=en;for(;a!==null;)Tm(a.alternate,a),a=a.return;en=null}}function ro(a,o){a.finishedWork=null,a.finishedLanes=0;var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,lz(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),_r(),Ln=a,en=d=Ts(a.current,null),Re=o,zn=0,Sn=null,di=!1,fs=Ne(a,o),sl=!1,xr=Es=Wc=yr=Ja=Yn=0,an=yf=null,Un=!1,o&8&&(o|=o&32);var g=a.entangledLanes;if(g!==0)for(a=a.entanglements,g&=o;0<g;){var S=31-Me(g),A=1<<S;o|=a[S],g&=~A}return so=o,Yu(),d}function al(a,o){Ke=null,U.H=dr,o===Po?(o=En(),zn=3):o===Wp?(o=En(),zn=4):zn=o===ea?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Sn=o,en===null&&(Yn=1,Yh(a,Ps(o,a.current)))}function Kc(){var a=U.H;return U.H=dr,a===null?dr:a}function ad(){var a=U.A;return U.A=kl,a}function xf(){Yn=4,di||(Re&4194176)!==Re&&zs.current!==null||(fs=!0),!(Ja&134217727)&&!(yr&134217727)||Ln===null||ra(Ln,Re,Es,!1)}function ql(a,o,d){var g=Ge;Ge|=2;var S=Kc(),A=ad();(Ln!==a||Re!==o)&&(Rn=null,ro(a,o)),o=!1;var O=Yn;t:do try{if(zn!==0&&en!==null){var G=en,$=Sn;switch(zn){case 8:_r(),O=6;break t;case 3:case 2:case 6:zs.current===null&&(o=!0);var ut=zn;if(zn=0,Sn=null,w(a,G,$,ut),d&&fs){O=0;break t}break;default:ut=zn,zn=0,Sn=null,w(a,G,$,ut)}}Am(),O=Yn;break}catch(Lt){al(a,Lt)}while(!0);return o&&a.shellSuspendCounter++,Ya=pr=null,Ge=g,U.H=S,U.A=A,en===null&&(Ln=null,Re=0,Yu()),O}function Am(){for(;en!==null;)y(en)}function c(a,o){var d=Ge;Ge|=2;var g=Kc(),S=ad();Ln!==a||Re!==o?(Rn=null,rn=wt()+500,ro(a,o)):fs=Ne(a,o);t:do try{if(zn!==0&&en!==null){o=en;var A=Sn;e:switch(zn){case 1:zn=0,Sn=null,w(a,o,A,1);break;case 2:if(K0(A)){zn=0,Sn=null,b(o);break}o=function(){zn===2&&Ln===a&&(zn=7),Bn(a)},A.then(o,o);break t;case 3:zn=7;break t;case 4:zn=5;break t;case 7:K0(A)?(zn=0,Sn=null,b(o)):(zn=0,Sn=null,w(a,o,A,7));break;case 5:var O=null;switch(en.tag){case 26:O=en.memoizedState;case 5:case 27:var G=en;if(!O||DA(O)){zn=0,Sn=null;var $=G.sibling;if($!==null)en=$;else{var ut=G.return;ut!==null?(en=ut,N(ut)):en=null}break e}}zn=0,Sn=null,w(a,o,A,5);break;case 6:zn=0,Sn=null,w(a,o,A,6);break;case 8:_r(),Yn=6;break t;default:throw Error(i(462))}}f();break}catch(Lt){al(a,Lt)}while(!0);return Ya=pr=null,U.H=g,U.A=S,Ge=d,en!==null?0:(Ln=null,Re=0,Yu(),Yn)}function f(){for(;en!==null&&!F();)y(en)}function y(a){var o=uf(a.alternate,a,so);a.memoizedProps=a.pendingProps,o===null?N(a):en=o}function b(a){var o=a,d=o.alternate;switch(o.tag){case 15:case 0:o=zv(d,o,o.pendingProps,o.type,void 0,Re);break;case 11:o=zv(d,o,o.pendingProps,o.type.render,o.ref,Re);break;case 5:Vh(o);default:Tm(d,o),o=en=el(o,so),o=uf(d,o,so)}a.memoizedProps=a.pendingProps,o===null?N(a):en=o}function w(a,o,d,g){Ya=pr=null,Vh(o),Bo=null,ef=0;var S=o.return;try{if(wS(a,S,o,d,Re)){Yn=1,Yh(a,Ps(d,a.current)),en=null;return}}catch(A){if(S!==null)throw en=S,A;Yn=1,Yh(a,Ps(d,a.current)),en=null;return}o.flags&32768?(mn||g===1?a=!0:fs||Re&536870912?a=!1:(di=a=!0,(g===2||g===3||g===6)&&(g=zs.current,g!==null&&g.tag===13&&(g.flags|=16384))),k(o,a)):N(o)}function N(a){var o=a;do{if(o.flags&32768){k(o,di);return}a=o.return;var d=RS(o.alternate,o,so);if(d!==null){en=d;return}if(o=o.sibling,o!==null){en=o;return}en=o=a}while(o!==null);Yn===0&&(Yn=5)}function k(a,o){do{var d=si(a.alternate,a);if(d!==null){d.flags&=32767,en=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!o&&(a=a.sibling,a!==null)){en=a;return}en=a=d}while(a!==null);Yn=6,en=null}function et(a,o,d,g,S,A,O,G,$,ut){var Lt=U.T,jt=st.p;try{st.p=2,U.T=null,mt(a,o,d,g,jt,S,A,O,G,$,ut)}finally{U.T=Lt,st.p=jt}}function mt(a,o,d,g,S,A,O,G){do Zt();while(wa!==null);if(Ge&6)throw Error(i(327));var $=a.finishedWork;if(g=a.finishedLanes,$===null)return null;if(a.finishedWork=null,a.finishedLanes=0,$===a.current)throw Error(i(177));a.callbackNode=null,a.callbackPriority=0,a.cancelPendingCommit=null;var ut=$.lanes|$.childLanes;if(ut|=Br,Du(a,g,ut,A,O,G),a===Ln&&(en=Ln=null,Re=0),!($.subtreeFlags&10256)&&!($.flags&10256)||Aa||(Aa=!0,tr=ut,Qn=d,ht(ee,function(){return Zt(),null})),d=($.flags&15990)!==0,$.subtreeFlags&15990||d?(d=U.T,U.T=null,A=st.p,st.p=2,O=Ge,Ge|=4,jc(a,$),Hl($,a),Gp(VS,a.containerInfo),Qv=!!BS,VS=BS=null,a.current=$,Xc(a,$.alternate,$),vt(),Ge=O,st.p=A,U.T=d):a.current=$,Aa?(Aa=!1,wa=a,jl=g):Nt(a,ut),ut=a.pendingLanes,ut===0&&(Ti=null),he($.stateNode),Bn(a),o!==null)for(S=a.onRecoverableError,$=0;$<o.length;$++)ut=o[$],S(ut.value,{componentStack:ut.stack});return jl&3&&Zt(),ut=a.pendingLanes,g&4194218&&ut&42?a===ao?Ca++:(Ca=0,ao=a):Ca=0,un(0),null}function Nt(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Io(o)))}function Zt(){if(wa!==null){var a=wa,o=tr;tr=0;var d=Qs(jl),g=U.T,S=st.p;try{if(st.p=32>d?32:d,U.T=null,wa===null)var A=!1;else{d=Qn,Qn=null;var O=wa,G=jl;if(wa=null,jl=0,Ge&6)throw Error(i(331));var $=Ge;if(Ge|=4,qc(O.current),Jr(O,O.current,G,d),Ge=$,un(0,!1),ve&&typeof ve.onPostCommitFiberRoot=="function")try{ve.onPostCommitFiberRoot(xe,O)}catch{}A=!0}return A}finally{st.p=S,U.T=g,Nt(a,o)}}return!1}function re(a,o,d){o=Ps(d,o),o=um(a.stateNode,o,2),a=sa(a,o,2),a!==null&&(es(a,2),Bn(a))}function Yt(a,o,d){if(a.tag===3)re(a,a,d);else for(;o!==null;){if(o.tag===3){re(o,a,d);break}else if(o.tag===1){var g=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ti===null||!Ti.has(g))){a=Ps(d,a),d=fm(2),g=sa(o,d,2),g!==null&&(Ov(d,g,o,a),es(g,2),Bn(g));break}}o=o.return}}function ke(a,o,d){var g=a.pingCache;if(g===null){g=a.pingCache=new io;var S=new Set;g.set(o,S)}else S=g.get(o),S===void 0&&(S=new Set,g.set(o,S));S.has(d)||(sl=!0,S.add(d),a=Da.bind(null,a,o,d),o.then(a,a))}function Da(a,o,d){var g=a.pingCache;g!==null&&g.delete(o),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,Ln===a&&(Re&d)===d&&(Yn===4||Yn===3&&(Re&62914560)===Re&&300>wt()-Qe?!(Ge&2)&&ro(a,0):Wc|=d,xr===Re&&(xr=0)),Bn(a)}function Qc(a,o){o===0&&(o=hn()),a=Vr(a,o),a!==null&&(es(a,o),Bn(a))}function Yl(a){var o=a.memoizedState,d=0;o!==null&&(d=o.retryLane),Qc(a,d)}function St(a,o){var d=0;switch(a.tag){case 13:var g=a.stateNode,S=a.memoizedState;S!==null&&(d=S.retryLane);break;case 19:g=a.stateNode;break;case 22:g=a.stateNode._retryCache;break;default:throw Error(i(314))}g!==null&&g.delete(o),Qc(a,d)}function ht(a,o){return Qt(a,o)}var Mt=null,Xt=null,Te=!1,On=!1,De=!1,nn=0;function Bn(a){a!==Xt&&a.next===null&&(Xt===null?Mt=Xt=a:Xt=Xt.next=a),On=!0,Te||(Te=!0,JP(rl))}function un(a,o){if(!De&&On){De=!0;do for(var d=!1,g=Mt;g!==null;){if(a!==0){var S=g.pendingLanes;if(S===0)var A=0;else{var O=g.suspendedLanes,G=g.pingedLanes;A=(1<<31-Me(42|a)+1)-1,A&=S&~(O&~G),A=A&201326677?A&201326677|1:A?A|2:0}A!==0&&(d=!0,cA(g,A))}else A=Re,A=ne(g,g===Ln?A:0),!(A&3)||Ne(g,A)||(d=!0,cA(g,A));g=g.next}while(d);De=!1}}function rl(){On=Te=!1;var a=0;nn!==0&&(oz()&&(a=nn),nn=0);for(var o=wt(),d=null,g=Mt;g!==null;){var S=g.next,A=Hv(g,o);A===0?(g.next=null,d===null?Mt=S:d.next=S,S===null&&(Xt=d)):(d=g,(a!==0||A&3)&&(On=!0)),g=S}un(a)}function Hv(a,o){for(var d=a.suspendedLanes,g=a.pingedLanes,S=a.expirationTimes,A=a.pendingLanes&-62914561;0<A;){var O=31-Me(A),G=1<<O,$=S[O];$===-1?(!(G&d)||G&g)&&(S[O]=Pn(G,o)):$<=o&&(a.expiredLanes|=G),A&=~G}if(o=Ln,d=Re,d=ne(a,a===o?d:0),g=a.callbackNode,d===0||a===o&&zn===2||a.cancelPendingCommit!==null)return g!==null&&g!==null&&q(g),a.callbackNode=null,a.callbackPriority=0;if(!(d&3)||Ne(a,d)){if(o=d&-d,o===a.callbackPriority)return o;switch(g!==null&&q(g),Qs(d)){case 2:case 8:d=ce;break;case 32:d=ee;break;case 268435456:d=We;break;default:d=ee}return g=lA.bind(null,a),d=Qt(d,g),a.callbackPriority=o,a.callbackNode=d,o}return g!==null&&g!==null&&q(g),a.callbackPriority=2,a.callbackNode=null,2}function lA(a,o){var d=a.callbackNode;if(Zt()&&a.callbackNode!==d)return null;var g=Re;return g=ne(a,a===Ln?g:0),g===0?null:(Zc(a,g,o),Hv(a,wt()),a.callbackNode!=null&&a.callbackNode===d?lA.bind(null,a):null)}function cA(a,o){if(Zt())return null;Zc(a,o,!0)}function JP(a){cz(function(){Ge&6?Qt(Dt,a):a()})}function DS(){return nn===0&&(nn=Jn()),nn}function uA(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Uu(""+a)}function fA(a,o){var d=o.ownerDocument.createElement("input");return d.name=o.name,d.value=o.value,a.id&&d.setAttribute("form",a.id),o.parentNode.insertBefore(d,o),a=new FormData(a),d.parentNode.removeChild(d),a}function tz(a,o,d,g,S){if(o==="submit"&&d&&d.stateNode===S){var A=uA((S[Ze]||null).action),O=g.submitter;O&&(o=(o=O[Ze]||null)?uA(o.formAction):O.getAttribute("formAction"),o!==null&&(A=o,O=null));var G=new _c("action","action",null,g,S);a.push({event:G,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(nn!==0){var $=O?fA(S,O):new FormData(S);am(d,{pending:!0,data:$,method:S.method,action:A},null,$)}}else typeof A=="function"&&(G.preventDefault(),$=O?fA(S,O):new FormData(S),am(d,{pending:!0,data:$,method:S.method,action:A},A,$))},currentTarget:S}]})}}for(var NS=0;NS<zr.length;NS++){var LS=zr[NS],ez=LS.toLowerCase(),nz=LS[0].toUpperCase()+LS.slice(1);ya(ez,"on"+nz)}ya(Xp,"onAnimationEnd"),ya(Os,"onAnimationIteration"),ya(qp,"onAnimationStart"),ya("dblclick","onDoubleClick"),ya("focusin","onFocus"),ya("focusout","onBlur"),ya(Pr,"onTransitionRun"),ya(Rc,"onTransitionStart"),ya(No,"onTransitionCancel"),ya(Nh,"onTransitionEnd"),ae("onMouseEnter",["mouseout","mouseover"]),ae("onMouseLeave",["mouseout","mouseover"]),ae("onPointerEnter",["pointerout","pointerover"]),ae("onPointerLeave",["pointerout","pointerover"]),Jt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iz=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wm));function hA(a,o){o=(o&4)!==0;for(var d=0;d<a.length;d++){var g=a[d],S=g.event;g=g.listeners;t:{var A=void 0;if(o)for(var O=g.length-1;0<=O;O--){var G=g[O],$=G.instance,ut=G.currentTarget;if(G=G.listener,$!==A&&S.isPropagationStopped())break t;A=G,S.currentTarget=ut;try{A(S)}catch(Lt){qh(Lt)}S.currentTarget=null,A=$}else for(O=0;O<g.length;O++){if(G=g[O],$=G.instance,ut=G.currentTarget,G=G.listener,$!==A&&S.isPropagationStopped())break t;A=G,S.currentTarget=ut;try{A(S)}catch(Lt){qh(Lt)}S.currentTarget=null,A=$}}}}function vn(a,o){var d=o[To];d===void 0&&(d=o[To]=new Set);var g=a+"__bubble";d.has(g)||(dA(o,a,2,!1),d.add(g))}function US(a,o,d){var g=0;o&&(g|=4),dA(d,a,g,o)}var Gv="_reactListening"+Math.random().toString(36).slice(2);function OS(a){if(!a[Gv]){a[Gv]=!0,ft.forEach(function(d){d!=="selectionchange"&&(iz.has(d)||US(d,!1,a),US(d,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[Gv]||(o[Gv]=!0,US("selectionchange",!1,o))}}function dA(a,o,d,g){switch(zA(o)){case 2:var S=Rz;break;case 8:S=Dz;break;default:S=YS}d=S.bind(null,o,d,a),S=void 0,!Pu||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(S=!0),g?S!==void 0?a.addEventListener(o,d,{capture:!0,passive:S}):a.addEventListener(o,d,!0):S!==void 0?a.addEventListener(o,d,{passive:S}):a.addEventListener(o,d,!1)}function PS(a,o,d,g,S){var A=g;if(!(o&1)&&!(o&2)&&g!==null)t:for(;;){if(g===null)return;var O=g.tag;if(O===3||O===4){var G=g.stateNode.containerInfo;if(G===S||G.nodeType===8&&G.parentNode===S)break;if(O===4)for(O=g.return;O!==null;){var $=O.tag;if(($===3||$===4)&&($=O.stateNode.containerInfo,$===S||$.nodeType===8&&$.parentNode===S))return;O=O.return}for(;G!==null;){if(O=Ga(G),O===null)return;if($=O.tag,$===5||$===6||$===26||$===27){g=A=O;continue t}G=G.parentNode}}g=g.return}wp(function(){var ut=A,Lt=Ou(d),jt=[];t:{var bt=Lh.get(a);if(bt!==void 0){var Ct=_c,Ee=a;switch(a){case"keypress":if(Eo(d)===0)break t;case"keydown":case"keyup":Ct=Lp;break;case"focusin":Ee="focus",Ct=Sh;break;case"focusout":Ee="blur",Ct=Sh;break;case"beforeblur":case"afterblur":Ct=Sh;break;case"click":if(d.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ct=Dp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ct=vS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ct=Op;break;case Xp:case Os:case qp:Ct=O0;break;case Nh:Ct=Lr;break;case"scroll":case"scrollend":Ct=N0;break;case"wheel":Ct=yS;break;case"copy":case"cut":case"paste":Ct=z0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ct=Mh;break;case"toggle":case"beforetoggle":Ct=wo}var je=(o&4)!==0,Ai=!je&&(a==="scroll"||a==="scrollend"),dt=je?bt!==null?bt+"Capture":null:bt;je=[];for(var ot=ut,yt;ot!==null;){var Bt=ot;if(yt=Bt.stateNode,Bt=Bt.tag,Bt!==5&&Bt!==26&&Bt!==27||yt===null||dt===null||(Bt=vc(ot,dt),Bt!=null&&je.push(Cm(ot,Bt,yt))),Ai)break;ot=ot.return}0<je.length&&(bt=new Ct(bt,Ee,null,d,Lt),jt.push({event:bt,listeners:je}))}}if(!(o&7)){t:{if(bt=a==="mouseover"||a==="pointerover",Ct=a==="mouseout"||a==="pointerout",bt&&d!==vh&&(Ee=d.relatedTarget||d.fromElement)&&(Ga(Ee)||Ee[Ha]))break t;if((Ct||bt)&&(bt=Lt.window===Lt?Lt:(bt=Lt.ownerDocument)?bt.defaultView||bt.parentWindow:window,Ct?(Ee=d.relatedTarget||d.toElement,Ct=ut,Ee=Ee?Ga(Ee):null,Ee!==null&&(Ai=Q(Ee),je=Ee.tag,Ee!==Ai||je!==5&&je!==27&&je!==6)&&(Ee=null)):(Ct=null,Ee=ut),Ct!==Ee)){if(je=Dp,Bt="onMouseLeave",dt="onMouseEnter",ot="mouse",(a==="pointerout"||a==="pointerover")&&(je=Mh,Bt="onPointerLeave",dt="onPointerEnter",ot="pointer"),Ai=Ct==null?bt:rt(Ct),yt=Ee==null?bt:rt(Ee),bt=new je(Bt,ot+"leave",Ct,d,Lt),bt.target=Ai,bt.relatedTarget=yt,Bt=null,Ga(Lt)===ut&&(je=new je(dt,ot+"enter",Ee,d,Lt),je.target=yt,je.relatedTarget=Ai,Bt=je),Ai=Bt,Ct&&Ee)e:{for(je=Ct,dt=Ee,ot=0,yt=je;yt;yt=rd(yt))ot++;for(yt=0,Bt=dt;Bt;Bt=rd(Bt))yt++;for(;0<ot-yt;)je=rd(je),ot--;for(;0<yt-ot;)dt=rd(dt),yt--;for(;ot--;){if(je===dt||dt!==null&&je===dt.alternate)break e;je=rd(je),dt=rd(dt)}je=null}else je=null;Ct!==null&&pA(jt,bt,Ct,je,!1),Ee!==null&&Ai!==null&&pA(jt,Ai,Ee,je,!0)}}t:{if(bt=ut?rt(ut):window,Ct=bt.nodeName&&bt.nodeName.toLowerCase(),Ct==="select"||Ct==="input"&&bt.type==="file")var _e=Eh;else if(Vp(bt))if(Ah)_e=Do;else{_e=q0;var fn=xS}else Ct=bt.nodeName,!Ct||Ct.toLowerCase()!=="input"||bt.type!=="checkbox"&&bt.type!=="radio"?ut&&Lu(ut.elementType)&&(_e=Eh):_e=Xu;if(_e&&(_e=_e(a,ut))){Ns(jt,_e,d,Lt);break t}fn&&fn(a,bt,ut),a==="focusout"&&ut&&bt.type==="number"&&ut.memoizedProps.value!=null&&qi(bt,"number",bt.value)}switch(fn=ut?rt(ut):window,a){case"focusin":(Vp(fn)||fn.contentEditable==="true")&&(Al=fn,kp=ut,Cc=null);break;case"focusout":Cc=kp=Al=null;break;case"mousedown":Rh=!0;break;case"contextmenu":case"mouseup":case"dragend":Rh=!1,va(jt,d,Lt);break;case"selectionchange":if(Ch)break;case"keydown":case"keyup":va(jt,d,Lt)}var Ce;if(Iu)t:{switch(a){case"compositionstart":var Pe="onCompositionStart";break t;case"compositionend":Pe="onCompositionEnd";break t;case"compositionupdate":Pe="onCompositionUpdate";break t}Pe=void 0}else Ro?Gu(a,d)&&(Pe="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(Pe="onCompositionStart");Pe&&(Hu&&d.locale!=="ko"&&(Ro||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Ro&&(Ce=Rp()):(Dr=Lt,Cp="value"in Dr?Dr.value:Dr.textContent,Ro=!0)),fn=kv(ut,Pe),0<fn.length&&(Pe=new bh(Pe,a,null,d,Lt),jt.push({event:Pe,listeners:fn}),Ce?Pe.data=Ce:(Ce=zp(d),Ce!==null&&(Pe.data=Ce)))),(Ce=Fu?ku(a,d):Bp(a,d))&&(Pe=kv(ut,"onBeforeInput"),0<Pe.length&&(fn=new bh("onBeforeInput","beforeinput",null,d,Lt),jt.push({event:fn,listeners:Pe}),fn.data=Ce)),tz(jt,a,ut,d,Lt)}hA(jt,o)})}function Cm(a,o,d){return{instance:a,listener:o,currentTarget:d}}function kv(a,o){for(var d=o+"Capture",g=[];a!==null;){var S=a,A=S.stateNode;S=S.tag,S!==5&&S!==26&&S!==27||A===null||(S=vc(a,d),S!=null&&g.unshift(Cm(a,S,A)),S=vc(a,o),S!=null&&g.push(Cm(a,S,A))),a=a.return}return g}function rd(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function pA(a,o,d,g,S){for(var A=o._reactName,O=[];d!==null&&d!==g;){var G=d,$=G.alternate,ut=G.stateNode;if(G=G.tag,$!==null&&$===g)break;G!==5&&G!==26&&G!==27||ut===null||($=ut,S?(ut=vc(d,A),ut!=null&&O.unshift(Cm(d,ut,$))):S||(ut=vc(d,A),ut!=null&&O.push(Cm(d,ut,$)))),d=d.return}O.length!==0&&a.push({event:o,listeners:O})}var sz=/\r\n?/g,az=/\u0000|\uFFFD/g;function mA(a){return(typeof a=="string"?a:""+a).replace(sz,`
`).replace(az,"")}function gA(a,o){return o=mA(o),mA(a)===o}function jv(){}function kn(a,o,d,g,S,A){switch(d){case"children":typeof g=="string"?o==="body"||o==="textarea"&&g===""||ys(a,g):(typeof g=="number"||typeof g=="bigint")&&o!=="body"&&ys(a,""+g);break;case"className":Fn(a,"class",g);break;case"tabIndex":Fn(a,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Fn(a,d,g);break;case"style":Ap(a,g,A);break;case"data":if(o!=="object"){Fn(a,"data",g);break}case"src":case"href":if(g===""&&(o!=="a"||d!=="href")){a.removeAttribute(d);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(d);break}g=Uu(""+g),a.setAttribute(d,g);break;case"action":case"formAction":if(typeof g=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(d==="formAction"?(o!=="input"&&kn(a,o,"name",S.name,S,null),kn(a,o,"formEncType",S.formEncType,S,null),kn(a,o,"formMethod",S.formMethod,S,null),kn(a,o,"formTarget",S.formTarget,S,null)):(kn(a,o,"encType",S.encType,S,null),kn(a,o,"method",S.method,S,null),kn(a,o,"target",S.target,S,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(d);break}g=Uu(""+g),a.setAttribute(d,g);break;case"onClick":g!=null&&(a.onclick=jv);break;case"onScroll":g!=null&&vn("scroll",a);break;case"onScrollEnd":g!=null&&vn("scrollend",a);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(d=g.__html,d!=null){if(S.children!=null)throw Error(i(60));a.innerHTML=d}}break;case"multiple":a.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":a.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){a.removeAttribute("xlink:href");break}d=Uu(""+g),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(d,""+g):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":g===!0?a.setAttribute(d,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(d,g):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?a.setAttribute(d,g):a.removeAttribute(d);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?a.removeAttribute(d):a.setAttribute(d,g);break;case"popover":vn("beforetoggle",a),vn("toggle",a),ln(a,"popover",g);break;case"xlinkActuate":dn(a,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":dn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":dn(a,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":dn(a,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":dn(a,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":dn(a,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":dn(a,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":dn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":dn(a,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":ln(a,"is",g);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=R0.get(d)||d,ln(a,d,g))}}function zS(a,o,d,g,S,A){switch(d){case"style":Ap(a,g,A);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(d=g.__html,d!=null){if(S.children!=null)throw Error(i(60));a.innerHTML=d}}break;case"children":typeof g=="string"?ys(a,g):(typeof g=="number"||typeof g=="bigint")&&ys(a,""+g);break;case"onScroll":g!=null&&vn("scroll",a);break;case"onScrollEnd":g!=null&&vn("scrollend",a);break;case"onClick":g!=null&&(a.onclick=jv);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gt.hasOwnProperty(d))t:{if(d[0]==="o"&&d[1]==="n"&&(S=d.endsWith("Capture"),o=d.slice(2,S?d.length-7:void 0),A=a[Ze]||null,A=A!=null?A[d]:null,typeof A=="function"&&a.removeEventListener(o,A,S),typeof g=="function")){typeof A!="function"&&A!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(o,g,S);break t}d in a?a[d]=g:g===!0?a.setAttribute(d,""):ln(a,d,g)}}}function ws(a,o,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vn("error",a),vn("load",a);var g=!1,S=!1,A;for(A in d)if(d.hasOwnProperty(A)){var O=d[A];if(O!=null)switch(A){case"src":g=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:kn(a,o,A,O,d,null)}}S&&kn(a,o,"srcSet",d.srcSet,d,null),g&&kn(a,o,"src",d.src,d,null);return;case"input":vn("invalid",a);var G=A=O=S=null,$=null,ut=null;for(g in d)if(d.hasOwnProperty(g)){var Lt=d[g];if(Lt!=null)switch(g){case"name":S=Lt;break;case"type":O=Lt;break;case"checked":$=Lt;break;case"defaultChecked":ut=Lt;break;case"value":A=Lt;break;case"defaultValue":G=Lt;break;case"children":case"dangerouslySetInnerHTML":if(Lt!=null)throw Error(i(137,o));break;default:kn(a,o,g,Lt,d,null)}}is(a,A,G,$,ut,O,S,!1),cn(a);return;case"select":vn("invalid",a),g=O=A=null;for(S in d)if(d.hasOwnProperty(S)&&(G=d[S],G!=null))switch(S){case"value":A=G;break;case"defaultValue":O=G;break;case"multiple":g=G;default:kn(a,o,S,G,d,null)}o=A,d=O,a.multiple=!!g,o!=null?ni(a,!!g,o,!1):d!=null&&ni(a,!!g,d,!0);return;case"textarea":vn("invalid",a),A=S=g=null;for(O in d)if(d.hasOwnProperty(O)&&(G=d[O],G!=null))switch(O){case"value":g=G;break;case"defaultValue":S=G;break;case"children":A=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(91));break;default:kn(a,o,O,G,d,null)}ka(a,g,S,A),cn(a);return;case"option":for($ in d)if(d.hasOwnProperty($)&&(g=d[$],g!=null))switch($){case"selected":a.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:kn(a,o,$,g,d,null)}return;case"dialog":vn("cancel",a),vn("close",a);break;case"iframe":case"object":vn("load",a);break;case"video":case"audio":for(g=0;g<wm.length;g++)vn(wm[g],a);break;case"image":vn("error",a),vn("load",a);break;case"details":vn("toggle",a);break;case"embed":case"source":case"link":vn("error",a),vn("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ut in d)if(d.hasOwnProperty(ut)&&(g=d[ut],g!=null))switch(ut){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:kn(a,o,ut,g,d,null)}return;default:if(Lu(o)){for(Lt in d)d.hasOwnProperty(Lt)&&(g=d[Lt],g!==void 0&&zS(a,o,Lt,g,d,void 0));return}}for(G in d)d.hasOwnProperty(G)&&(g=d[G],g!=null&&kn(a,o,G,g,d,null))}function rz(a,o,d,g){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,A=null,O=null,G=null,$=null,ut=null,Lt=null;for(Ct in d){var jt=d[Ct];if(d.hasOwnProperty(Ct)&&jt!=null)switch(Ct){case"checked":break;case"value":break;case"defaultValue":$=jt;default:g.hasOwnProperty(Ct)||kn(a,o,Ct,null,g,jt)}}for(var bt in g){var Ct=g[bt];if(jt=d[bt],g.hasOwnProperty(bt)&&(Ct!=null||jt!=null))switch(bt){case"type":A=Ct;break;case"name":S=Ct;break;case"checked":ut=Ct;break;case"defaultChecked":Lt=Ct;break;case"value":O=Ct;break;case"defaultValue":G=Ct;break;case"children":case"dangerouslySetInnerHTML":if(Ct!=null)throw Error(i(137,o));break;default:Ct!==jt&&kn(a,o,bt,Ct,g,jt)}}wn(a,O,G,$,ut,Lt,A,S);return;case"select":Ct=O=G=bt=null;for(A in d)if($=d[A],d.hasOwnProperty(A)&&$!=null)switch(A){case"value":break;case"multiple":Ct=$;default:g.hasOwnProperty(A)||kn(a,o,A,null,g,$)}for(S in g)if(A=g[S],$=d[S],g.hasOwnProperty(S)&&(A!=null||$!=null))switch(S){case"value":bt=A;break;case"defaultValue":G=A;break;case"multiple":O=A;default:A!==$&&kn(a,o,S,A,g,$)}o=G,d=O,g=Ct,bt!=null?ni(a,!!d,bt,!1):!!g!=!!d&&(o!=null?ni(a,!!d,o,!0):ni(a,!!d,d?[]:"",!1));return;case"textarea":Ct=bt=null;for(G in d)if(S=d[G],d.hasOwnProperty(G)&&S!=null&&!g.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:kn(a,o,G,null,g,S)}for(O in g)if(S=g[O],A=d[O],g.hasOwnProperty(O)&&(S!=null||A!=null))switch(O){case"value":bt=S;break;case"defaultValue":Ct=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:S!==A&&kn(a,o,O,S,g,A)}Vi(a,bt,Ct);return;case"option":for(var Ee in d)if(bt=d[Ee],d.hasOwnProperty(Ee)&&bt!=null&&!g.hasOwnProperty(Ee))switch(Ee){case"selected":a.selected=!1;break;default:kn(a,o,Ee,null,g,bt)}for($ in g)if(bt=g[$],Ct=d[$],g.hasOwnProperty($)&&bt!==Ct&&(bt!=null||Ct!=null))switch($){case"selected":a.selected=bt&&typeof bt!="function"&&typeof bt!="symbol";break;default:kn(a,o,$,bt,g,Ct)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in d)bt=d[je],d.hasOwnProperty(je)&&bt!=null&&!g.hasOwnProperty(je)&&kn(a,o,je,null,g,bt);for(ut in g)if(bt=g[ut],Ct=d[ut],g.hasOwnProperty(ut)&&bt!==Ct&&(bt!=null||Ct!=null))switch(ut){case"children":case"dangerouslySetInnerHTML":if(bt!=null)throw Error(i(137,o));break;default:kn(a,o,ut,bt,g,Ct)}return;default:if(Lu(o)){for(var Ai in d)bt=d[Ai],d.hasOwnProperty(Ai)&&bt!==void 0&&!g.hasOwnProperty(Ai)&&zS(a,o,Ai,void 0,g,bt);for(Lt in g)bt=g[Lt],Ct=d[Lt],!g.hasOwnProperty(Lt)||bt===Ct||bt===void 0&&Ct===void 0||zS(a,o,Lt,bt,g,Ct);return}}for(var dt in d)bt=d[dt],d.hasOwnProperty(dt)&&bt!=null&&!g.hasOwnProperty(dt)&&kn(a,o,dt,null,g,bt);for(jt in g)bt=g[jt],Ct=d[jt],!g.hasOwnProperty(jt)||bt===Ct||bt==null&&Ct==null||kn(a,o,jt,bt,g,Ct)}var BS=null,VS=null;function Xv(a){return a.nodeType===9?a:a.ownerDocument}function vA(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yA(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function IS(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var FS=null;function oz(){var a=window.event;return a&&a.type==="popstate"?a===FS?!1:(FS=a,!0):(FS=null,!1)}var xA=typeof setTimeout=="function"?setTimeout:void 0,lz=typeof clearTimeout=="function"?clearTimeout:void 0,_A=typeof Promise=="function"?Promise:void 0,cz=typeof queueMicrotask=="function"?queueMicrotask:typeof _A<"u"?function(a){return _A.resolve(null).then(a).catch(uz)}:xA;function uz(a){setTimeout(function(){throw a})}function HS(a,o){var d=o,g=0;do{var S=d.nextSibling;if(a.removeChild(d),S&&S.nodeType===8)if(d=S.data,d==="/$"){if(g===0){a.removeChild(S),zm(o);return}g--}else d!=="$"&&d!=="$?"&&d!=="$!"||g++;d=S}while(d);zm(o)}function GS(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var d=o;switch(o=o.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":GS(d),Sl(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function fz(a,o,d,g){for(;a.nodeType===1;){var S=d;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!g&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(g){if(!a[Rr])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(A=a.getAttribute("rel"),A==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(A!==S.rel||a.getAttribute("href")!==(S.href==null?null:S.href)||a.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||a.getAttribute("title")!==(S.title==null?null:S.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(A=a.getAttribute("src"),(A!==(S.src==null?null:S.src)||a.getAttribute("type")!==(S.type==null?null:S.type)||a.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&A&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var A=S.name==null?null:""+S.name;if(S.type==="hidden"&&a.getAttribute("name")===A)return a}else return a;if(a=oo(a.nextSibling),a===null)break}return null}function hz(a,o,d){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=oo(a.nextSibling),a===null))return null;return a}function oo(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return a}function SA(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"){if(o===0)return a;o--}else d==="/$"&&o++}a=a.previousSibling}return null}function bA(a,o,d){switch(o=Xv(d),a){case"html":if(a=o.documentElement,!a)throw Error(i(452));return a;case"head":if(a=o.head,!a)throw Error(i(453));return a;case"body":if(a=o.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}var Sr=new Map,MA=new Set;function qv(a){return typeof a.getRootNode=="function"?a.getRootNode():a.ownerDocument}var Wl=st.d;st.d={f:dz,r:pz,D:mz,C:gz,L:vz,m:yz,X:_z,S:xz,M:Sz};function dz(){var a=Wl.f(),o=Xl();return a||o}function pz(a){var o=H(a);o!==null&&o.tag===5&&o.type==="form"?bv(o):Wl.r(a)}var od=typeof document>"u"?null:document;function TA(a,o,d){var g=od;if(g&&typeof o=="string"&&o){var S=Li(o);S='link[rel="'+a+'"][href="'+S+'"]',typeof d=="string"&&(S+='[crossorigin="'+d+'"]'),MA.has(S)||(MA.add(S),a={rel:a,crossOrigin:d,href:o},g.querySelector(S)===null&&(o=g.createElement("link"),ws(o,"link",a),gt(o),g.head.appendChild(o)))}}function mz(a){Wl.D(a),TA("dns-prefetch",a,null)}function gz(a,o){Wl.C(a,o),TA("preconnect",a,o)}function vz(a,o,d){Wl.L(a,o,d);var g=od;if(g&&a&&o){var S='link[rel="preload"][as="'+Li(o)+'"]';o==="image"&&d&&d.imageSrcSet?(S+='[imagesrcset="'+Li(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(S+='[imagesizes="'+Li(d.imageSizes)+'"]')):S+='[href="'+Li(a)+'"]';var A=S;switch(o){case"style":A=ld(a);break;case"script":A=cd(a)}Sr.has(A)||(a=P({rel:"preload",href:o==="image"&&d&&d.imageSrcSet?void 0:a,as:o},d),Sr.set(A,a),g.querySelector(S)!==null||o==="style"&&g.querySelector(Rm(A))||o==="script"&&g.querySelector(Dm(A))||(o=g.createElement("link"),ws(o,"link",a),gt(o),g.head.appendChild(o)))}}function yz(a,o){Wl.m(a,o);var d=od;if(d&&a){var g=o&&typeof o.as=="string"?o.as:"script",S='link[rel="modulepreload"][as="'+Li(g)+'"][href="'+Li(a)+'"]',A=S;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=cd(a)}if(!Sr.has(A)&&(a=P({rel:"modulepreload",href:a},o),Sr.set(A,a),d.querySelector(S)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Dm(A)))return}g=d.createElement("link"),ws(g,"link",a),gt(g),d.head.appendChild(g)}}}function xz(a,o,d){Wl.S(a,o,d);var g=od;if(g&&a){var S=xt(g).hoistableStyles,A=ld(a);o=o||"default";var O=S.get(A);if(!O){var G={loading:0,preload:null};if(O=g.querySelector(Rm(A)))G.loading=5;else{a=P({rel:"stylesheet",href:a,"data-precedence":o},d),(d=Sr.get(A))&&kS(a,d);var $=O=g.createElement("link");gt($),ws($,"link",a),$._p=new Promise(function(ut,Lt){$.onload=ut,$.onerror=Lt}),$.addEventListener("load",function(){G.loading|=1}),$.addEventListener("error",function(){G.loading|=2}),G.loading|=4,Yv(O,o,g)}O={type:"stylesheet",instance:O,count:1,state:G},S.set(A,O)}}}function _z(a,o){Wl.X(a,o);var d=od;if(d&&a){var g=xt(d).hoistableScripts,S=cd(a),A=g.get(S);A||(A=d.querySelector(Dm(S)),A||(a=P({src:a,async:!0},o),(o=Sr.get(S))&&jS(a,o),A=d.createElement("script"),gt(A),ws(A,"link",a),d.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},g.set(S,A))}}function Sz(a,o){Wl.M(a,o);var d=od;if(d&&a){var g=xt(d).hoistableScripts,S=cd(a),A=g.get(S);A||(A=d.querySelector(Dm(S)),A||(a=P({src:a,async:!0,type:"module"},o),(o=Sr.get(S))&&jS(a,o),A=d.createElement("script"),gt(A),ws(A,"link",a),d.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},g.set(S,A))}}function EA(a,o,d,g){var S=(S=Rt.current)?qv(S):null;if(!S)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(o=ld(d.href),d=xt(S).hoistableStyles,g=d.get(o),g||(g={type:"style",instance:null,count:0,state:null},d.set(o,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=ld(d.href);var A=xt(S).hoistableStyles,O=A.get(a);if(O||(S=S.ownerDocument||S,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(a,O),(A=S.querySelector(Rm(a)))&&!A._p&&(O.instance=A,O.state.loading=5),Sr.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Sr.set(a,d),A||bz(S,a,d,O.state))),o&&g===null)throw Error(i(528,""));return O}if(o&&g!==null)throw Error(i(529,""));return null;case"script":return o=d.async,d=d.src,typeof d=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=cd(d),d=xt(S).hoistableScripts,g=d.get(o),g||(g={type:"script",instance:null,count:0,state:null},d.set(o,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function ld(a){return'href="'+Li(a)+'"'}function Rm(a){return'link[rel="stylesheet"]['+a+"]"}function AA(a){return P({},a,{"data-precedence":a.precedence,precedence:null})}function bz(a,o,d,g){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?g.loading=1:(o=a.createElement("link"),g.preload=o,o.addEventListener("load",function(){return g.loading|=1}),o.addEventListener("error",function(){return g.loading|=2}),ws(o,"link",d),gt(o),a.head.appendChild(o))}function cd(a){return'[src="'+Li(a)+'"]'}function Dm(a){return"script[async]"+a}function wA(a,o,d){if(o.count++,o.instance===null)switch(o.type){case"style":var g=a.querySelector('style[data-href~="'+Li(d.href)+'"]');if(g)return o.instance=g,gt(g),g;var S=P({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return g=(a.ownerDocument||a).createElement("style"),gt(g),ws(g,"style",S),Yv(g,d.precedence,a),o.instance=g;case"stylesheet":S=ld(d.href);var A=a.querySelector(Rm(S));if(A)return o.state.loading|=4,o.instance=A,gt(A),A;g=AA(d),(S=Sr.get(S))&&kS(g,S),A=(a.ownerDocument||a).createElement("link"),gt(A);var O=A;return O._p=new Promise(function(G,$){O.onload=G,O.onerror=$}),ws(A,"link",g),o.state.loading|=4,Yv(A,d.precedence,a),o.instance=A;case"script":return A=cd(d.src),(S=a.querySelector(Dm(A)))?(o.instance=S,gt(S),S):(g=d,(S=Sr.get(A))&&(g=P({},d),jS(g,S)),a=a.ownerDocument||a,S=a.createElement("script"),gt(S),ws(S,"link",g),a.head.appendChild(S),o.instance=S);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&!(o.state.loading&4)&&(g=o.instance,o.state.loading|=4,Yv(g,d.precedence,a));return o.instance}function Yv(a,o,d){for(var g=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=g.length?g[g.length-1]:null,A=S,O=0;O<g.length;O++){var G=g[O];if(G.dataset.precedence===o)A=G;else if(A!==S)break}A?A.parentNode.insertBefore(a,A.nextSibling):(o=d.nodeType===9?d.head:d,o.insertBefore(a,o.firstChild))}function kS(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function jS(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var Wv=null;function CA(a,o,d){if(Wv===null){var g=new Map,S=Wv=new Map;S.set(d,g)}else S=Wv,g=S.get(d),g||(g=new Map,S.set(d,g));if(g.has(a))return g;for(g.set(a,null),d=d.getElementsByTagName(a),S=0;S<d.length;S++){var A=d[S];if(!(A[Rr]||A[ei]||a==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var O=A.getAttribute(o)||"";O=a+O;var G=g.get(O);G?G.push(A):g.set(O,[A])}}return g}function RA(a,o,d){a=a.ownerDocument||a,a.head.insertBefore(d,o==="title"?a.querySelector("head > title"):null)}function Mz(a,o,d){if(d===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function DA(a){return!(a.type==="stylesheet"&&!(a.state.loading&3))}var Nm=null;function Tz(){}function Ez(a,o,d){if(Nm===null)throw Error(i(475));var g=Nm;if(o.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&!(o.state.loading&4)){if(o.instance===null){var S=ld(d.href),A=a.querySelector(Rm(S));if(A){a=A._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(g.count++,g=Zv.bind(g),a.then(g,g)),o.state.loading|=4,o.instance=A,gt(A);return}A=a.ownerDocument||a,d=AA(d),(S=Sr.get(S))&&kS(d,S),A=A.createElement("link"),gt(A);var O=A;O._p=new Promise(function(G,$){O.onload=G,O.onerror=$}),ws(A,"link",d),o.instance=A}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(o,a),(a=o.state.preload)&&!(o.state.loading&3)&&(g.count++,o=Zv.bind(g),a.addEventListener("load",o),a.addEventListener("error",o))}}function Az(){if(Nm===null)throw Error(i(475));var a=Nm;return a.stylesheets&&a.count===0&&XS(a,a.stylesheets),0<a.count?function(o){var d=setTimeout(function(){if(a.stylesheets&&XS(a,a.stylesheets),a.unsuspend){var g=a.unsuspend;a.unsuspend=null,g()}},6e4);return a.unsuspend=o,function(){a.unsuspend=null,clearTimeout(d)}}:null}function Zv(){if(this.count--,this.count===0){if(this.stylesheets)XS(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Kv=null;function XS(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Kv=new Map,o.forEach(wz,a),Kv=null,Zv.call(a))}function wz(a,o){if(!(o.state.loading&4)){var d=Kv.get(a);if(d)var g=d.get(null);else{d=new Map,Kv.set(a,d);for(var S=a.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<S.length;A++){var O=S[A];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(d.set(O.dataset.precedence,O),g=O)}g&&d.set(null,g)}S=o.instance,O=S.getAttribute("data-precedence"),A=d.get(O)||g,A===g&&d.set(null,S),d.set(O,S),this.count++,g=Zv.bind(this),S.addEventListener("load",g),S.addEventListener("error",g),A?A.parentNode.insertBefore(S,A.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(S,a.firstChild)),o.state.loading|=4}}var Lm={$$typeof:_,Provider:null,Consumer:null,_currentValue:Et,_currentValue2:Et,_threadCount:0};function Cz(a,o,d,g,S,A,O,G){this.tag=1,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ts(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ts(0),this.hiddenUpdates=ts(null),this.identifierPrefix=g,this.onUncaughtError=S,this.onCaughtError=A,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function NA(a,o,d,g,S,A,O,G,$,ut,Lt,jt){return a=new Cz(a,o,d,O,G,$,ut,jt),o=1,A===!0&&(o|=24),A=hi(3,null,null,o),a.current=A,A.stateNode=a,o=Kp(),o.refCount++,a.pooledCache=o,o.refCount++,A.memoizedState={element:g,isDehydrated:d,cache:o},bs(A),a}function LA(a){return a?(a=Lo,a):Lo}function UA(a,o,d,g,S,A){S=LA(S),g.context===null?g.context=S:g.pendingContext=S,g=ia(o),g.payload={element:d},A=A===void 0?null:A,A!==null&&(g.callback=A),d=sa(a,g,o),d!==null&&(Ei(d,a,o),Ko(d,a,o))}function OA(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<o?d:o}}function qS(a,o){OA(a,o),(a=a.alternate)&&OA(a,o)}function PA(a){if(a.tag===13){var o=Vr(a,67108864);o!==null&&Ei(o,a,67108864),qS(a,67108864)}}var Qv=!0;function Rz(a,o,d,g){var S=U.T;U.T=null;var A=st.p;try{st.p=2,YS(a,o,d,g)}finally{st.p=A,U.T=S}}function Dz(a,o,d,g){var S=U.T;U.T=null;var A=st.p;try{st.p=8,YS(a,o,d,g)}finally{st.p=A,U.T=S}}function YS(a,o,d,g){if(Qv){var S=WS(g);if(S===null)PS(a,o,g,$v,d),BA(a,g);else if(Lz(S,a,o,d,g))g.stopPropagation();else if(BA(a,g),o&4&&-1<Nz.indexOf(a)){for(;S!==null;){var A=H(S);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var O=te(A.pendingLanes);if(O!==0){var G=A;for(G.pendingLanes|=2,G.entangledLanes|=2;O;){var $=1<<31-Me(O);G.entanglements[1]|=$,O&=~$}Bn(A),!(Ge&6)&&(rn=wt()+500,un(0))}}break;case 13:G=Vr(A,2),G!==null&&Ei(G,A,2),Xl(),qS(A,2)}if(A=WS(g),A===null&&PS(a,o,g,$v,d),A===S)break;S=A}S!==null&&g.stopPropagation()}else PS(a,o,g,null,d)}}function WS(a){return a=Ou(a),ZS(a)}var $v=null;function ZS(a){if($v=null,a=Ga(a),a!==null){var o=Q(a);if(o===null)a=null;else{var d=o.tag;if(d===13){if(a=_t(o),a!==null)return a;a=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return $v=a,null}function zA(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ft()){case Dt:return 2;case ce:return 8;case ee:case fe:return 32;case We:return 268435456;default:return 32}default:return 32}}var KS=!1,$c=null,Jc=null,tu=null,Um=new Map,Om=new Map,eu=[],Nz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function BA(a,o){switch(a){case"focusin":case"focusout":$c=null;break;case"dragenter":case"dragleave":Jc=null;break;case"mouseover":case"mouseout":tu=null;break;case"pointerover":case"pointerout":Um.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Om.delete(o.pointerId)}}function Pm(a,o,d,g,S,A){return a===null||a.nativeEvent!==A?(a={blockedOn:o,domEventName:d,eventSystemFlags:g,nativeEvent:A,targetContainers:[S]},o!==null&&(o=H(o),o!==null&&PA(o)),a):(a.eventSystemFlags|=g,o=a.targetContainers,S!==null&&o.indexOf(S)===-1&&o.push(S),a)}function Lz(a,o,d,g,S){switch(o){case"focusin":return $c=Pm($c,a,o,d,g,S),!0;case"dragenter":return Jc=Pm(Jc,a,o,d,g,S),!0;case"mouseover":return tu=Pm(tu,a,o,d,g,S),!0;case"pointerover":var A=S.pointerId;return Um.set(A,Pm(Um.get(A)||null,a,o,d,g,S)),!0;case"gotpointercapture":return A=S.pointerId,Om.set(A,Pm(Om.get(A)||null,a,o,d,g,S)),!0}return!1}function VA(a){var o=Ga(a.target);if(o!==null){var d=Q(o);if(d!==null){if(o=d.tag,o===13){if(o=_t(d),o!==null){a.blockedOn=o,Fa(a.priority,function(){if(d.tag===13){var g=As(),S=Vr(d,g);S!==null&&Ei(S,d,g),qS(d,g)}});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Jv(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var d=WS(a.nativeEvent);if(d===null){d=a.nativeEvent;var g=new d.constructor(d.type,d);vh=g,d.target.dispatchEvent(g),vh=null}else return o=H(d),o!==null&&PA(o),a.blockedOn=d,!1;o.shift()}return!0}function IA(a,o,d){Jv(a)&&d.delete(o)}function Uz(){KS=!1,$c!==null&&Jv($c)&&($c=null),Jc!==null&&Jv(Jc)&&(Jc=null),tu!==null&&Jv(tu)&&(tu=null),Um.forEach(IA),Om.forEach(IA)}function ty(a,o){a.blockedOn===o&&(a.blockedOn=null,KS||(KS=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Uz)))}var ey=null;function FA(a){ey!==a&&(ey=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ey===a&&(ey=null);for(var o=0;o<a.length;o+=3){var d=a[o],g=a[o+1],S=a[o+2];if(typeof g!="function"){if(ZS(g||d)===null)continue;break}var A=H(d);A!==null&&(a.splice(o,3),o-=3,am(A,{pending:!0,data:S,method:d.method,action:g},g,S))}}))}function zm(a){function o($){return ty($,a)}$c!==null&&ty($c,a),Jc!==null&&ty(Jc,a),tu!==null&&ty(tu,a),Um.forEach(o),Om.forEach(o);for(var d=0;d<eu.length;d++){var g=eu[d];g.blockedOn===a&&(g.blockedOn=null)}for(;0<eu.length&&(d=eu[0],d.blockedOn===null);)VA(d),d.blockedOn===null&&eu.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(g=0;g<d.length;g+=3){var S=d[g],A=d[g+1],O=S[Ze]||null;if(typeof A=="function")O||FA(d);else if(O){var G=null;if(A&&A.hasAttribute("formAction")){if(S=A,O=A[Ze]||null)G=O.formAction;else if(ZS(S)!==null)continue}else G=O.action;typeof G=="function"?d[g+1]=G:(d.splice(g,3),g-=3),FA(d)}}}function QS(a){this._internalRoot=a}ny.prototype.render=QS.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(i(409));var d=o.current,g=As();UA(d,g,a,o,null,null)},ny.prototype.unmount=QS.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;a.tag===0&&Zt(),UA(a.current,2,null,a,null,null),Xl(),o[Ha]=null}};function ny(a){this._internalRoot=a}ny.prototype.unstable_scheduleHydration=function(a){if(a){var o=gc();a={blockedOn:null,target:a,priority:o};for(var d=0;d<eu.length&&o!==0&&o<eu[d].priority;d++);eu.splice(d,0,a),d===0&&VA(a)}};var HA=t.version;if(HA!=="19.0.0")throw Error(i(527,HA,"19.0.0"));st.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=at(o),a=a!==null?At(a):null,a=a===null?null:a.stateNode,a};var Oz={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:U,findFiberByHostInstance:Ga,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var iy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iy.isDisabled&&iy.supportsFiber)try{xe=iy.inject(Oz),ve=iy}catch{}}return Vm.createRoot=function(a,o){if(!s(a))throw Error(i(299));var d=!1,g="",S=Dv,A=Nv,O=Lv,G=null;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onUncaughtError!==void 0&&(S=o.onUncaughtError),o.onCaughtError!==void 0&&(A=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(G=o.unstable_transitionCallbacks)),o=NA(a,1,!1,null,null,d,g,S,A,O,G,null),a[Ha]=o.current,OS(a.nodeType===8?a.parentNode:a),new QS(o)},Vm.hydrateRoot=function(a,o,d){if(!s(a))throw Error(i(299));var g=!1,S="",A=Dv,O=Nv,G=Lv,$=null,ut=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(S=d.identifierPrefix),d.onUncaughtError!==void 0&&(A=d.onUncaughtError),d.onCaughtError!==void 0&&(O=d.onCaughtError),d.onRecoverableError!==void 0&&(G=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&($=d.unstable_transitionCallbacks),d.formState!==void 0&&(ut=d.formState)),o=NA(a,1,!0,o,d??null,g,S,A,O,G,$,ut),o.context=LA(null),d=o.current,g=As(),S=ia(g),S.callback=null,sa(d,S,g),o.current.lanes=g,es(o,g),Bn(o),a[Ha]=o.current,OS(a),new ny(o)},Vm.version="19.0.0",Vm}var QA;function kz(){if(QA)return t1.exports;QA=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),t1.exports=Gz(),t1.exports}var $D=kz();/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const T_="173",jz={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Xz={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},JD=0,Bb=1,t3=2,qz=3,e3=0,E_=1,og=2,po=3,uc=0,da=1,go=2,rc=0,Zf=1,Vb=2,Ib=3,Fb=4,n3=5,mu=100,i3=101,s3=102,a3=103,r3=104,o3=200,l3=201,c3=202,u3=203,bx=204,Mx=205,f3=206,h3=207,d3=208,p3=209,m3=210,g3=211,v3=212,y3=213,x3=214,Tx=0,Ex=1,Ax=2,nh=3,wx=4,Cx=5,Rx=6,Dx=7,o0=0,_3=1,S3=2,ll=0,b3=1,M3=2,T3=3,KM=4,E3=5,A3=6,w3=7,Hb="attached",C3="detached",A_=300,fc=301,yu=302,Cg=303,Rg=304,fp=306,Dg=1e3,Cr=1001,Ng=1002,Ds=1003,QM=1004,Yz=1004,Ud=1005,Wz=1005,Qi=1006,lg=1007,Zz=1007,ol=1008,Kz=1008,xo=1009,$M=1010,JM=1011,Jd=1012,w_=1013,hc=1014,Pa=1015,hp=1016,C_=1017,R_=1018,ih=1020,tT=35902,eT=1021,nT=1022,Ys=1023,iT=1024,sT=1025,Kf=1026,sh=1027,D_=1028,l0=1029,aT=1030,N_=1031,Qz=1032,L_=1033,cg=33776,ug=33777,fg=33778,hg=33779,Nx=35840,Lx=35841,Ux=35842,Ox=35843,Px=36196,zx=37492,Bx=37496,Vx=37808,Ix=37809,Fx=37810,Hx=37811,Gx=37812,kx=37813,jx=37814,Xx=37815,qx=37816,Yx=37817,Wx=37818,Zx=37819,Kx=37820,Qx=37821,dg=36492,$x=36494,Jx=36495,rT=36283,t_=36284,e_=36285,n_=36286,R3=2200,D3=2201,N3=2202,Lg=2300,i_=2301,lx=2302,Gf=2400,kf=2401,Ug=2402,U_=2500,oT=2501,$z=0,Jz=1,tB=2,L3=3200,U3=3201,eB=3202,nB=3203,Tu=0,O3=1,ic="",qs="srgb",xu="srgb-linear",Og="linear",Vn="srgb",iB=0,Bf=7680,sB=7681,aB=7682,rB=7683,oB=34055,lB=34056,cB=5386,uB=512,fB=513,hB=514,dB=515,pB=516,mB=517,gB=518,Gb=519,P3=512,z3=513,B3=514,lT=515,V3=516,I3=517,F3=518,H3=519,Pg=35044,vB=35048,yB=35040,xB=35045,_B=35049,SB=35041,bB=35046,MB=35050,TB=35042,EB="100",kb="300 es",vo=2e3,zg=2001,AB={COMPUTE:"compute",RENDER:"render"};class yl{addEventListener(t,e){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[t]===void 0&&(i[t]=[]),i[t].indexOf(e)===-1&&i[t].push(e)}hasEventListener(t,e){const i=this._listeners;return i===void 0?!1:i[t]!==void 0&&i[t].indexOf(e)!==-1}removeEventListener(t,e){const i=this._listeners;if(i===void 0)return;const s=i[t];if(s!==void 0){const r=s.indexOf(e);r!==-1&&s.splice(r,1)}}dispatchEvent(t){const e=this._listeners;if(e===void 0)return;const i=e[t.type];if(i!==void 0){t.target=this;const s=i.slice(0);for(let r=0,l=s.length;r<l;r++)s[r].call(this,t);t.target=null}}}const Gs=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let $A=1234567;const Qf=Math.PI/180,tp=180/Math.PI;function ir(){const n=Math.random()*4294967295|0,t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Gs[n&255]+Gs[n>>8&255]+Gs[n>>16&255]+Gs[n>>24&255]+"-"+Gs[t&255]+Gs[t>>8&255]+"-"+Gs[t>>16&15|64]+Gs[t>>24&255]+"-"+Gs[e&63|128]+Gs[e>>8&255]+"-"+Gs[e>>16&255]+Gs[e>>24&255]+Gs[i&255]+Gs[i>>8&255]+Gs[i>>16&255]+Gs[i>>24&255]).toLowerCase()}function Xe(n,t,e){return Math.max(t,Math.min(e,n))}function cT(n,t){return(n%t+t)%t}function wB(n,t,e,i,s){return i+(n-t)*(s-i)/(e-t)}function CB(n,t,e){return n!==t?(e-n)/(t-n):0}function pg(n,t,e){return(1-e)*n+e*t}function RB(n,t,e,i){return pg(n,t,1-Math.exp(-e*i))}function DB(n,t=1){return t-Math.abs(cT(n,t*2)-t)}function NB(n,t,e){return n<=t?0:n>=e?1:(n=(n-t)/(e-t),n*n*(3-2*n))}function LB(n,t,e){return n<=t?0:n>=e?1:(n=(n-t)/(e-t),n*n*n*(n*(n*6-15)+10))}function UB(n,t){return n+Math.floor(Math.random()*(t-n+1))}function OB(n,t){return n+Math.random()*(t-n)}function PB(n){return n*(.5-Math.random())}function zB(n){n!==void 0&&($A=n);let t=$A+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}function BB(n){return n*Qf}function VB(n){return n*tp}function IB(n){return(n&n-1)===0&&n!==0}function FB(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function HB(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function GB(n,t,e,i,s){const r=Math.cos,l=Math.sin,u=r(e/2),h=l(e/2),p=r((t+i)/2),m=l((t+i)/2),v=r((t-i)/2),x=l((t-i)/2),_=r((i-t)/2),T=l((i-t)/2);switch(s){case"XYX":n.set(u*m,h*v,h*x,u*p);break;case"YZY":n.set(h*x,u*m,h*v,u*p);break;case"ZXZ":n.set(h*v,h*x,u*m,u*p);break;case"XZX":n.set(u*m,h*T,h*_,u*p);break;case"YXY":n.set(h*_,u*m,h*T,u*p);break;case"ZYZ":n.set(h*T,h*_,u*m,u*p);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+s)}}function ua(n,t){switch(t.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Ye(n,t){switch(t.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const G3={DEG2RAD:Qf,RAD2DEG:tp,generateUUID:ir,clamp:Xe,euclideanModulo:cT,mapLinear:wB,inverseLerp:CB,lerp:pg,damp:RB,pingpong:DB,smoothstep:NB,smootherstep:LB,randInt:UB,randFloat:OB,randFloatSpread:PB,seededRandom:zB,degToRad:BB,radToDeg:VB,isPowerOfTwo:IB,ceilPowerOfTwo:FB,floorPowerOfTwo:HB,setQuaternionFromProperEuler:GB,normalize:Ye,denormalize:ua};class Vt{constructor(t=0,e=0){Vt.prototype.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,i=this.y,s=t.elements;return this.x=s[0]*e+s[3]*i+s[6],this.y=s[1]*e+s[4]*i+s[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Xe(this.x,t.x,e.x),this.y=Xe(this.y,t.y,e.y),this}clampScalar(t,e){return this.x=Xe(this.x,t,e),this.y=Xe(this.y,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Xe(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(Xe(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y;return e*e+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const i=Math.cos(e),s=Math.sin(e),r=this.x-t.x,l=this.y-t.y;return this.x=r*i-l*s+t.x,this.y=r*s+l*i+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class qe{constructor(t,e,i,s,r,l,u,h,p){qe.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],t!==void 0&&this.set(t,e,i,s,r,l,u,h,p)}set(t,e,i,s,r,l,u,h,p){const m=this.elements;return m[0]=t,m[1]=s,m[2]=u,m[3]=e,m[4]=r,m[5]=h,m[6]=i,m[7]=l,m[8]=p,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this}extractBasis(t,e,i){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,s=e.elements,r=this.elements,l=i[0],u=i[3],h=i[6],p=i[1],m=i[4],v=i[7],x=i[2],_=i[5],T=i[8],C=s[0],E=s[3],M=s[6],R=s[1],D=s[4],L=s[7],z=s[2],B=s[5],I=s[8];return r[0]=l*C+u*R+h*z,r[3]=l*E+u*D+h*B,r[6]=l*M+u*L+h*I,r[1]=p*C+m*R+v*z,r[4]=p*E+m*D+v*B,r[7]=p*M+m*L+v*I,r[2]=x*C+_*R+T*z,r[5]=x*E+_*D+T*B,r[8]=x*M+_*L+T*I,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[1],s=t[2],r=t[3],l=t[4],u=t[5],h=t[6],p=t[7],m=t[8];return e*l*m-e*u*p-i*r*m+i*u*h+s*r*p-s*l*h}invert(){const t=this.elements,e=t[0],i=t[1],s=t[2],r=t[3],l=t[4],u=t[5],h=t[6],p=t[7],m=t[8],v=m*l-u*p,x=u*h-m*r,_=p*r-l*h,T=e*v+i*x+s*_;if(T===0)return this.set(0,0,0,0,0,0,0,0,0);const C=1/T;return t[0]=v*C,t[1]=(s*p-m*i)*C,t[2]=(u*i-s*l)*C,t[3]=x*C,t[4]=(m*e-s*h)*C,t[5]=(s*r-u*e)*C,t[6]=_*C,t[7]=(i*h-p*e)*C,t[8]=(l*e-i*r)*C,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,i,s,r,l,u){const h=Math.cos(r),p=Math.sin(r);return this.set(i*h,i*p,-i*(h*l+p*u)+l+t,-s*p,s*h,-s*(-p*l+h*u)+u+e,0,0,1),this}scale(t,e){return this.premultiply(s1.makeScale(t,e)),this}rotate(t){return this.premultiply(s1.makeRotation(-t)),this}translate(t,e){return this.premultiply(s1.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,i,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){const e=this.elements,i=t.elements;for(let s=0;s<9;s++)if(e[s]!==i[s])return!1;return!0}fromArray(t,e=0){for(let i=0;i<9;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}clone(){return new this.constructor().fromArray(this.elements)}}const s1=new qe;function k3(n){for(let t=n.length-1;t>=0;--t)if(n[t]>=65535)return!0;return!1}const kB={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Od(n,t){return new kB[n](t)}function Bg(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function j3(){const n=Bg("canvas");return n.style.display="block",n}const JA={};function Ld(n){n in JA||(JA[n]=!0,console.warn(n))}function jB(n,t,e){return new Promise(function(i,s){function r(){switch(n.clientWaitSync(t,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:s();break;case n.TIMEOUT_EXPIRED:setTimeout(r,e);break;default:i()}}setTimeout(r,e)})}function XB(n){const t=n.elements;t[2]=.5*t[2]+.5*t[3],t[6]=.5*t[6]+.5*t[7],t[10]=.5*t[10]+.5*t[11],t[14]=.5*t[14]+.5*t[15]}function qB(n){const t=n.elements;t[11]===-1?(t[10]=-t[10]-1,t[14]=-t[14]):(t[10]=-t[10],t[14]=-t[14]+1)}const tw=new qe().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),ew=new qe().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function YB(){const n={enabled:!0,workingColorSpace:xu,spaces:{},convert:function(s,r,l){return this.enabled===!1||r===l||!r||!l||(this.spaces[r].transfer===Vn&&(s.r=oc(s.r),s.g=oc(s.g),s.b=oc(s.b)),this.spaces[r].primaries!==this.spaces[l].primaries&&(s.applyMatrix3(this.spaces[r].toXYZ),s.applyMatrix3(this.spaces[l].fromXYZ)),this.spaces[l].transfer===Vn&&(s.r=$d(s.r),s.g=$d(s.g),s.b=$d(s.b))),s},fromWorkingColorSpace:function(s,r){return this.convert(s,this.workingColorSpace,r)},toWorkingColorSpace:function(s,r){return this.convert(s,r,this.workingColorSpace)},getPrimaries:function(s){return this.spaces[s].primaries},getTransfer:function(s){return s===ic?Og:this.spaces[s].transfer},getLuminanceCoefficients:function(s,r=this.workingColorSpace){return s.fromArray(this.spaces[r].luminanceCoefficients)},define:function(s){Object.assign(this.spaces,s)},_getMatrix:function(s,r,l){return s.copy(this.spaces[r].toXYZ).multiply(this.spaces[l].fromXYZ)},_getDrawingBufferColorSpace:function(s){return this.spaces[s].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(s=this.workingColorSpace){return this.spaces[s].workingColorSpaceConfig.unpackColorSpace}},t=[.64,.33,.3,.6,.15,.06],e=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[xu]:{primaries:t,whitePoint:i,transfer:Og,toXYZ:tw,fromXYZ:ew,luminanceCoefficients:e,workingColorSpaceConfig:{unpackColorSpace:qs},outputColorSpaceConfig:{drawingBufferColorSpace:qs}},[qs]:{primaries:t,whitePoint:i,transfer:Vn,toXYZ:tw,fromXYZ:ew,luminanceCoefficients:e,outputColorSpaceConfig:{drawingBufferColorSpace:qs}}}),n}const yn=YB();function oc(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function $d(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let ud;class X3{static getDataURL(t){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{ud===void 0&&(ud=Bg("canvas")),ud.width=t.width,ud.height=t.height;const i=ud.getContext("2d");t instanceof ImageData?i.putImageData(t,0,0):i.drawImage(t,0,0,t.width,t.height),e=ud}return e.toDataURL("image/png")}static sRGBToLinear(t){if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap){const e=Bg("canvas");e.width=t.width,e.height=t.height;const i=e.getContext("2d");i.drawImage(t,0,0,t.width,t.height);const s=i.getImageData(0,0,t.width,t.height),r=s.data;for(let l=0;l<r.length;l++)r[l]=oc(r[l]/255)*255;return i.putImageData(s,0,0),e}else if(t.data){const e=t.data.slice(0);for(let i=0;i<e.length;i++)e instanceof Uint8Array||e instanceof Uint8ClampedArray?e[i]=Math.floor(oc(e[i]/255)*255):e[i]=oc(e[i]);return{data:e,width:t.width,height:t.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}let WB=0;class jf{constructor(t=null){this.isSource=!0,Object.defineProperty(this,"id",{value:WB++}),this.uuid=ir(),this.data=t,this.dataReady=!0,this.version=0}set needsUpdate(t){t===!0&&this.version++}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.images[this.uuid]!==void 0)return t.images[this.uuid];const i={uuid:this.uuid,url:""},s=this.data;if(s!==null){let r;if(Array.isArray(s)){r=[];for(let l=0,u=s.length;l<u;l++)s[l].isDataTexture?r.push(a1(s[l].image)):r.push(a1(s[l]))}else r=a1(s);i.url=r}return e||(t.images[this.uuid]=i),i}}function a1(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?X3.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let ZB=0;class Ni extends yl{constructor(t=Ni.DEFAULT_IMAGE,e=Ni.DEFAULT_MAPPING,i=Cr,s=Cr,r=Qi,l=ol,u=Ys,h=xo,p=Ni.DEFAULT_ANISOTROPY,m=ic){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:ZB++}),this.uuid=ir(),this.name="",this.source=new jf(t),this.mipmaps=[],this.mapping=e,this.channel=0,this.wrapS=i,this.wrapT=s,this.magFilter=r,this.minFilter=l,this.anisotropy=p,this.format=u,this.internalFormat=null,this.type=h,this.offset=new Vt(0,0),this.repeat=new Vt(1,1),this.center=new Vt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new qe,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.renderTarget=t.renderTarget,this.isRenderTargetTexture=t.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.textures[this.uuid]!==void 0)return t.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),e||(t.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==A_)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case Dg:t.x=t.x-Math.floor(t.x);break;case Cr:t.x=t.x<0?0:1;break;case Ng:Math.abs(Math.floor(t.x)%2)===1?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case Dg:t.y=t.y-Math.floor(t.y);break;case Cr:t.y=t.y<0?0:1;break;case Ng:Math.abs(Math.floor(t.y)%2)===1?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){t===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(t){t===!0&&this.pmremVersion++}}Ni.DEFAULT_IMAGE=null;Ni.DEFAULT_MAPPING=A_;Ni.DEFAULT_ANISOTROPY=1;class Mn{constructor(t=0,e=0,i=0,s=1){Mn.prototype.isVector4=!0,this.x=t,this.y=e,this.z=i,this.w=s}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,i,s){return this.x=t,this.y=e,this.z=i,this.w=s,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,i=this.y,s=this.z,r=this.w,l=t.elements;return this.x=l[0]*e+l[4]*i+l[8]*s+l[12]*r,this.y=l[1]*e+l[5]*i+l[9]*s+l[13]*r,this.z=l[2]*e+l[6]*i+l[10]*s+l[14]*r,this.w=l[3]*e+l[7]*i+l[11]*s+l[15]*r,this}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this.w/=t.w,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,i,s,r;const h=t.elements,p=h[0],m=h[4],v=h[8],x=h[1],_=h[5],T=h[9],C=h[2],E=h[6],M=h[10];if(Math.abs(m-x)<.01&&Math.abs(v-C)<.01&&Math.abs(T-E)<.01){if(Math.abs(m+x)<.1&&Math.abs(v+C)<.1&&Math.abs(T+E)<.1&&Math.abs(p+_+M-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;const D=(p+1)/2,L=(_+1)/2,z=(M+1)/2,B=(m+x)/4,I=(v+C)/4,V=(T+E)/4;return D>L&&D>z?D<.01?(i=0,s=.707106781,r=.707106781):(i=Math.sqrt(D),s=B/i,r=I/i):L>z?L<.01?(i=.707106781,s=0,r=.707106781):(s=Math.sqrt(L),i=B/s,r=V/s):z<.01?(i=.707106781,s=.707106781,r=0):(r=Math.sqrt(z),i=I/r,s=V/r),this.set(i,s,r,e),this}let R=Math.sqrt((E-T)*(E-T)+(v-C)*(v-C)+(x-m)*(x-m));return Math.abs(R)<.001&&(R=1),this.x=(E-T)/R,this.y=(v-C)/R,this.z=(x-m)/R,this.w=Math.acos((p+_+M-1)/2),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this.w=e[15],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Xe(this.x,t.x,e.x),this.y=Xe(this.y,t.y,e.y),this.z=Xe(this.z,t.z,e.z),this.w=Xe(this.w,t.w,e.w),this}clampScalar(t,e){return this.x=Xe(this.x,t,e),this.y=Xe(this.y,t,e),this.z=Xe(this.z,t,e),this.w=Xe(this.w,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Xe(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this.w=t.w+(e.w-t.w)*i,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class O_ extends yl{constructor(t=1,e=1,i={}){super(),this.isRenderTarget=!0,this.width=t,this.height=e,this.depth=1,this.scissor=new Mn(0,0,t,e),this.scissorTest=!1,this.viewport=new Mn(0,0,t,e);const s={width:t,height:e,depth:1};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Qi,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},i);const r=new Ni(s,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);r.flipY=!1,r.generateMipmaps=i.generateMipmaps,r.internalFormat=i.internalFormat,this.textures=[];const l=i.count;for(let u=0;u<l;u++)this.textures[u]=r.clone(),this.textures[u].isRenderTargetTexture=!0,this.textures[u].renderTarget=this;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples}get texture(){return this.textures[0]}set texture(t){this.textures[0]=t}set depthTexture(t){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),t!==null&&(t.renderTarget=this),this._depthTexture=t}get depthTexture(){return this._depthTexture}setSize(t,e,i=1){if(this.width!==t||this.height!==e||this.depth!==i){this.width=t,this.height=e,this.depth=i;for(let s=0,r=this.textures.length;s<r;s++)this.textures[s].image.width=t,this.textures[s].image.height=e,this.textures[s].image.depth=i;this.dispose()}this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return new this.constructor().copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.textures.length=0;for(let i=0,s=t.textures.length;i<s;i++)this.textures[i]=t.textures[i].clone(),this.textures[i].isRenderTargetTexture=!0,this.textures[i].renderTarget=this;const e=Object.assign({},t.texture.image);return this.texture.source=new jf(e),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.resolveDepthBuffer=t.resolveDepthBuffer,this.resolveStencilBuffer=t.resolveStencilBuffer,t.depthTexture!==null&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class gl extends O_{constructor(t=1,e=1,i={}){super(t,e,i),this.isWebGLRenderTarget=!0}}class c0 extends Ni{constructor(t=null,e=1,i=1,s=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:e,height:i,depth:s},this.magFilter=Ds,this.minFilter=Ds,this.wrapR=Cr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class KB extends gl{constructor(t=1,e=1,i=1,s={}){super(t,e,s),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new c0(null,t,e,i),this.texture.isRenderTargetTexture=!0}}class P_ extends Ni{constructor(t=null,e=1,i=1,s=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:e,height:i,depth:s},this.magFilter=Ds,this.minFilter=Ds,this.wrapR=Cr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class QB extends gl{constructor(t=1,e=1,i=1,s={}){super(t,e,s),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new P_(null,t,e,i),this.texture.isRenderTargetTexture=!0}}class Ba{constructor(t=0,e=0,i=0,s=1){this.isQuaternion=!0,this._x=t,this._y=e,this._z=i,this._w=s}static slerpFlat(t,e,i,s,r,l,u){let h=i[s+0],p=i[s+1],m=i[s+2],v=i[s+3];const x=r[l+0],_=r[l+1],T=r[l+2],C=r[l+3];if(u===0){t[e+0]=h,t[e+1]=p,t[e+2]=m,t[e+3]=v;return}if(u===1){t[e+0]=x,t[e+1]=_,t[e+2]=T,t[e+3]=C;return}if(v!==C||h!==x||p!==_||m!==T){let E=1-u;const M=h*x+p*_+m*T+v*C,R=M>=0?1:-1,D=1-M*M;if(D>Number.EPSILON){const z=Math.sqrt(D),B=Math.atan2(z,M*R);E=Math.sin(E*B)/z,u=Math.sin(u*B)/z}const L=u*R;if(h=h*E+x*L,p=p*E+_*L,m=m*E+T*L,v=v*E+C*L,E===1-u){const z=1/Math.sqrt(h*h+p*p+m*m+v*v);h*=z,p*=z,m*=z,v*=z}}t[e]=h,t[e+1]=p,t[e+2]=m,t[e+3]=v}static multiplyQuaternionsFlat(t,e,i,s,r,l){const u=i[s],h=i[s+1],p=i[s+2],m=i[s+3],v=r[l],x=r[l+1],_=r[l+2],T=r[l+3];return t[e]=u*T+m*v+h*_-p*x,t[e+1]=h*T+m*x+p*v-u*_,t[e+2]=p*T+m*_+u*x-h*v,t[e+3]=m*T-u*v-h*x-p*_,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,i,s){return this._x=t,this._y=e,this._z=i,this._w=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e=!0){const i=t._x,s=t._y,r=t._z,l=t._order,u=Math.cos,h=Math.sin,p=u(i/2),m=u(s/2),v=u(r/2),x=h(i/2),_=h(s/2),T=h(r/2);switch(l){case"XYZ":this._x=x*m*v+p*_*T,this._y=p*_*v-x*m*T,this._z=p*m*T+x*_*v,this._w=p*m*v-x*_*T;break;case"YXZ":this._x=x*m*v+p*_*T,this._y=p*_*v-x*m*T,this._z=p*m*T-x*_*v,this._w=p*m*v+x*_*T;break;case"ZXY":this._x=x*m*v-p*_*T,this._y=p*_*v+x*m*T,this._z=p*m*T+x*_*v,this._w=p*m*v-x*_*T;break;case"ZYX":this._x=x*m*v-p*_*T,this._y=p*_*v+x*m*T,this._z=p*m*T-x*_*v,this._w=p*m*v+x*_*T;break;case"YZX":this._x=x*m*v+p*_*T,this._y=p*_*v+x*m*T,this._z=p*m*T-x*_*v,this._w=p*m*v-x*_*T;break;case"XZY":this._x=x*m*v-p*_*T,this._y=p*_*v-x*m*T,this._z=p*m*T+x*_*v,this._w=p*m*v+x*_*T;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+l)}return e===!0&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const i=e/2,s=Math.sin(i);return this._x=t.x*s,this._y=t.y*s,this._z=t.z*s,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,i=e[0],s=e[4],r=e[8],l=e[1],u=e[5],h=e[9],p=e[2],m=e[6],v=e[10],x=i+u+v;if(x>0){const _=.5/Math.sqrt(x+1);this._w=.25/_,this._x=(m-h)*_,this._y=(r-p)*_,this._z=(l-s)*_}else if(i>u&&i>v){const _=2*Math.sqrt(1+i-u-v);this._w=(m-h)/_,this._x=.25*_,this._y=(s+l)/_,this._z=(r+p)/_}else if(u>v){const _=2*Math.sqrt(1+u-i-v);this._w=(r-p)/_,this._x=(s+l)/_,this._y=.25*_,this._z=(h+m)/_}else{const _=2*Math.sqrt(1+v-i-u);this._w=(l-s)/_,this._x=(r+p)/_,this._y=(h+m)/_,this._z=.25*_}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let i=t.dot(e)+1;return i<Number.EPSILON?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=i),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(Xe(this.dot(t),-1,1)))}rotateTowards(t,e){const i=this.angleTo(t);if(i===0)return this;const s=Math.min(1,e/i);return this.slerp(t,s),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const i=t._x,s=t._y,r=t._z,l=t._w,u=e._x,h=e._y,p=e._z,m=e._w;return this._x=i*m+l*u+s*p-r*h,this._y=s*m+l*h+r*u-i*p,this._z=r*m+l*p+i*h-s*u,this._w=l*m-i*u-s*h-r*p,this._onChangeCallback(),this}slerp(t,e){if(e===0)return this;if(e===1)return this.copy(t);const i=this._x,s=this._y,r=this._z,l=this._w;let u=l*t._w+i*t._x+s*t._y+r*t._z;if(u<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,u=-u):this.copy(t),u>=1)return this._w=l,this._x=i,this._y=s,this._z=r,this;const h=1-u*u;if(h<=Number.EPSILON){const _=1-e;return this._w=_*l+e*this._w,this._x=_*i+e*this._x,this._y=_*s+e*this._y,this._z=_*r+e*this._z,this.normalize(),this}const p=Math.sqrt(h),m=Math.atan2(p,u),v=Math.sin((1-e)*m)/p,x=Math.sin(e*m)/p;return this._w=l*v+this._w*x,this._x=i*v+this._x*x,this._y=s*v+this._y*x,this._z=r*v+this._z*x,this._onChangeCallback(),this}slerpQuaternions(t,e,i){return this.copy(t).slerp(e,i)}random(){const t=2*Math.PI*Math.random(),e=2*Math.PI*Math.random(),i=Math.random(),s=Math.sqrt(1-i),r=Math.sqrt(i);return this.set(s*Math.sin(t),s*Math.cos(t),r*Math.sin(e),r*Math.cos(e))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class W{constructor(t=0,e=0,i=0){W.prototype.isVector3=!0,this.x=t,this.y=e,this.z=i}set(t,e,i){return i===void 0&&(i=this.z),this.x=t,this.y=e,this.z=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return this.applyQuaternion(nw.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(nw.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,i=this.y,s=this.z,r=t.elements;return this.x=r[0]*e+r[3]*i+r[6]*s,this.y=r[1]*e+r[4]*i+r[7]*s,this.z=r[2]*e+r[5]*i+r[8]*s,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,i=this.y,s=this.z,r=t.elements,l=1/(r[3]*e+r[7]*i+r[11]*s+r[15]);return this.x=(r[0]*e+r[4]*i+r[8]*s+r[12])*l,this.y=(r[1]*e+r[5]*i+r[9]*s+r[13])*l,this.z=(r[2]*e+r[6]*i+r[10]*s+r[14])*l,this}applyQuaternion(t){const e=this.x,i=this.y,s=this.z,r=t.x,l=t.y,u=t.z,h=t.w,p=2*(l*s-u*i),m=2*(u*e-r*s),v=2*(r*i-l*e);return this.x=e+h*p+l*v-u*m,this.y=i+h*m+u*p-r*v,this.z=s+h*v+r*m-l*p,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,i=this.y,s=this.z,r=t.elements;return this.x=r[0]*e+r[4]*i+r[8]*s,this.y=r[1]*e+r[5]*i+r[9]*s,this.z=r[2]*e+r[6]*i+r[10]*s,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Xe(this.x,t.x,e.x),this.y=Xe(this.y,t.y,e.y),this.z=Xe(this.z,t.z,e.z),this}clampScalar(t,e){return this.x=Xe(this.x,t,e),this.y=Xe(this.y,t,e),this.z=Xe(this.z,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Xe(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,e){const i=t.x,s=t.y,r=t.z,l=e.x,u=e.y,h=e.z;return this.x=s*h-r*u,this.y=r*l-i*h,this.z=i*u-s*l,this}projectOnVector(t){const e=t.lengthSq();if(e===0)return this.set(0,0,0);const i=t.dot(this)/e;return this.copy(t).multiplyScalar(i)}projectOnPlane(t){return r1.copy(this).projectOnVector(t),this.sub(r1)}reflect(t){return this.sub(r1.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(Xe(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y,s=this.z-t.z;return e*e+i*i+s*s}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,i){const s=Math.sin(e)*t;return this.x=s*Math.sin(i),this.y=Math.cos(e)*t,this.z=s*Math.cos(i),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,i){return this.x=t*Math.sin(e),this.y=i,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),s=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=s,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,e*4)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,e*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=Math.random()*Math.PI*2,e=Math.random()*2-1,i=Math.sqrt(1-e*e);return this.x=i*Math.cos(t),this.y=e,this.z=i*Math.sin(t),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const r1=new W,nw=new Ba;class pa{constructor(t=new W(1/0,1/0,1/0),e=new W(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e+=3)this.expandByPoint(lo.fromArray(t,e));return this}setFromBufferAttribute(t){this.makeEmpty();for(let e=0,i=t.count;e<i;e++)this.expandByPoint(lo.fromBufferAttribute(t,e));return this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=lo.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){t.updateWorldMatrix(!1,!1);const i=t.geometry;if(i!==void 0){const r=i.getAttribute("position");if(e===!0&&r!==void 0&&t.isInstancedMesh!==!0)for(let l=0,u=r.count;l<u;l++)t.isMesh===!0?t.getVertexPosition(l,lo):lo.fromBufferAttribute(r,l),lo.applyMatrix4(t.matrixWorld),this.expandByPoint(lo);else t.boundingBox!==void 0?(t.boundingBox===null&&t.computeBoundingBox(),sy.copy(t.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),sy.copy(i.boundingBox)),sy.applyMatrix4(t.matrixWorld),this.union(sy)}const s=t.children;for(let r=0,l=s.length;r<l;r++)this.expandByObject(s[r],e);return this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y&&t.z>=this.min.z&&t.z<=this.max.z}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y&&t.max.z>=this.min.z&&t.min.z<=this.max.z}intersectsSphere(t){return this.clampPoint(t.center,lo),lo.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,i;return t.normal.x>0?(e=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),e<=-t.constant&&i>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(Im),ay.subVectors(this.max,Im),fd.subVectors(t.a,Im),hd.subVectors(t.b,Im),dd.subVectors(t.c,Im),iu.subVectors(hd,fd),su.subVectors(dd,hd),_f.subVectors(fd,dd);let e=[0,-iu.z,iu.y,0,-su.z,su.y,0,-_f.z,_f.y,iu.z,0,-iu.x,su.z,0,-su.x,_f.z,0,-_f.x,-iu.y,iu.x,0,-su.y,su.x,0,-_f.y,_f.x,0];return!o1(e,fd,hd,dd,ay)||(e=[1,0,0,0,1,0,0,0,1],!o1(e,fd,hd,dd,ay))?!1:(ry.crossVectors(iu,su),e=[ry.x,ry.y,ry.z],o1(e,fd,hd,dd,ay))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,lo).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=this.getSize(lo).length()*.5),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(Zl[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),Zl[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),Zl[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),Zl[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),Zl[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),Zl[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),Zl[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),Zl[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(Zl),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const Zl=[new W,new W,new W,new W,new W,new W,new W,new W],lo=new W,sy=new pa,fd=new W,hd=new W,dd=new W,iu=new W,su=new W,_f=new W,Im=new W,ay=new W,ry=new W,Sf=new W;function o1(n,t,e,i,s){for(let r=0,l=n.length-3;r<=l;r+=3){Sf.fromArray(n,r);const u=s.x*Math.abs(Sf.x)+s.y*Math.abs(Sf.y)+s.z*Math.abs(Sf.z),h=t.dot(Sf),p=e.dot(Sf),m=i.dot(Sf);if(Math.max(-Math.max(h,p,m),Math.min(h,p,m))>u)return!1}return!0}const $B=new pa,Fm=new W,l1=new W;class Zs{constructor(t=new W,e=-1){this.isSphere=!0,this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const i=this.center;e!==void 0?i.copy(e):$B.setFromPoints(t).getCenter(i);let s=0;for(let r=0,l=t.length;r<l;r++)s=Math.max(s,i.distanceToSquared(t[r]));return this.radius=Math.sqrt(s),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const i=this.center.distanceToSquared(t);return e.copy(t),i>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;Fm.subVectors(t,this.center);const e=Fm.lengthSq();if(e>this.radius*this.radius){const i=Math.sqrt(e),s=(i-this.radius)*.5;this.center.addScaledVector(Fm,s/i),this.radius+=s}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(this.center.equals(t.center)===!0?this.radius=Math.max(this.radius,t.radius):(l1.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(Fm.copy(t.center).add(l1)),this.expandByPoint(Fm.copy(t.center).sub(l1))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Kl=new W,c1=new W,oy=new W,au=new W,u1=new W,ly=new W,f1=new W;class dp{constructor(t=new W,e=new W(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,Kl)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const i=e.dot(this.direction);return i<0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=Kl.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(Kl.copy(this.origin).addScaledVector(this.direction,e),Kl.distanceToSquared(t))}distanceSqToSegment(t,e,i,s){c1.copy(t).add(e).multiplyScalar(.5),oy.copy(e).sub(t).normalize(),au.copy(this.origin).sub(c1);const r=t.distanceTo(e)*.5,l=-this.direction.dot(oy),u=au.dot(this.direction),h=-au.dot(oy),p=au.lengthSq(),m=Math.abs(1-l*l);let v,x,_,T;if(m>0)if(v=l*h-u,x=l*u-h,T=r*m,v>=0)if(x>=-T)if(x<=T){const C=1/m;v*=C,x*=C,_=v*(v+l*x+2*u)+x*(l*v+x+2*h)+p}else x=r,v=Math.max(0,-(l*x+u)),_=-v*v+x*(x+2*h)+p;else x=-r,v=Math.max(0,-(l*x+u)),_=-v*v+x*(x+2*h)+p;else x<=-T?(v=Math.max(0,-(-l*r+u)),x=v>0?-r:Math.min(Math.max(-r,-h),r),_=-v*v+x*(x+2*h)+p):x<=T?(v=0,x=Math.min(Math.max(-r,-h),r),_=x*(x+2*h)+p):(v=Math.max(0,-(l*r+u)),x=v>0?r:Math.min(Math.max(-r,-h),r),_=-v*v+x*(x+2*h)+p);else x=l>0?-r:r,v=Math.max(0,-(l*x+u)),_=-v*v+x*(x+2*h)+p;return i&&i.copy(this.origin).addScaledVector(this.direction,v),s&&s.copy(c1).addScaledVector(oy,x),_}intersectSphere(t,e){Kl.subVectors(t.center,this.origin);const i=Kl.dot(this.direction),s=Kl.dot(Kl)-i*i,r=t.radius*t.radius;if(s>r)return null;const l=Math.sqrt(r-s),u=i-l,h=i+l;return h<0?null:u<0?this.at(h,e):this.at(u,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(e===0)return t.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(t.normal)+t.constant)/e;return i>=0?i:null}intersectPlane(t,e){const i=this.distanceToPlane(t);return i===null?null:this.at(i,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return e===0||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let i,s,r,l,u,h;const p=1/this.direction.x,m=1/this.direction.y,v=1/this.direction.z,x=this.origin;return p>=0?(i=(t.min.x-x.x)*p,s=(t.max.x-x.x)*p):(i=(t.max.x-x.x)*p,s=(t.min.x-x.x)*p),m>=0?(r=(t.min.y-x.y)*m,l=(t.max.y-x.y)*m):(r=(t.max.y-x.y)*m,l=(t.min.y-x.y)*m),i>l||r>s||((r>i||isNaN(i))&&(i=r),(l<s||isNaN(s))&&(s=l),v>=0?(u=(t.min.z-x.z)*v,h=(t.max.z-x.z)*v):(u=(t.max.z-x.z)*v,h=(t.min.z-x.z)*v),i>h||u>s)||((u>i||i!==i)&&(i=u),(h<s||s!==s)&&(s=h),s<0)?null:this.at(i>=0?i:s,e)}intersectsBox(t){return this.intersectBox(t,Kl)!==null}intersectTriangle(t,e,i,s,r){u1.subVectors(e,t),ly.subVectors(i,t),f1.crossVectors(u1,ly);let l=this.direction.dot(f1),u;if(l>0){if(s)return null;u=1}else if(l<0)u=-1,l=-l;else return null;au.subVectors(this.origin,t);const h=u*this.direction.dot(ly.crossVectors(au,ly));if(h<0)return null;const p=u*this.direction.dot(u1.cross(au));if(p<0||h+p>l)return null;const m=-u*au.dot(f1);return m<0?null:this.at(m/l,r)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Ie{constructor(t,e,i,s,r,l,u,h,p,m,v,x,_,T,C,E){Ie.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],t!==void 0&&this.set(t,e,i,s,r,l,u,h,p,m,v,x,_,T,C,E)}set(t,e,i,s,r,l,u,h,p,m,v,x,_,T,C,E){const M=this.elements;return M[0]=t,M[4]=e,M[8]=i,M[12]=s,M[1]=r,M[5]=l,M[9]=u,M[13]=h,M[2]=p,M[6]=m,M[10]=v,M[14]=x,M[3]=_,M[7]=T,M[11]=C,M[15]=E,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ie().fromArray(this.elements)}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this}copyPosition(t){const e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,i=t.elements,s=1/pd.setFromMatrixColumn(t,0).length(),r=1/pd.setFromMatrixColumn(t,1).length(),l=1/pd.setFromMatrixColumn(t,2).length();return e[0]=i[0]*s,e[1]=i[1]*s,e[2]=i[2]*s,e[3]=0,e[4]=i[4]*r,e[5]=i[5]*r,e[6]=i[6]*r,e[7]=0,e[8]=i[8]*l,e[9]=i[9]*l,e[10]=i[10]*l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){const e=this.elements,i=t.x,s=t.y,r=t.z,l=Math.cos(i),u=Math.sin(i),h=Math.cos(s),p=Math.sin(s),m=Math.cos(r),v=Math.sin(r);if(t.order==="XYZ"){const x=l*m,_=l*v,T=u*m,C=u*v;e[0]=h*m,e[4]=-h*v,e[8]=p,e[1]=_+T*p,e[5]=x-C*p,e[9]=-u*h,e[2]=C-x*p,e[6]=T+_*p,e[10]=l*h}else if(t.order==="YXZ"){const x=h*m,_=h*v,T=p*m,C=p*v;e[0]=x+C*u,e[4]=T*u-_,e[8]=l*p,e[1]=l*v,e[5]=l*m,e[9]=-u,e[2]=_*u-T,e[6]=C+x*u,e[10]=l*h}else if(t.order==="ZXY"){const x=h*m,_=h*v,T=p*m,C=p*v;e[0]=x-C*u,e[4]=-l*v,e[8]=T+_*u,e[1]=_+T*u,e[5]=l*m,e[9]=C-x*u,e[2]=-l*p,e[6]=u,e[10]=l*h}else if(t.order==="ZYX"){const x=l*m,_=l*v,T=u*m,C=u*v;e[0]=h*m,e[4]=T*p-_,e[8]=x*p+C,e[1]=h*v,e[5]=C*p+x,e[9]=_*p-T,e[2]=-p,e[6]=u*h,e[10]=l*h}else if(t.order==="YZX"){const x=l*h,_=l*p,T=u*h,C=u*p;e[0]=h*m,e[4]=C-x*v,e[8]=T*v+_,e[1]=v,e[5]=l*m,e[9]=-u*m,e[2]=-p*m,e[6]=_*v+T,e[10]=x-C*v}else if(t.order==="XZY"){const x=l*h,_=l*p,T=u*h,C=u*p;e[0]=h*m,e[4]=-v,e[8]=p*m,e[1]=x*v+C,e[5]=l*m,e[9]=_*v-T,e[2]=T*v-_,e[6]=u*m,e[10]=C*v+x}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(JB,t,tV)}lookAt(t,e,i){const s=this.elements;return er.subVectors(t,e),er.lengthSq()===0&&(er.z=1),er.normalize(),ru.crossVectors(i,er),ru.lengthSq()===0&&(Math.abs(i.z)===1?er.x+=1e-4:er.z+=1e-4,er.normalize(),ru.crossVectors(i,er)),ru.normalize(),cy.crossVectors(er,ru),s[0]=ru.x,s[4]=cy.x,s[8]=er.x,s[1]=ru.y,s[5]=cy.y,s[9]=er.y,s[2]=ru.z,s[6]=cy.z,s[10]=er.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,s=e.elements,r=this.elements,l=i[0],u=i[4],h=i[8],p=i[12],m=i[1],v=i[5],x=i[9],_=i[13],T=i[2],C=i[6],E=i[10],M=i[14],R=i[3],D=i[7],L=i[11],z=i[15],B=s[0],I=s[4],V=s[8],U=s[12],P=s[1],X=s[5],pt=s[9],it=s[13],K=s[2],lt=s[6],J=s[10],tt=s[14],Q=s[3],_t=s[7],j=s[11],at=s[15];return r[0]=l*B+u*P+h*K+p*Q,r[4]=l*I+u*X+h*lt+p*_t,r[8]=l*V+u*pt+h*J+p*j,r[12]=l*U+u*it+h*tt+p*at,r[1]=m*B+v*P+x*K+_*Q,r[5]=m*I+v*X+x*lt+_*_t,r[9]=m*V+v*pt+x*J+_*j,r[13]=m*U+v*it+x*tt+_*at,r[2]=T*B+C*P+E*K+M*Q,r[6]=T*I+C*X+E*lt+M*_t,r[10]=T*V+C*pt+E*J+M*j,r[14]=T*U+C*it+E*tt+M*at,r[3]=R*B+D*P+L*K+z*Q,r[7]=R*I+D*X+L*lt+z*_t,r[11]=R*V+D*pt+L*J+z*j,r[15]=R*U+D*it+L*tt+z*at,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[4],s=t[8],r=t[12],l=t[1],u=t[5],h=t[9],p=t[13],m=t[2],v=t[6],x=t[10],_=t[14],T=t[3],C=t[7],E=t[11],M=t[15];return T*(+r*h*v-s*p*v-r*u*x+i*p*x+s*u*_-i*h*_)+C*(+e*h*_-e*p*x+r*l*x-s*l*_+s*p*m-r*h*m)+E*(+e*p*v-e*u*_-r*l*v+i*l*_+r*u*m-i*p*m)+M*(-s*u*m-e*h*v+e*u*x+s*l*v-i*l*x+i*h*m)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,i){const s=this.elements;return t.isVector3?(s[12]=t.x,s[13]=t.y,s[14]=t.z):(s[12]=t,s[13]=e,s[14]=i),this}invert(){const t=this.elements,e=t[0],i=t[1],s=t[2],r=t[3],l=t[4],u=t[5],h=t[6],p=t[7],m=t[8],v=t[9],x=t[10],_=t[11],T=t[12],C=t[13],E=t[14],M=t[15],R=v*E*p-C*x*p+C*h*_-u*E*_-v*h*M+u*x*M,D=T*x*p-m*E*p-T*h*_+l*E*_+m*h*M-l*x*M,L=m*C*p-T*v*p+T*u*_-l*C*_-m*u*M+l*v*M,z=T*v*h-m*C*h-T*u*x+l*C*x+m*u*E-l*v*E,B=e*R+i*D+s*L+r*z;if(B===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const I=1/B;return t[0]=R*I,t[1]=(C*x*r-v*E*r-C*s*_+i*E*_+v*s*M-i*x*M)*I,t[2]=(u*E*r-C*h*r+C*s*p-i*E*p-u*s*M+i*h*M)*I,t[3]=(v*h*r-u*x*r-v*s*p+i*x*p+u*s*_-i*h*_)*I,t[4]=D*I,t[5]=(m*E*r-T*x*r+T*s*_-e*E*_-m*s*M+e*x*M)*I,t[6]=(T*h*r-l*E*r-T*s*p+e*E*p+l*s*M-e*h*M)*I,t[7]=(l*x*r-m*h*r+m*s*p-e*x*p-l*s*_+e*h*_)*I,t[8]=L*I,t[9]=(T*v*r-m*C*r-T*i*_+e*C*_+m*i*M-e*v*M)*I,t[10]=(l*C*r-T*u*r+T*i*p-e*C*p-l*i*M+e*u*M)*I,t[11]=(m*u*r-l*v*r-m*i*p+e*v*p+l*i*_-e*u*_)*I,t[12]=z*I,t[13]=(m*C*s-T*v*s+T*i*x-e*C*x-m*i*E+e*v*E)*I,t[14]=(T*u*s-l*C*s-T*i*h+e*C*h+l*i*E-e*u*E)*I,t[15]=(l*v*s-m*u*s+m*i*h-e*v*h-l*i*x+e*u*x)*I,this}scale(t){const e=this.elements,i=t.x,s=t.y,r=t.z;return e[0]*=i,e[4]*=s,e[8]*=r,e[1]*=i,e[5]*=s,e[9]*=r,e[2]*=i,e[6]*=s,e[10]*=r,e[3]*=i,e[7]*=s,e[11]*=r,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],s=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,i,s))}makeTranslation(t,e,i){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const i=Math.cos(e),s=Math.sin(e),r=1-i,l=t.x,u=t.y,h=t.z,p=r*l,m=r*u;return this.set(p*l+i,p*u-s*h,p*h+s*u,0,p*u+s*h,m*u+i,m*h-s*l,0,p*h-s*u,m*h+s*l,r*h*h+i,0,0,0,0,1),this}makeScale(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this}makeShear(t,e,i,s,r,l){return this.set(1,i,r,0,t,1,l,0,e,s,1,0,0,0,0,1),this}compose(t,e,i){const s=this.elements,r=e._x,l=e._y,u=e._z,h=e._w,p=r+r,m=l+l,v=u+u,x=r*p,_=r*m,T=r*v,C=l*m,E=l*v,M=u*v,R=h*p,D=h*m,L=h*v,z=i.x,B=i.y,I=i.z;return s[0]=(1-(C+M))*z,s[1]=(_+L)*z,s[2]=(T-D)*z,s[3]=0,s[4]=(_-L)*B,s[5]=(1-(x+M))*B,s[6]=(E+R)*B,s[7]=0,s[8]=(T+D)*I,s[9]=(E-R)*I,s[10]=(1-(x+C))*I,s[11]=0,s[12]=t.x,s[13]=t.y,s[14]=t.z,s[15]=1,this}decompose(t,e,i){const s=this.elements;let r=pd.set(s[0],s[1],s[2]).length();const l=pd.set(s[4],s[5],s[6]).length(),u=pd.set(s[8],s[9],s[10]).length();this.determinant()<0&&(r=-r),t.x=s[12],t.y=s[13],t.z=s[14],co.copy(this);const p=1/r,m=1/l,v=1/u;return co.elements[0]*=p,co.elements[1]*=p,co.elements[2]*=p,co.elements[4]*=m,co.elements[5]*=m,co.elements[6]*=m,co.elements[8]*=v,co.elements[9]*=v,co.elements[10]*=v,e.setFromRotationMatrix(co),i.x=r,i.y=l,i.z=u,this}makePerspective(t,e,i,s,r,l,u=vo){const h=this.elements,p=2*r/(e-t),m=2*r/(i-s),v=(e+t)/(e-t),x=(i+s)/(i-s);let _,T;if(u===vo)_=-(l+r)/(l-r),T=-2*l*r/(l-r);else if(u===zg)_=-l/(l-r),T=-l*r/(l-r);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+u);return h[0]=p,h[4]=0,h[8]=v,h[12]=0,h[1]=0,h[5]=m,h[9]=x,h[13]=0,h[2]=0,h[6]=0,h[10]=_,h[14]=T,h[3]=0,h[7]=0,h[11]=-1,h[15]=0,this}makeOrthographic(t,e,i,s,r,l,u=vo){const h=this.elements,p=1/(e-t),m=1/(i-s),v=1/(l-r),x=(e+t)*p,_=(i+s)*m;let T,C;if(u===vo)T=(l+r)*v,C=-2*v;else if(u===zg)T=r*v,C=-1*v;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+u);return h[0]=2*p,h[4]=0,h[8]=0,h[12]=-x,h[1]=0,h[5]=2*m,h[9]=0,h[13]=-_,h[2]=0,h[6]=0,h[10]=C,h[14]=-T,h[3]=0,h[7]=0,h[11]=0,h[15]=1,this}equals(t){const e=this.elements,i=t.elements;for(let s=0;s<16;s++)if(e[s]!==i[s])return!1;return!0}fromArray(t,e=0){for(let i=0;i<16;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}}const pd=new W,co=new Ie,JB=new W(0,0,0),tV=new W(1,1,1),ru=new W,cy=new W,er=new W,iw=new Ie,sw=new Ba;class ar{constructor(t=0,e=0,i=0,s=ar.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=e,this._z=i,this._order=s}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,i,s=this._order){return this._x=t,this._y=e,this._z=i,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,i=!0){const s=t.elements,r=s[0],l=s[4],u=s[8],h=s[1],p=s[5],m=s[9],v=s[2],x=s[6],_=s[10];switch(e){case"XYZ":this._y=Math.asin(Xe(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-m,_),this._z=Math.atan2(-l,r)):(this._x=Math.atan2(x,p),this._z=0);break;case"YXZ":this._x=Math.asin(-Xe(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(u,_),this._z=Math.atan2(h,p)):(this._y=Math.atan2(-v,r),this._z=0);break;case"ZXY":this._x=Math.asin(Xe(x,-1,1)),Math.abs(x)<.9999999?(this._y=Math.atan2(-v,_),this._z=Math.atan2(-l,p)):(this._y=0,this._z=Math.atan2(h,r));break;case"ZYX":this._y=Math.asin(-Xe(v,-1,1)),Math.abs(v)<.9999999?(this._x=Math.atan2(x,_),this._z=Math.atan2(h,r)):(this._x=0,this._z=Math.atan2(-l,p));break;case"YZX":this._z=Math.asin(Xe(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-m,p),this._y=Math.atan2(-v,r)):(this._x=0,this._y=Math.atan2(u,_));break;case"XZY":this._z=Math.asin(-Xe(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(x,p),this._y=Math.atan2(u,r)):(this._x=Math.atan2(-m,_),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,i===!0&&this._onChangeCallback(),this}setFromQuaternion(t,e,i){return iw.makeRotationFromQuaternion(t),this.setFromRotationMatrix(iw,e,i)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return sw.setFromEuler(this),this.setFromQuaternion(sw,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ar.DEFAULT_ORDER="XYZ";class ep{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!==0}isEnabled(t){return(this.mask&(1<<t|0))!==0}}let eV=0;const aw=new W,md=new Ba,Ql=new Ie,uy=new W,Hm=new W,nV=new W,iV=new Ba,rw=new W(1,0,0),ow=new W(0,1,0),lw=new W(0,0,1),cw={type:"added"},sV={type:"removed"},gd={type:"childadded",child:null},h1={type:"childremoved",child:null};class Tn extends yl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:eV++}),this.uuid=ir(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Tn.DEFAULT_UP.clone();const t=new W,e=new ar,i=new Ba,s=new W(1,1,1);function r(){i.setFromEuler(e,!1)}function l(){e.setFromQuaternion(i,void 0,!1)}e._onChange(r),i._onChange(l),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new Ie},normalMatrix:{value:new qe}}),this.matrix=new Ie,this.matrixWorld=new Ie,this.matrixAutoUpdate=Tn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Tn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new ep,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return md.setFromAxisAngle(t,e),this.quaternion.multiply(md),this}rotateOnWorldAxis(t,e){return md.setFromAxisAngle(t,e),this.quaternion.premultiply(md),this}rotateX(t){return this.rotateOnAxis(rw,t)}rotateY(t){return this.rotateOnAxis(ow,t)}rotateZ(t){return this.rotateOnAxis(lw,t)}translateOnAxis(t,e){return aw.copy(t).applyQuaternion(this.quaternion),this.position.add(aw.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(rw,t)}translateY(t){return this.translateOnAxis(ow,t)}translateZ(t){return this.translateOnAxis(lw,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(Ql.copy(this.matrixWorld).invert())}lookAt(t,e,i){t.isVector3?uy.copy(t):uy.set(t,e,i);const s=this.parent;this.updateWorldMatrix(!0,!1),Hm.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ql.lookAt(Hm,uy,this.up):Ql.lookAt(uy,Hm,this.up),this.quaternion.setFromRotationMatrix(Ql),s&&(Ql.extractRotation(s.matrixWorld),md.setFromRotationMatrix(Ql),this.quaternion.premultiply(md.invert()))}add(t){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.removeFromParent(),t.parent=this,this.children.push(t),t.dispatchEvent(cw),gd.child=t,this.dispatchEvent(gd),gd.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const e=this.children.indexOf(t);return e!==-1&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(sV),h1.child=t,this.dispatchEvent(h1),h1.child=null),this}removeFromParent(){const t=this.parent;return t!==null&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),Ql.copy(this.matrixWorld).invert(),t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),Ql.multiply(t.parent.matrixWorld)),t.applyMatrix4(Ql),t.removeFromParent(),t.parent=this,this.children.push(t),t.updateWorldMatrix(!1,!0),t.dispatchEvent(cw),gd.child=t,this.dispatchEvent(gd),gd.child=null,this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let i=0,s=this.children.length;i<s;i++){const l=this.children[i].getObjectByProperty(t,e);if(l!==void 0)return l}}getObjectsByProperty(t,e,i=[]){this[t]===e&&i.push(this);const s=this.children;for(let r=0,l=s.length;r<l;r++)s[r].getObjectsByProperty(t,e,i);return i}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Hm,t,nV),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Hm,iV,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let i=0,s=e.length;i<s;i++)e[i].traverse(t)}traverseVisible(t){if(this.visible===!1)return;t(this);const e=this.children;for(let i=0,s=e.length;i<s;i++)e[i].traverseVisible(t)}traverseAncestors(t){const e=this.parent;e!==null&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let i=0,s=e.length;i<s;i++)e[i].updateMatrixWorld(t)}updateWorldMatrix(t,e){const i=this.parent;if(t===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),e===!0){const s=this.children;for(let r=0,l=s.length;r<l;r++)s[r].updateWorldMatrix(!1,!0)}}toJSON(t){const e=t===void 0||typeof t=="string",i={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const s={};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.castShadow===!0&&(s.castShadow=!0),this.receiveShadow===!0&&(s.receiveShadow=!0),this.visible===!1&&(s.visible=!1),this.frustumCulled===!1&&(s.frustumCulled=!1),this.renderOrder!==0&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(s.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(s.type="BatchedMesh",s.perObjectFrustumCulled=this.perObjectFrustumCulled,s.sortObjects=this.sortObjects,s.drawRanges=this._drawRanges,s.reservedRanges=this._reservedRanges,s.visibility=this._visibility,s.active=this._active,s.bounds=this._bounds.map(u=>({boxInitialized:u.boxInitialized,boxMin:u.box.min.toArray(),boxMax:u.box.max.toArray(),sphereInitialized:u.sphereInitialized,sphereRadius:u.sphere.radius,sphereCenter:u.sphere.center.toArray()})),s.maxInstanceCount=this._maxInstanceCount,s.maxVertexCount=this._maxVertexCount,s.maxIndexCount=this._maxIndexCount,s.geometryInitialized=this._geometryInitialized,s.geometryCount=this._geometryCount,s.matricesTexture=this._matricesTexture.toJSON(t),this._colorsTexture!==null&&(s.colorsTexture=this._colorsTexture.toJSON(t)),this.boundingSphere!==null&&(s.boundingSphere={center:s.boundingSphere.center.toArray(),radius:s.boundingSphere.radius}),this.boundingBox!==null&&(s.boundingBox={min:s.boundingBox.min.toArray(),max:s.boundingBox.max.toArray()}));function r(u,h){return u[h.uuid]===void 0&&(u[h.uuid]=h.toJSON(t)),h.uuid}if(this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(s.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=r(t.geometries,this.geometry);const u=this.geometry.parameters;if(u!==void 0&&u.shapes!==void 0){const h=u.shapes;if(Array.isArray(h))for(let p=0,m=h.length;p<m;p++){const v=h[p];r(t.shapes,v)}else r(t.shapes,h)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(r(t.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const u=[];for(let h=0,p=this.material.length;h<p;h++)u.push(r(t.materials,this.material[h]));s.material=u}else s.material=r(t.materials,this.material);if(this.children.length>0){s.children=[];for(let u=0;u<this.children.length;u++)s.children.push(this.children[u].toJSON(t).object)}if(this.animations.length>0){s.animations=[];for(let u=0;u<this.animations.length;u++){const h=this.animations[u];s.animations.push(r(t.animations,h))}}if(e){const u=l(t.geometries),h=l(t.materials),p=l(t.textures),m=l(t.images),v=l(t.shapes),x=l(t.skeletons),_=l(t.animations),T=l(t.nodes);u.length>0&&(i.geometries=u),h.length>0&&(i.materials=h),p.length>0&&(i.textures=p),m.length>0&&(i.images=m),v.length>0&&(i.shapes=v),x.length>0&&(i.skeletons=x),_.length>0&&(i.animations=_),T.length>0&&(i.nodes=T)}return i.object=s,i;function l(u){const h=[];for(const p in u){const m=u[p];delete m.metadata,h.push(m)}return h}}clone(t){return new this.constructor().copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),e===!0)for(let i=0;i<t.children.length;i++){const s=t.children[i];this.add(s.clone())}return this}}Tn.DEFAULT_UP=new W(0,1,0);Tn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Tn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const uo=new W,$l=new W,d1=new W,Jl=new W,vd=new W,yd=new W,uw=new W,p1=new W,m1=new W,g1=new W,v1=new Mn,y1=new Mn,x1=new Mn;class Oa{constructor(t=new W,e=new W,i=new W){this.a=t,this.b=e,this.c=i}static getNormal(t,e,i,s){s.subVectors(i,e),uo.subVectors(t,e),s.cross(uo);const r=s.lengthSq();return r>0?s.multiplyScalar(1/Math.sqrt(r)):s.set(0,0,0)}static getBarycoord(t,e,i,s,r){uo.subVectors(s,e),$l.subVectors(i,e),d1.subVectors(t,e);const l=uo.dot(uo),u=uo.dot($l),h=uo.dot(d1),p=$l.dot($l),m=$l.dot(d1),v=l*p-u*u;if(v===0)return r.set(0,0,0),null;const x=1/v,_=(p*h-u*m)*x,T=(l*m-u*h)*x;return r.set(1-_-T,T,_)}static containsPoint(t,e,i,s){return this.getBarycoord(t,e,i,s,Jl)===null?!1:Jl.x>=0&&Jl.y>=0&&Jl.x+Jl.y<=1}static getInterpolation(t,e,i,s,r,l,u,h){return this.getBarycoord(t,e,i,s,Jl)===null?(h.x=0,h.y=0,"z"in h&&(h.z=0),"w"in h&&(h.w=0),null):(h.setScalar(0),h.addScaledVector(r,Jl.x),h.addScaledVector(l,Jl.y),h.addScaledVector(u,Jl.z),h)}static getInterpolatedAttribute(t,e,i,s,r,l){return v1.setScalar(0),y1.setScalar(0),x1.setScalar(0),v1.fromBufferAttribute(t,e),y1.fromBufferAttribute(t,i),x1.fromBufferAttribute(t,s),l.setScalar(0),l.addScaledVector(v1,r.x),l.addScaledVector(y1,r.y),l.addScaledVector(x1,r.z),l}static isFrontFacing(t,e,i,s){return uo.subVectors(i,e),$l.subVectors(t,e),uo.cross($l).dot(s)<0}set(t,e,i){return this.a.copy(t),this.b.copy(e),this.c.copy(i),this}setFromPointsAndIndices(t,e,i,s){return this.a.copy(t[e]),this.b.copy(t[i]),this.c.copy(t[s]),this}setFromAttributeAndIndices(t,e,i,s){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,i),this.c.fromBufferAttribute(t,s),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return uo.subVectors(this.c,this.b),$l.subVectors(this.a,this.b),uo.cross($l).length()*.5}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return Oa.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return Oa.getBarycoord(t,this.a,this.b,this.c,e)}getInterpolation(t,e,i,s,r){return Oa.getInterpolation(t,this.a,this.b,this.c,e,i,s,r)}containsPoint(t){return Oa.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return Oa.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const i=this.a,s=this.b,r=this.c;let l,u;vd.subVectors(s,i),yd.subVectors(r,i),p1.subVectors(t,i);const h=vd.dot(p1),p=yd.dot(p1);if(h<=0&&p<=0)return e.copy(i);m1.subVectors(t,s);const m=vd.dot(m1),v=yd.dot(m1);if(m>=0&&v<=m)return e.copy(s);const x=h*v-m*p;if(x<=0&&h>=0&&m<=0)return l=h/(h-m),e.copy(i).addScaledVector(vd,l);g1.subVectors(t,r);const _=vd.dot(g1),T=yd.dot(g1);if(T>=0&&_<=T)return e.copy(r);const C=_*p-h*T;if(C<=0&&p>=0&&T<=0)return u=p/(p-T),e.copy(i).addScaledVector(yd,u);const E=m*T-_*v;if(E<=0&&v-m>=0&&_-T>=0)return uw.subVectors(r,s),u=(v-m)/(v-m+(_-T)),e.copy(s).addScaledVector(uw,u);const M=1/(E+C+x);return l=C*M,u=x*M,e.copy(i).addScaledVector(vd,l).addScaledVector(yd,u)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const q3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ou={h:0,s:0,l:0},fy={h:0,s:0,l:0};function _1(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*6*(2/3-e):n}class de{constructor(t,e,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,e,i)}set(t,e,i){if(e===void 0&&i===void 0){const s=t;s&&s.isColor?this.copy(s):typeof s=="number"?this.setHex(s):typeof s=="string"&&this.setStyle(s)}else this.setRGB(t,e,i);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=qs){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(t&255)/255,yn.toWorkingColorSpace(this,e),this}setRGB(t,e,i,s=yn.workingColorSpace){return this.r=t,this.g=e,this.b=i,yn.toWorkingColorSpace(this,s),this}setHSL(t,e,i,s=yn.workingColorSpace){if(t=cT(t,1),e=Xe(e,0,1),i=Xe(i,0,1),e===0)this.r=this.g=this.b=i;else{const r=i<=.5?i*(1+e):i+e-i*e,l=2*i-r;this.r=_1(l,r,t+1/3),this.g=_1(l,r,t),this.b=_1(l,r,t-1/3)}return yn.toWorkingColorSpace(this,s),this}setStyle(t,e=qs){function i(r){r!==void 0&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let s;if(s=/^(\w+)\(([^\)]*)\)/.exec(t)){let r;const l=s[1],u=s[2];switch(l){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,e);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,e);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,e);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(s=/^\#([A-Fa-f\d]+)$/.exec(t)){const r=s[1],l=r.length;if(l===3)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,e);if(l===6)return this.setHex(parseInt(r,16),e);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,e);return this}setColorName(t,e=qs){const i=q3[t.toLowerCase()];return i!==void 0?this.setHex(i,e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=oc(t.r),this.g=oc(t.g),this.b=oc(t.b),this}copyLinearToSRGB(t){return this.r=$d(t.r),this.g=$d(t.g),this.b=$d(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=qs){return yn.fromWorkingColorSpace(ks.copy(this),t),Math.round(Xe(ks.r*255,0,255))*65536+Math.round(Xe(ks.g*255,0,255))*256+Math.round(Xe(ks.b*255,0,255))}getHexString(t=qs){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=yn.workingColorSpace){yn.fromWorkingColorSpace(ks.copy(this),e);const i=ks.r,s=ks.g,r=ks.b,l=Math.max(i,s,r),u=Math.min(i,s,r);let h,p;const m=(u+l)/2;if(u===l)h=0,p=0;else{const v=l-u;switch(p=m<=.5?v/(l+u):v/(2-l-u),l){case i:h=(s-r)/v+(s<r?6:0);break;case s:h=(r-i)/v+2;break;case r:h=(i-s)/v+4;break}h/=6}return t.h=h,t.s=p,t.l=m,t}getRGB(t,e=yn.workingColorSpace){return yn.fromWorkingColorSpace(ks.copy(this),e),t.r=ks.r,t.g=ks.g,t.b=ks.b,t}getStyle(t=qs){yn.fromWorkingColorSpace(ks.copy(this),t);const e=ks.r,i=ks.g,s=ks.b;return t!==qs?`color(${t} ${e.toFixed(3)} ${i.toFixed(3)} ${s.toFixed(3)})`:`rgb(${Math.round(e*255)},${Math.round(i*255)},${Math.round(s*255)})`}offsetHSL(t,e,i){return this.getHSL(ou),this.setHSL(ou.h+t,ou.s+e,ou.l+i)}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,i){return this.r=t.r+(e.r-t.r)*i,this.g=t.g+(e.g-t.g)*i,this.b=t.b+(e.b-t.b)*i,this}lerpHSL(t,e){this.getHSL(ou),t.getHSL(fy);const i=pg(ou.h,fy.h,e),s=pg(ou.s,fy.s,e),r=pg(ou.l,fy.l,e);return this.setHSL(i,s,r),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const e=this.r,i=this.g,s=this.b,r=t.elements;return this.r=r[0]*e+r[3]*i+r[6]*s,this.g=r[1]*e+r[4]*i+r[7]*s,this.b=r[2]*e+r[5]*i+r[8]*s,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const ks=new de;de.NAMES=q3;let aV=0;class Ks extends yl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:aV++}),this.uuid=ir(),this.name="",this.type="Material",this.blending=Zf,this.side=uc,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=bx,this.blendDst=Mx,this.blendEquation=mu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new de(0,0,0),this.blendAlpha=0,this.depthFunc=nh,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Gb,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Bf,this.stencilZFail=Bf,this.stencilZPass=Bf,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(t!==void 0)for(const e in t){const i=t[e];if(i===void 0){console.warn(`THREE.Material: parameter '${e}' has value of undefined.`);continue}const s=this[e];if(s===void 0){console.warn(`THREE.Material: '${e}' is not a property of THREE.${this.type}.`);continue}s&&s.isColor?s.set(i):s&&s.isVector3&&i&&i.isVector3?s.copy(i):this[e]=i}}toJSON(t){const e=t===void 0||typeof t=="string";e&&(t={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(t).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(t).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Zf&&(i.blending=this.blending),this.side!==uc&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==bx&&(i.blendSrc=this.blendSrc),this.blendDst!==Mx&&(i.blendDst=this.blendDst),this.blendEquation!==mu&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==nh&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==Gb&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Bf&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Bf&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Bf&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function s(r){const l=[];for(const u in r){const h=r[u];delete h.metadata,l.push(h)}return l}if(e){const r=s(t.textures),l=s(t.images);r.length>0&&(i.textures=r),l.length>0&&(i.images=l)}return i}clone(){return new this.constructor().copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.blendColor.copy(t.blendColor),this.blendAlpha=t.blendAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let i=null;if(e!==null){const s=e.length;i=new Array(s);for(let r=0;r!==s;++r)i[r]=e[r].clone()}return this.clippingPlanes=i,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){t===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class Eu extends Ks{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new de(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ar,this.combine=o0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const sc=rV();function rV(){const n=new ArrayBuffer(4),t=new Float32Array(n),e=new Uint32Array(n),i=new Uint32Array(512),s=new Uint32Array(512);for(let h=0;h<256;++h){const p=h-127;p<-27?(i[h]=0,i[h|256]=32768,s[h]=24,s[h|256]=24):p<-14?(i[h]=1024>>-p-14,i[h|256]=1024>>-p-14|32768,s[h]=-p-1,s[h|256]=-p-1):p<=15?(i[h]=p+15<<10,i[h|256]=p+15<<10|32768,s[h]=13,s[h|256]=13):p<128?(i[h]=31744,i[h|256]=64512,s[h]=24,s[h|256]=24):(i[h]=31744,i[h|256]=64512,s[h]=13,s[h|256]=13)}const r=new Uint32Array(2048),l=new Uint32Array(64),u=new Uint32Array(64);for(let h=1;h<1024;++h){let p=h<<13,m=0;for(;!(p&8388608);)p<<=1,m-=8388608;p&=-8388609,m+=947912704,r[h]=p|m}for(let h=1024;h<2048;++h)r[h]=939524096+(h-1024<<13);for(let h=1;h<31;++h)l[h]=h<<23;l[31]=1199570944,l[32]=2147483648;for(let h=33;h<63;++h)l[h]=2147483648+(h-32<<23);l[63]=3347054592;for(let h=1;h<64;++h)h!==32&&(u[h]=1024);return{floatView:t,uint32View:e,baseTable:i,shiftTable:s,mantissaTable:r,exponentTable:l,offsetTable:u}}function La(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Xe(n,-65504,65504),sc.floatView[0]=n;const t=sc.uint32View[0],e=t>>23&511;return sc.baseTable[e]+((t&8388607)>>sc.shiftTable[e])}function ng(n){const t=n>>10;return sc.uint32View[0]=sc.mantissaTable[sc.offsetTable[t]+(n&1023)]+sc.exponentTable[t],sc.floatView[0]}const oV={toHalfFloat:La,fromHalfFloat:ng},Gi=new W,hy=new Vt;let lV=0;class jn{constructor(t,e,i=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:lV++}),this.name="",this.array=t,this.itemSize=e,this.count=t!==void 0?t.length/e:0,this.normalized=i,this.usage=Pg,this.updateRanges=[],this.gpuType=Pa,this.version=0}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,e,i){t*=this.itemSize,i*=e.itemSize;for(let s=0,r=this.itemSize;s<r;s++)this.array[t+s]=e.array[i+s];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(this.itemSize===2)for(let e=0,i=this.count;e<i;e++)hy.fromBufferAttribute(this,e),hy.applyMatrix3(t),this.setXY(e,hy.x,hy.y);else if(this.itemSize===3)for(let e=0,i=this.count;e<i;e++)Gi.fromBufferAttribute(this,e),Gi.applyMatrix3(t),this.setXYZ(e,Gi.x,Gi.y,Gi.z);return this}applyMatrix4(t){for(let e=0,i=this.count;e<i;e++)Gi.fromBufferAttribute(this,e),Gi.applyMatrix4(t),this.setXYZ(e,Gi.x,Gi.y,Gi.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)Gi.fromBufferAttribute(this,e),Gi.applyNormalMatrix(t),this.setXYZ(e,Gi.x,Gi.y,Gi.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)Gi.fromBufferAttribute(this,e),Gi.transformDirection(t),this.setXYZ(e,Gi.x,Gi.y,Gi.z);return this}set(t,e=0){return this.array.set(t,e),this}getComponent(t,e){let i=this.array[t*this.itemSize+e];return this.normalized&&(i=ua(i,this.array)),i}setComponent(t,e,i){return this.normalized&&(i=Ye(i,this.array)),this.array[t*this.itemSize+e]=i,this}getX(t){let e=this.array[t*this.itemSize];return this.normalized&&(e=ua(e,this.array)),e}setX(t,e){return this.normalized&&(e=Ye(e,this.array)),this.array[t*this.itemSize]=e,this}getY(t){let e=this.array[t*this.itemSize+1];return this.normalized&&(e=ua(e,this.array)),e}setY(t,e){return this.normalized&&(e=Ye(e,this.array)),this.array[t*this.itemSize+1]=e,this}getZ(t){let e=this.array[t*this.itemSize+2];return this.normalized&&(e=ua(e,this.array)),e}setZ(t,e){return this.normalized&&(e=Ye(e,this.array)),this.array[t*this.itemSize+2]=e,this}getW(t){let e=this.array[t*this.itemSize+3];return this.normalized&&(e=ua(e,this.array)),e}setW(t,e){return this.normalized&&(e=Ye(e,this.array)),this.array[t*this.itemSize+3]=e,this}setXY(t,e,i){return t*=this.itemSize,this.normalized&&(e=Ye(e,this.array),i=Ye(i,this.array)),this.array[t+0]=e,this.array[t+1]=i,this}setXYZ(t,e,i,s){return t*=this.itemSize,this.normalized&&(e=Ye(e,this.array),i=Ye(i,this.array),s=Ye(s,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=s,this}setXYZW(t,e,i,s,r){return t*=this.itemSize,this.normalized&&(e=Ye(e,this.array),i=Ye(i,this.array),s=Ye(s,this.array),r=Ye(r,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=s,this.array[t+3]=r,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(t.name=this.name),this.usage!==Pg&&(t.usage=this.usage),t}}class cV extends jn{constructor(t,e,i){super(new Int8Array(t),e,i)}}class uV extends jn{constructor(t,e,i){super(new Uint8Array(t),e,i)}}class fV extends jn{constructor(t,e,i){super(new Uint8ClampedArray(t),e,i)}}class hV extends jn{constructor(t,e,i){super(new Int16Array(t),e,i)}}class uT extends jn{constructor(t,e,i){super(new Uint16Array(t),e,i)}}class dV extends jn{constructor(t,e,i){super(new Int32Array(t),e,i)}}class fT extends jn{constructor(t,e,i){super(new Uint32Array(t),e,i)}}class pV extends jn{constructor(t,e,i){super(new Uint16Array(t),e,i),this.isFloat16BufferAttribute=!0}getX(t){let e=ng(this.array[t*this.itemSize]);return this.normalized&&(e=ua(e,this.array)),e}setX(t,e){return this.normalized&&(e=Ye(e,this.array)),this.array[t*this.itemSize]=La(e),this}getY(t){let e=ng(this.array[t*this.itemSize+1]);return this.normalized&&(e=ua(e,this.array)),e}setY(t,e){return this.normalized&&(e=Ye(e,this.array)),this.array[t*this.itemSize+1]=La(e),this}getZ(t){let e=ng(this.array[t*this.itemSize+2]);return this.normalized&&(e=ua(e,this.array)),e}setZ(t,e){return this.normalized&&(e=Ye(e,this.array)),this.array[t*this.itemSize+2]=La(e),this}getW(t){let e=ng(this.array[t*this.itemSize+3]);return this.normalized&&(e=ua(e,this.array)),e}setW(t,e){return this.normalized&&(e=Ye(e,this.array)),this.array[t*this.itemSize+3]=La(e),this}setXY(t,e,i){return t*=this.itemSize,this.normalized&&(e=Ye(e,this.array),i=Ye(i,this.array)),this.array[t+0]=La(e),this.array[t+1]=La(i),this}setXYZ(t,e,i,s){return t*=this.itemSize,this.normalized&&(e=Ye(e,this.array),i=Ye(i,this.array),s=Ye(s,this.array)),this.array[t+0]=La(e),this.array[t+1]=La(i),this.array[t+2]=La(s),this}setXYZW(t,e,i,s,r){return t*=this.itemSize,this.normalized&&(e=Ye(e,this.array),i=Ye(i,this.array),s=Ye(s,this.array),r=Ye(r,this.array)),this.array[t+0]=La(e),this.array[t+1]=La(i),this.array[t+2]=La(s),this.array[t+3]=La(r),this}}class be extends jn{constructor(t,e,i){super(new Float32Array(t),e,i)}}let mV=0;const br=new Ie,S1=new Tn,xd=new W,nr=new pa,Gm=new pa,ds=new W;class tn extends yl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:mV++}),this.uuid=ir(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(k3(t)?fT:uT)(t,1):this.index=t,this}setIndirect(t){return this.indirect=t,this}getIndirect(){return this.indirect}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return this.attributes[t]!==void 0}addGroup(t,e,i=0){this.groups.push({start:t,count:e,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;e!==void 0&&(e.applyMatrix4(t),e.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const r=new qe().getNormalMatrix(t);i.applyNormalMatrix(r),i.needsUpdate=!0}const s=this.attributes.tangent;return s!==void 0&&(s.transformDirection(t),s.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(t){return br.makeRotationFromQuaternion(t),this.applyMatrix4(br),this}rotateX(t){return br.makeRotationX(t),this.applyMatrix4(br),this}rotateY(t){return br.makeRotationY(t),this.applyMatrix4(br),this}rotateZ(t){return br.makeRotationZ(t),this.applyMatrix4(br),this}translate(t,e,i){return br.makeTranslation(t,e,i),this.applyMatrix4(br),this}scale(t,e,i){return br.makeScale(t,e,i),this.applyMatrix4(br),this}lookAt(t){return S1.lookAt(t),S1.updateMatrix(),this.applyMatrix4(S1.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(xd).negate(),this.translate(xd.x,xd.y,xd.z),this}setFromPoints(t){const e=this.getAttribute("position");if(e===void 0){const i=[];for(let s=0,r=t.length;s<r;s++){const l=t[s];i.push(l.x,l.y,l.z||0)}this.setAttribute("position",new be(i,3))}else{const i=Math.min(t.length,e.count);for(let s=0;s<i;s++){const r=t[s];e.setXYZ(s,r.x,r.y,r.z||0)}t.length>e.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),e.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new pa);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new W(-1/0,-1/0,-1/0),new W(1/0,1/0,1/0));return}if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),e)for(let i=0,s=e.length;i<s;i++){const r=e[i];nr.setFromBufferAttribute(r),this.morphTargetsRelative?(ds.addVectors(this.boundingBox.min,nr.min),this.boundingBox.expandByPoint(ds),ds.addVectors(this.boundingBox.max,nr.max),this.boundingBox.expandByPoint(ds)):(this.boundingBox.expandByPoint(nr.min),this.boundingBox.expandByPoint(nr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Zs);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new W,1/0);return}if(t){const i=this.boundingSphere.center;if(nr.setFromBufferAttribute(t),e)for(let r=0,l=e.length;r<l;r++){const u=e[r];Gm.setFromBufferAttribute(u),this.morphTargetsRelative?(ds.addVectors(nr.min,Gm.min),nr.expandByPoint(ds),ds.addVectors(nr.max,Gm.max),nr.expandByPoint(ds)):(nr.expandByPoint(Gm.min),nr.expandByPoint(Gm.max))}nr.getCenter(i);let s=0;for(let r=0,l=t.count;r<l;r++)ds.fromBufferAttribute(t,r),s=Math.max(s,i.distanceToSquared(ds));if(e)for(let r=0,l=e.length;r<l;r++){const u=e[r],h=this.morphTargetsRelative;for(let p=0,m=u.count;p<m;p++)ds.fromBufferAttribute(u,p),h&&(xd.fromBufferAttribute(t,p),ds.add(xd)),s=Math.max(s,i.distanceToSquared(ds))}this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(t===null||e.position===void 0||e.normal===void 0||e.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.position,s=e.normal,r=e.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new jn(new Float32Array(4*i.count),4));const l=this.getAttribute("tangent"),u=[],h=[];for(let V=0;V<i.count;V++)u[V]=new W,h[V]=new W;const p=new W,m=new W,v=new W,x=new Vt,_=new Vt,T=new Vt,C=new W,E=new W;function M(V,U,P){p.fromBufferAttribute(i,V),m.fromBufferAttribute(i,U),v.fromBufferAttribute(i,P),x.fromBufferAttribute(r,V),_.fromBufferAttribute(r,U),T.fromBufferAttribute(r,P),m.sub(p),v.sub(p),_.sub(x),T.sub(x);const X=1/(_.x*T.y-T.x*_.y);isFinite(X)&&(C.copy(m).multiplyScalar(T.y).addScaledVector(v,-_.y).multiplyScalar(X),E.copy(v).multiplyScalar(_.x).addScaledVector(m,-T.x).multiplyScalar(X),u[V].add(C),u[U].add(C),u[P].add(C),h[V].add(E),h[U].add(E),h[P].add(E))}let R=this.groups;R.length===0&&(R=[{start:0,count:t.count}]);for(let V=0,U=R.length;V<U;++V){const P=R[V],X=P.start,pt=P.count;for(let it=X,K=X+pt;it<K;it+=3)M(t.getX(it+0),t.getX(it+1),t.getX(it+2))}const D=new W,L=new W,z=new W,B=new W;function I(V){z.fromBufferAttribute(s,V),B.copy(z);const U=u[V];D.copy(U),D.sub(z.multiplyScalar(z.dot(U))).normalize(),L.crossVectors(B,U);const X=L.dot(h[V])<0?-1:1;l.setXYZW(V,D.x,D.y,D.z,X)}for(let V=0,U=R.length;V<U;++V){const P=R[V],X=P.start,pt=P.count;for(let it=X,K=X+pt;it<K;it+=3)I(t.getX(it+0)),I(t.getX(it+1)),I(t.getX(it+2))}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(e!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new jn(new Float32Array(e.count*3),3),this.setAttribute("normal",i);else for(let x=0,_=i.count;x<_;x++)i.setXYZ(x,0,0,0);const s=new W,r=new W,l=new W,u=new W,h=new W,p=new W,m=new W,v=new W;if(t)for(let x=0,_=t.count;x<_;x+=3){const T=t.getX(x+0),C=t.getX(x+1),E=t.getX(x+2);s.fromBufferAttribute(e,T),r.fromBufferAttribute(e,C),l.fromBufferAttribute(e,E),m.subVectors(l,r),v.subVectors(s,r),m.cross(v),u.fromBufferAttribute(i,T),h.fromBufferAttribute(i,C),p.fromBufferAttribute(i,E),u.add(m),h.add(m),p.add(m),i.setXYZ(T,u.x,u.y,u.z),i.setXYZ(C,h.x,h.y,h.z),i.setXYZ(E,p.x,p.y,p.z)}else for(let x=0,_=e.count;x<_;x+=3)s.fromBufferAttribute(e,x+0),r.fromBufferAttribute(e,x+1),l.fromBufferAttribute(e,x+2),m.subVectors(l,r),v.subVectors(s,r),m.cross(v),i.setXYZ(x+0,m.x,m.y,m.z),i.setXYZ(x+1,m.x,m.y,m.z),i.setXYZ(x+2,m.x,m.y,m.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let e=0,i=t.count;e<i;e++)ds.fromBufferAttribute(t,e),ds.normalize(),t.setXYZ(e,ds.x,ds.y,ds.z)}toNonIndexed(){function t(u,h){const p=u.array,m=u.itemSize,v=u.normalized,x=new p.constructor(h.length*m);let _=0,T=0;for(let C=0,E=h.length;C<E;C++){u.isInterleavedBufferAttribute?_=h[C]*u.data.stride+u.offset:_=h[C]*m;for(let M=0;M<m;M++)x[T++]=p[_++]}return new jn(x,m,v)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new tn,i=this.index.array,s=this.attributes;for(const u in s){const h=s[u],p=t(h,i);e.setAttribute(u,p)}const r=this.morphAttributes;for(const u in r){const h=[],p=r[u];for(let m=0,v=p.length;m<v;m++){const x=p[m],_=t(x,i);h.push(_)}e.morphAttributes[u]=h}e.morphTargetsRelative=this.morphTargetsRelative;const l=this.groups;for(let u=0,h=l.length;u<h;u++){const p=l[u];e.addGroup(p.start,p.count,p.materialIndex)}return e}toJSON(){const t={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),this.parameters!==void 0){const h=this.parameters;for(const p in h)h[p]!==void 0&&(t[p]=h[p]);return t}t.data={attributes:{}};const e=this.index;e!==null&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const i=this.attributes;for(const h in i){const p=i[h];t.data.attributes[h]=p.toJSON(t.data)}const s={};let r=!1;for(const h in this.morphAttributes){const p=this.morphAttributes[h],m=[];for(let v=0,x=p.length;v<x;v++){const _=p[v];m.push(_.toJSON(t.data))}m.length>0&&(s[h]=m,r=!0)}r&&(t.data.morphAttributes=s,t.data.morphTargetsRelative=this.morphTargetsRelative);const l=this.groups;l.length>0&&(t.data.groups=JSON.parse(JSON.stringify(l)));const u=this.boundingSphere;return u!==null&&(t.data.boundingSphere={center:u.center.toArray(),radius:u.radius}),t}clone(){return new this.constructor().copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const i=t.index;i!==null&&this.setIndex(i.clone(e));const s=t.attributes;for(const p in s){const m=s[p];this.setAttribute(p,m.clone(e))}const r=t.morphAttributes;for(const p in r){const m=[],v=r[p];for(let x=0,_=v.length;x<_;x++)m.push(v[x].clone(e));this.morphAttributes[p]=m}this.morphTargetsRelative=t.morphTargetsRelative;const l=t.groups;for(let p=0,m=l.length;p<m;p++){const v=l[p];this.addGroup(v.start,v.count,v.materialIndex)}const u=t.boundingBox;u!==null&&(this.boundingBox=u.clone());const h=t.boundingSphere;return h!==null&&(this.boundingSphere=h.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const fw=new Ie,bf=new dp,dy=new Zs,hw=new W,py=new W,my=new W,gy=new W,b1=new W,vy=new W,dw=new W,yy=new W;class Xi extends Tn{constructor(t=new tn,e=new Eu){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),t.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){const s=e[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,l=s.length;r<l;r++){const u=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=r}}}}getVertexPosition(t,e){const i=this.geometry,s=i.attributes.position,r=i.morphAttributes.position,l=i.morphTargetsRelative;e.fromBufferAttribute(s,t);const u=this.morphTargetInfluences;if(r&&u){vy.set(0,0,0);for(let h=0,p=r.length;h<p;h++){const m=u[h],v=r[h];m!==0&&(b1.fromBufferAttribute(v,t),l?vy.addScaledVector(b1,m):vy.addScaledVector(b1.sub(e),m))}e.add(vy)}return e}raycast(t,e){const i=this.geometry,s=this.material,r=this.matrixWorld;s!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),dy.copy(i.boundingSphere),dy.applyMatrix4(r),bf.copy(t.ray).recast(t.near),!(dy.containsPoint(bf.origin)===!1&&(bf.intersectSphere(dy,hw)===null||bf.origin.distanceToSquared(hw)>(t.far-t.near)**2))&&(fw.copy(r).invert(),bf.copy(t.ray).applyMatrix4(fw),!(i.boundingBox!==null&&bf.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(t,e,bf)))}_computeIntersections(t,e,i){let s;const r=this.geometry,l=this.material,u=r.index,h=r.attributes.position,p=r.attributes.uv,m=r.attributes.uv1,v=r.attributes.normal,x=r.groups,_=r.drawRange;if(u!==null)if(Array.isArray(l))for(let T=0,C=x.length;T<C;T++){const E=x[T],M=l[E.materialIndex],R=Math.max(E.start,_.start),D=Math.min(u.count,Math.min(E.start+E.count,_.start+_.count));for(let L=R,z=D;L<z;L+=3){const B=u.getX(L),I=u.getX(L+1),V=u.getX(L+2);s=xy(this,M,t,i,p,m,v,B,I,V),s&&(s.faceIndex=Math.floor(L/3),s.face.materialIndex=E.materialIndex,e.push(s))}}else{const T=Math.max(0,_.start),C=Math.min(u.count,_.start+_.count);for(let E=T,M=C;E<M;E+=3){const R=u.getX(E),D=u.getX(E+1),L=u.getX(E+2);s=xy(this,l,t,i,p,m,v,R,D,L),s&&(s.faceIndex=Math.floor(E/3),e.push(s))}}else if(h!==void 0)if(Array.isArray(l))for(let T=0,C=x.length;T<C;T++){const E=x[T],M=l[E.materialIndex],R=Math.max(E.start,_.start),D=Math.min(h.count,Math.min(E.start+E.count,_.start+_.count));for(let L=R,z=D;L<z;L+=3){const B=L,I=L+1,V=L+2;s=xy(this,M,t,i,p,m,v,B,I,V),s&&(s.faceIndex=Math.floor(L/3),s.face.materialIndex=E.materialIndex,e.push(s))}}else{const T=Math.max(0,_.start),C=Math.min(h.count,_.start+_.count);for(let E=T,M=C;E<M;E+=3){const R=E,D=E+1,L=E+2;s=xy(this,l,t,i,p,m,v,R,D,L),s&&(s.faceIndex=Math.floor(E/3),e.push(s))}}}}function gV(n,t,e,i,s,r,l,u){let h;if(t.side===da?h=i.intersectTriangle(l,r,s,!0,u):h=i.intersectTriangle(s,r,l,t.side===uc,u),h===null)return null;yy.copy(u),yy.applyMatrix4(n.matrixWorld);const p=e.ray.origin.distanceTo(yy);return p<e.near||p>e.far?null:{distance:p,point:yy.clone(),object:n}}function xy(n,t,e,i,s,r,l,u,h,p){n.getVertexPosition(u,py),n.getVertexPosition(h,my),n.getVertexPosition(p,gy);const m=gV(n,t,e,i,py,my,gy,dw);if(m){const v=new W;Oa.getBarycoord(dw,py,my,gy,v),s&&(m.uv=Oa.getInterpolatedAttribute(s,u,h,p,v,new Vt)),r&&(m.uv1=Oa.getInterpolatedAttribute(r,u,h,p,v,new Vt)),l&&(m.normal=Oa.getInterpolatedAttribute(l,u,h,p,v,new W),m.normal.dot(i.direction)>0&&m.normal.multiplyScalar(-1));const x={a:u,b:h,c:p,normal:new W,materialIndex:0};Oa.getNormal(py,my,gy,x.normal),m.face=x,m.barycoord=v}return m}class lh extends tn{constructor(t=1,e=1,i=1,s=1,r=1,l=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:s,heightSegments:r,depthSegments:l};const u=this;s=Math.floor(s),r=Math.floor(r),l=Math.floor(l);const h=[],p=[],m=[],v=[];let x=0,_=0;T("z","y","x",-1,-1,i,e,t,l,r,0),T("z","y","x",1,-1,i,e,-t,l,r,1),T("x","z","y",1,1,t,i,e,s,l,2),T("x","z","y",1,-1,t,i,-e,s,l,3),T("x","y","z",1,-1,t,e,i,s,r,4),T("x","y","z",-1,-1,t,e,-i,s,r,5),this.setIndex(h),this.setAttribute("position",new be(p,3)),this.setAttribute("normal",new be(m,3)),this.setAttribute("uv",new be(v,2));function T(C,E,M,R,D,L,z,B,I,V,U){const P=L/I,X=z/V,pt=L/2,it=z/2,K=B/2,lt=I+1,J=V+1;let tt=0,Q=0;const _t=new W;for(let j=0;j<J;j++){const at=j*X-it;for(let At=0;At<lt;At++){const zt=At*P-pt;_t[C]=zt*R,_t[E]=at*D,_t[M]=K,p.push(_t.x,_t.y,_t.z),_t[C]=0,_t[E]=0,_t[M]=B>0?1:-1,m.push(_t.x,_t.y,_t.z),v.push(At/I),v.push(1-j/V),tt+=1}}for(let j=0;j<V;j++)for(let at=0;at<I;at++){const At=x+at+lt*j,zt=x+at+lt*(j+1),st=x+(at+1)+lt*(j+1),Et=x+(at+1)+lt*j;h.push(At,zt,Et),h.push(zt,st,Et),Q+=6}u.addGroup(_,Q,U),_+=Q,x+=tt}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new lh(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function np(n){const t={};for(const e in n){t[e]={};for(const i in n[e]){const s=n[e][i];s&&(s.isColor||s.isMatrix3||s.isMatrix4||s.isVector2||s.isVector3||s.isVector4||s.isTexture||s.isQuaternion)?s.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[e][i]=null):t[e][i]=s.clone():Array.isArray(s)?t[e][i]=s.slice():t[e][i]=s}}return t}function la(n){const t={};for(let e=0;e<n.length;e++){const i=np(n[e]);for(const s in i)t[s]=i[s]}return t}function vV(n){const t=[];for(let e=0;e<n.length;e++)t.push(n[e].clone());return t}function Y3(n){const t=n.getRenderTarget();return t===null?n.outputColorSpace:t.isXRRenderTarget===!0?t.texture.colorSpace:yn.workingColorSpace}const W3={clone:np,merge:la};var yV=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,xV=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class _o extends Ks{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=yV,this.fragmentShader=xV,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,t!==void 0&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=np(t.uniforms),this.uniformsGroups=vV(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const s in this.uniforms){const l=this.uniforms[s].value;l&&l.isTexture?e.uniforms[s]={type:"t",value:l.toJSON(t).uuid}:l&&l.isColor?e.uniforms[s]={type:"c",value:l.getHex()}:l&&l.isVector2?e.uniforms[s]={type:"v2",value:l.toArray()}:l&&l.isVector3?e.uniforms[s]={type:"v3",value:l.toArray()}:l&&l.isVector4?e.uniforms[s]={type:"v4",value:l.toArray()}:l&&l.isMatrix3?e.uniforms[s]={type:"m3",value:l.toArray()}:l&&l.isMatrix4?e.uniforms[s]={type:"m4",value:l.toArray()}:e.uniforms[s]={value:l}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.lights=this.lights,e.clipping=this.clipping;const i={};for(const s in this.extensions)this.extensions[s]===!0&&(i[s]=!0);return Object.keys(i).length>0&&(e.extensions=i),e}}class z_ extends Tn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ie,this.projectionMatrix=new Ie,this.projectionMatrixInverse=new Ie,this.coordinateSystem=vo}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){return super.getWorldDirection(t).negate()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const lu=new W,pw=new Vt,mw=new Vt;class ji extends z_{constructor(t=50,e=1,i=.1,s=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=i,this.far=s,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=tp*2*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(Qf*.5*this.fov);return .5*this.getFilmHeight()/t}getEffectiveFOV(){return tp*2*Math.atan(Math.tan(Qf*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(t,e,i){lu.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),e.set(lu.x,lu.y).multiplyScalar(-t/lu.z),lu.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(lu.x,lu.y).multiplyScalar(-t/lu.z)}getViewSize(t,e){return this.getViewBounds(t,pw,mw),e.subVectors(mw,pw)}setViewOffset(t,e,i,s,r,l){this.aspect=t/e,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=s,this.view.width=r,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(Qf*.5*this.fov)/this.zoom,i=2*e,s=this.aspect*i,r=-.5*s;const l=this.view;if(this.view!==null&&this.view.enabled){const h=l.fullWidth,p=l.fullHeight;r+=l.offsetX*s/h,e-=l.offsetY*i/p,s*=l.width/h,i*=l.height/p}const u=this.filmOffset;u!==0&&(r+=t*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+s,e,e-i,t,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,this.view!==null&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}const _d=-90,Sd=1;class Z3 extends Tn{constructor(t,e,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const s=new ji(_d,Sd,t,e);s.layers=this.layers,this.add(s);const r=new ji(_d,Sd,t,e);r.layers=this.layers,this.add(r);const l=new ji(_d,Sd,t,e);l.layers=this.layers,this.add(l);const u=new ji(_d,Sd,t,e);u.layers=this.layers,this.add(u);const h=new ji(_d,Sd,t,e);h.layers=this.layers,this.add(h);const p=new ji(_d,Sd,t,e);p.layers=this.layers,this.add(p)}updateCoordinateSystem(){const t=this.coordinateSystem,e=this.children.concat(),[i,s,r,l,u,h]=e;for(const p of e)this.remove(p);if(t===vo)i.up.set(0,1,0),i.lookAt(1,0,0),s.up.set(0,1,0),s.lookAt(-1,0,0),r.up.set(0,0,-1),r.lookAt(0,1,0),l.up.set(0,0,1),l.lookAt(0,-1,0),u.up.set(0,1,0),u.lookAt(0,0,1),h.up.set(0,1,0),h.lookAt(0,0,-1);else if(t===zg)i.up.set(0,-1,0),i.lookAt(-1,0,0),s.up.set(0,-1,0),s.lookAt(1,0,0),r.up.set(0,0,1),r.lookAt(0,1,0),l.up.set(0,0,-1),l.lookAt(0,-1,0),u.up.set(0,-1,0),u.lookAt(0,0,1),h.up.set(0,-1,0),h.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);for(const p of e)this.add(p),p.updateMatrixWorld()}update(t,e){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:s}=this;this.coordinateSystem!==t.coordinateSystem&&(this.coordinateSystem=t.coordinateSystem,this.updateCoordinateSystem());const[r,l,u,h,p,m]=this.children,v=t.getRenderTarget(),x=t.getActiveCubeFace(),_=t.getActiveMipmapLevel(),T=t.xr.enabled;t.xr.enabled=!1;const C=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,t.setRenderTarget(i,0,s),t.render(e,r),t.setRenderTarget(i,1,s),t.render(e,l),t.setRenderTarget(i,2,s),t.render(e,u),t.setRenderTarget(i,3,s),t.render(e,h),t.setRenderTarget(i,4,s),t.render(e,p),i.texture.generateMipmaps=C,t.setRenderTarget(i,5,s),t.render(e,m),t.setRenderTarget(v,x,_),t.xr.enabled=T,i.texture.needsPMREMUpdate=!0}}class u0 extends Ni{constructor(t,e,i,s,r,l,u,h,p,m){t=t!==void 0?t:[],e=e!==void 0?e:fc,super(t,e,i,s,r,l,u,h,p,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class K3 extends gl{constructor(t=1,e={}){super(t,t,e),this.isWebGLCubeRenderTarget=!0;const i={width:t,height:t,depth:1},s=[i,i,i,i,i,i];this.texture=new u0(s,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=e.generateMipmaps!==void 0?e.generateMipmaps:!1,this.texture.minFilter=e.minFilter!==void 0?e.minFilter:Qi}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.colorSpace=e.colorSpace,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},s=new lh(5,5,5),r=new _o({name:"CubemapFromEquirect",uniforms:np(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:da,blending:rc});r.uniforms.tEquirect.value=e;const l=new Xi(s,r),u=e.minFilter;return e.minFilter===ol&&(e.minFilter=Qi),new Z3(1,10,this).update(t,l),e.minFilter=u,l.geometry.dispose(),l.material.dispose(),this}clear(t,e,i,s){const r=t.getRenderTarget();for(let l=0;l<6;l++)t.setRenderTarget(this,l),t.clear(e,i,s);t.setRenderTarget(r)}}class Pd extends Tn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const _V={type:"move"};class cx{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Pd,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Pd,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new W,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new W),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Pd,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new W,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new W),this._grip}dispatchEvent(t){return this._targetRay!==null&&this._targetRay.dispatchEvent(t),this._grip!==null&&this._grip.dispatchEvent(t),this._hand!==null&&this._hand.dispatchEvent(t),this}connect(t){if(t&&t.hand){const e=this._hand;if(e)for(const i of t.hand.values())this._getHandJoint(e,i)}return this.dispatchEvent({type:"connected",data:t}),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(t,e,i){let s=null,r=null,l=null;const u=this._targetRay,h=this._grip,p=this._hand;if(t&&e.session.visibilityState!=="visible-blurred"){if(p&&t.hand){l=!0;for(const C of t.hand.values()){const E=e.getJointPose(C,i),M=this._getHandJoint(p,C);E!==null&&(M.matrix.fromArray(E.transform.matrix),M.matrix.decompose(M.position,M.rotation,M.scale),M.matrixWorldNeedsUpdate=!0,M.jointRadius=E.radius),M.visible=E!==null}const m=p.joints["index-finger-tip"],v=p.joints["thumb-tip"],x=m.position.distanceTo(v.position),_=.02,T=.005;p.inputState.pinching&&x>_+T?(p.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!p.inputState.pinching&&x<=_-T&&(p.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else h!==null&&t.gripSpace&&(r=e.getPose(t.gripSpace,i),r!==null&&(h.matrix.fromArray(r.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.matrixWorldNeedsUpdate=!0,r.linearVelocity?(h.hasLinearVelocity=!0,h.linearVelocity.copy(r.linearVelocity)):h.hasLinearVelocity=!1,r.angularVelocity?(h.hasAngularVelocity=!0,h.angularVelocity.copy(r.angularVelocity)):h.hasAngularVelocity=!1));u!==null&&(s=e.getPose(t.targetRaySpace,i),s===null&&r!==null&&(s=r),s!==null&&(u.matrix.fromArray(s.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,s.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(s.linearVelocity)):u.hasLinearVelocity=!1,s.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(s.angularVelocity)):u.hasAngularVelocity=!1,this.dispatchEvent(_V)))}return u!==null&&(u.visible=s!==null),h!==null&&(h.visible=r!==null),p!==null&&(p.visible=l!==null),this}_getHandJoint(t,e){if(t.joints[e.jointName]===void 0){const i=new Pd;i.matrixAutoUpdate=!1,i.visible=!1,t.joints[e.jointName]=i,t.add(i)}return t.joints[e.jointName]}}class B_{constructor(t,e=25e-5){this.isFogExp2=!0,this.name="",this.color=new de(t),this.density=e}clone(){return new B_(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class V_{constructor(t,e=1,i=1e3){this.isFog=!0,this.name="",this.color=new de(t),this.near=e,this.far=i}clone(){return new V_(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class hT extends Tn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new ar,this.environmentIntensity=1,this.environmentRotation=new ar,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),t.background!==null&&(this.background=t.background.clone()),t.environment!==null&&(this.environment=t.environment.clone()),t.fog!==null&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,this.backgroundRotation.copy(t.backgroundRotation),this.environmentIntensity=t.environmentIntensity,this.environmentRotation.copy(t.environmentRotation),t.overrideMaterial!==null&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return this.fog!==null&&(e.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(e.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(e.object.backgroundIntensity=this.backgroundIntensity),e.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(e.object.environmentIntensity=this.environmentIntensity),e.object.environmentRotation=this.environmentRotation.toArray(),e}}class I_{constructor(t,e){this.isInterleavedBuffer=!0,this.array=t,this.stride=e,this.count=t!==void 0?t.length/e:0,this.usage=Pg,this.updateRanges=[],this.version=0,this.uuid=ir()}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,i){t*=this.stride,i*=e.stride;for(let s=0,r=this.stride;s<r;s++)this.array[t+s]=e.array[i+s];return this}set(t,e=0){return this.array.set(t,e),this}clone(t){t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ir()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(e,this.stride);return i.setUsage(this.usage),i}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ir()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const oa=new W;class ah{constructor(t,e,i,s=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=e,this.offset=i,this.normalized=s}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,i=this.data.count;e<i;e++)oa.fromBufferAttribute(this,e),oa.applyMatrix4(t),this.setXYZ(e,oa.x,oa.y,oa.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)oa.fromBufferAttribute(this,e),oa.applyNormalMatrix(t),this.setXYZ(e,oa.x,oa.y,oa.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)oa.fromBufferAttribute(this,e),oa.transformDirection(t),this.setXYZ(e,oa.x,oa.y,oa.z);return this}getComponent(t,e){let i=this.array[t*this.data.stride+this.offset+e];return this.normalized&&(i=ua(i,this.array)),i}setComponent(t,e,i){return this.normalized&&(i=Ye(i,this.array)),this.data.array[t*this.data.stride+this.offset+e]=i,this}setX(t,e){return this.normalized&&(e=Ye(e,this.array)),this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.normalized&&(e=Ye(e,this.array)),this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.normalized&&(e=Ye(e,this.array)),this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.normalized&&(e=Ye(e,this.array)),this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){let e=this.data.array[t*this.data.stride+this.offset];return this.normalized&&(e=ua(e,this.array)),e}getY(t){let e=this.data.array[t*this.data.stride+this.offset+1];return this.normalized&&(e=ua(e,this.array)),e}getZ(t){let e=this.data.array[t*this.data.stride+this.offset+2];return this.normalized&&(e=ua(e,this.array)),e}getW(t){let e=this.data.array[t*this.data.stride+this.offset+3];return this.normalized&&(e=ua(e,this.array)),e}setXY(t,e,i){return t=t*this.data.stride+this.offset,this.normalized&&(e=Ye(e,this.array),i=Ye(i,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this}setXYZ(t,e,i,s){return t=t*this.data.stride+this.offset,this.normalized&&(e=Ye(e,this.array),i=Ye(i,this.array),s=Ye(s,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=s,this}setXYZW(t,e,i,s,r){return t=t*this.data.stride+this.offset,this.normalized&&(e=Ye(e,this.array),i=Ye(i,this.array),s=Ye(s,this.array),r=Ye(r,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=s,this.data.array[t+3]=r,this}clone(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let i=0;i<this.count;i++){const s=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)e.push(this.data.array[s+r])}return new jn(new this.array.constructor(e),this.itemSize,this.normalized)}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new ah(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let i=0;i<this.count;i++){const s=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)e.push(this.data.array[s+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class dT extends Ks{constructor(t){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new de(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}let bd;const km=new W,Md=new W,Td=new W,Ed=new Vt,jm=new Vt,Q3=new Ie,_y=new W,Xm=new W,Sy=new W,gw=new Vt,M1=new Vt,vw=new Vt;class $3 extends Tn{constructor(t=new dT){if(super(),this.isSprite=!0,this.type="Sprite",bd===void 0){bd=new tn;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new I_(e,5);bd.setIndex([0,1,2,0,2,3]),bd.setAttribute("position",new ah(i,3,0,!1)),bd.setAttribute("uv",new ah(i,2,3,!1))}this.geometry=bd,this.material=t,this.center=new Vt(.5,.5)}raycast(t,e){t.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Md.setFromMatrixScale(this.matrixWorld),Q3.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),Td.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Md.multiplyScalar(-Td.z);const i=this.material.rotation;let s,r;i!==0&&(r=Math.cos(i),s=Math.sin(i));const l=this.center;by(_y.set(-.5,-.5,0),Td,l,Md,s,r),by(Xm.set(.5,-.5,0),Td,l,Md,s,r),by(Sy.set(.5,.5,0),Td,l,Md,s,r),gw.set(0,0),M1.set(1,0),vw.set(1,1);let u=t.ray.intersectTriangle(_y,Xm,Sy,!1,km);if(u===null&&(by(Xm.set(-.5,.5,0),Td,l,Md,s,r),M1.set(0,1),u=t.ray.intersectTriangle(_y,Sy,Xm,!1,km),u===null))return;const h=t.ray.origin.distanceTo(km);h<t.near||h>t.far||e.push({distance:h,point:km.clone(),uv:Oa.getInterpolation(km,_y,Xm,Sy,gw,M1,vw,new Vt),face:null,object:this})}copy(t,e){return super.copy(t,e),t.center!==void 0&&this.center.copy(t.center),this.material=t.material,this}}function by(n,t,e,i,s,r){Ed.subVectors(n,e).addScalar(.5).multiply(i),s!==void 0?(jm.x=r*Ed.x-s*Ed.y,jm.y=s*Ed.x+r*Ed.y):jm.copy(Ed),n.copy(t),n.x+=jm.x,n.y+=jm.y,n.applyMatrix4(Q3)}const My=new W,yw=new W;class J3 extends Tn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(t){super.copy(t,!1);const e=t.levels;for(let i=0,s=e.length;i<s;i++){const r=e[i];this.addLevel(r.object.clone(),r.distance,r.hysteresis)}return this.autoUpdate=t.autoUpdate,this}addLevel(t,e=0,i=0){e=Math.abs(e);const s=this.levels;let r;for(r=0;r<s.length&&!(e<s[r].distance);r++);return s.splice(r,0,{distance:e,hysteresis:i,object:t}),this.add(t),this}removeLevel(t){const e=this.levels;for(let i=0;i<e.length;i++)if(e[i].distance===t){const s=e.splice(i,1);return this.remove(s[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(t){const e=this.levels;if(e.length>0){let i,s;for(i=1,s=e.length;i<s;i++){let r=e[i].distance;if(e[i].object.visible&&(r-=r*e[i].hysteresis),t<r)break}return e[i-1].object}return null}raycast(t,e){if(this.levels.length>0){My.setFromMatrixPosition(this.matrixWorld);const s=t.ray.origin.distanceTo(My);this.getObjectForDistance(s).raycast(t,e)}}update(t){const e=this.levels;if(e.length>1){My.setFromMatrixPosition(t.matrixWorld),yw.setFromMatrixPosition(this.matrixWorld);const i=My.distanceTo(yw)/t.zoom;e[0].object.visible=!0;let s,r;for(s=1,r=e.length;s<r;s++){let l=e[s].distance;if(e[s].object.visible&&(l-=l*e[s].hysteresis),i>=l)e[s-1].object.visible=!1,e[s].object.visible=!0;else break}for(this._currentLevel=s-1;s<r;s++)e[s].object.visible=!1}}toJSON(t){const e=super.toJSON(t);this.autoUpdate===!1&&(e.object.autoUpdate=!1),e.object.levels=[];const i=this.levels;for(let s=0,r=i.length;s<r;s++){const l=i[s];e.object.levels.push({object:l.object.uuid,distance:l.distance,hysteresis:l.hysteresis})}return e}}const xw=new W,_w=new Mn,Sw=new Mn,SV=new W,bw=new Ie,Ty=new W,T1=new Zs,Mw=new Ie,E1=new dp;class tN extends Xi{constructor(t,e){super(t,e),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=Hb,this.bindMatrix=new Ie,this.bindMatrixInverse=new Ie,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const t=this.geometry;this.boundingBox===null&&(this.boundingBox=new pa),this.boundingBox.makeEmpty();const e=t.getAttribute("position");for(let i=0;i<e.count;i++)this.getVertexPosition(i,Ty),this.boundingBox.expandByPoint(Ty)}computeBoundingSphere(){const t=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Zs),this.boundingSphere.makeEmpty();const e=t.getAttribute("position");for(let i=0;i<e.count;i++)this.getVertexPosition(i,Ty),this.boundingSphere.expandByPoint(Ty)}copy(t,e){return super.copy(t,e),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),this}raycast(t,e){const i=this.material,s=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),T1.copy(this.boundingSphere),T1.applyMatrix4(s),t.ray.intersectsSphere(T1)!==!1&&(Mw.copy(s).invert(),E1.copy(t.ray).applyMatrix4(Mw),!(this.boundingBox!==null&&E1.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(t,e,E1)))}getVertexPosition(t,e){return super.getVertexPosition(t,e),this.applyBoneTransform(t,e),e}bind(t,e){this.skeleton=t,e===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new Mn,e=this.geometry.attributes.skinWeight;for(let i=0,s=e.count;i<s;i++){t.fromBufferAttribute(e,i);const r=1/t.manhattanLength();r!==1/0?t.multiplyScalar(r):t.set(1,0,0,0),e.setXYZW(i,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),this.bindMode===Hb?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===C3?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(t,e){const i=this.skeleton,s=this.geometry;_w.fromBufferAttribute(s.attributes.skinIndex,t),Sw.fromBufferAttribute(s.attributes.skinWeight,t),xw.copy(e).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let r=0;r<4;r++){const l=Sw.getComponent(r);if(l!==0){const u=_w.getComponent(r);bw.multiplyMatrices(i.bones[u].matrixWorld,i.boneInverses[u]),e.addScaledVector(SV.copy(xw).applyMatrix4(bw),l)}}return e.applyMatrix4(this.bindMatrixInverse)}}class pT extends Tn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class cl extends Ni{constructor(t=null,e=1,i=1,s,r,l,u,h,p=Ds,m=Ds,v,x){super(null,l,u,h,p,m,s,r,v,x),this.isDataTexture=!0,this.image={data:t,width:e,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const Tw=new Ie,bV=new Ie;class F_{constructor(t=[],e=[]){this.uuid=ir(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(t.length*16),e.length===0)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,s=this.bones.length;i<s;i++)this.boneInverses.push(new Ie)}}calculateInverses(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const i=new Ie;this.bones[t]&&i.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let t=0,e=this.bones.length;t<e;t++){const i=this.bones[t];i&&i.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const i=this.bones[t];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const t=this.bones,e=this.boneInverses,i=this.boneMatrices,s=this.boneTexture;for(let r=0,l=t.length;r<l;r++){const u=t[r]?t[r].matrixWorld:bV;Tw.multiplyMatrices(u,e[r]),Tw.toArray(i,r*16)}s!==null&&(s.needsUpdate=!0)}clone(){return new F_(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(this.bones.length*4);t=Math.ceil(t/4)*4,t=Math.max(t,4);const e=new Float32Array(t*t*4);e.set(this.boneMatrices);const i=new cl(e,t,t,Ys,Pa);return i.needsUpdate=!0,this.boneMatrices=e,this.boneTexture=i,this}getBoneByName(t){for(let e=0,i=this.bones.length;e<i;e++){const s=this.bones[e];if(s.name===t)return s}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,e){this.uuid=t.uuid;for(let i=0,s=t.bones.length;i<s;i++){const r=t.bones[i];let l=e[r];l===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),l=new pT),this.bones.push(l),this.boneInverses.push(new Ie().fromArray(t.boneInverses[i]))}return this.init(),this}toJSON(){const t={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,i=this.boneInverses;for(let s=0,r=e.length;s<r;s++){const l=e[s];t.bones.push(l.uuid);const u=i[s];t.boneInverses.push(u.toArray())}return t}}class ip extends jn{constructor(t,e,i,s=1){super(t,e,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=s}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}toJSON(){const t=super.toJSON();return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}const Ad=new Ie,Ew=new Ie,Ey=[],Aw=new pa,MV=new Ie,qm=new Xi,Ym=new Zs;class eN extends Xi{constructor(t,e,i){super(t,e),this.isInstancedMesh=!0,this.instanceMatrix=new ip(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let s=0;s<i;s++)this.setMatrixAt(s,MV)}computeBoundingBox(){const t=this.geometry,e=this.count;this.boundingBox===null&&(this.boundingBox=new pa),t.boundingBox===null&&t.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<e;i++)this.getMatrixAt(i,Ad),Aw.copy(t.boundingBox).applyMatrix4(Ad),this.boundingBox.union(Aw)}computeBoundingSphere(){const t=this.geometry,e=this.count;this.boundingSphere===null&&(this.boundingSphere=new Zs),t.boundingSphere===null&&t.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<e;i++)this.getMatrixAt(i,Ad),Ym.copy(t.boundingSphere).applyMatrix4(Ad),this.boundingSphere.union(Ym)}copy(t,e){return super.copy(t,e),this.instanceMatrix.copy(t.instanceMatrix),t.morphTexture!==null&&(this.morphTexture=t.morphTexture.clone()),t.instanceColor!==null&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),this}getColorAt(t,e){e.fromArray(this.instanceColor.array,t*3)}getMatrixAt(t,e){e.fromArray(this.instanceMatrix.array,t*16)}getMorphAt(t,e){const i=e.morphTargetInfluences,s=this.morphTexture.source.data.data,r=i.length+1,l=t*r+1;for(let u=0;u<i.length;u++)i[u]=s[l+u]}raycast(t,e){const i=this.matrixWorld,s=this.count;if(qm.geometry=this.geometry,qm.material=this.material,qm.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Ym.copy(this.boundingSphere),Ym.applyMatrix4(i),t.ray.intersectsSphere(Ym)!==!1))for(let r=0;r<s;r++){this.getMatrixAt(r,Ad),Ew.multiplyMatrices(i,Ad),qm.matrixWorld=Ew,qm.raycast(t,Ey);for(let l=0,u=Ey.length;l<u;l++){const h=Ey[l];h.instanceId=r,h.object=this,e.push(h)}Ey.length=0}}setColorAt(t,e){this.instanceColor===null&&(this.instanceColor=new ip(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),e.toArray(this.instanceColor.array,t*3)}setMatrixAt(t,e){e.toArray(this.instanceMatrix.array,t*16)}setMorphAt(t,e){const i=e.morphTargetInfluences,s=i.length+1;this.morphTexture===null&&(this.morphTexture=new cl(new Float32Array(s*this.count),s,this.count,D_,Pa));const r=this.morphTexture.source.data.data;let l=0;for(let p=0;p<i.length;p++)l+=i[p];const u=this.geometry.morphTargetsRelative?1:1-l,h=s*t;r[h]=u,r.set(i,h+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}const A1=new W,TV=new W,EV=new qe;class pu{constructor(t=new W(1,0,0),e=0){this.isPlane=!0,this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,i,s){return this.normal.set(t,e,i),this.constant=s,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,i){const s=A1.subVectors(i,e).cross(TV.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(s,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,e){const i=t.delta(A1),s=this.normal.dot(i);if(s===0)return this.distanceToPoint(t.start)===0?e.copy(t.start):null;const r=-(t.start.dot(this.normal)+this.constant)/s;return r<0||r>1?null:e.copy(t.start).addScaledVector(i,r)}intersectsLine(t){const e=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return e<0&&i>0||i<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const i=e||EV.getNormalMatrix(t),s=this.coplanarPoint(A1).applyMatrix4(t),r=this.normal.applyMatrix3(i).normalize();return this.constant=-s.dot(r),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Mf=new Zs,Ay=new W;class f0{constructor(t=new pu,e=new pu,i=new pu,s=new pu,r=new pu,l=new pu){this.planes=[t,e,i,s,r,l]}set(t,e,i,s,r,l){const u=this.planes;return u[0].copy(t),u[1].copy(e),u[2].copy(i),u[3].copy(s),u[4].copy(r),u[5].copy(l),this}copy(t){const e=this.planes;for(let i=0;i<6;i++)e[i].copy(t.planes[i]);return this}setFromProjectionMatrix(t,e=vo){const i=this.planes,s=t.elements,r=s[0],l=s[1],u=s[2],h=s[3],p=s[4],m=s[5],v=s[6],x=s[7],_=s[8],T=s[9],C=s[10],E=s[11],M=s[12],R=s[13],D=s[14],L=s[15];if(i[0].setComponents(h-r,x-p,E-_,L-M).normalize(),i[1].setComponents(h+r,x+p,E+_,L+M).normalize(),i[2].setComponents(h+l,x+m,E+T,L+R).normalize(),i[3].setComponents(h-l,x-m,E-T,L-R).normalize(),i[4].setComponents(h-u,x-v,E-C,L-D).normalize(),e===vo)i[5].setComponents(h+u,x+v,E+C,L+D).normalize();else if(e===zg)i[5].setComponents(u,v,C,D).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+e);return this}intersectsObject(t){if(t.boundingSphere!==void 0)t.boundingSphere===null&&t.computeBoundingSphere(),Mf.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{const e=t.geometry;e.boundingSphere===null&&e.computeBoundingSphere(),Mf.copy(e.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere(Mf)}intersectsSprite(t){return Mf.center.set(0,0,0),Mf.radius=.7071067811865476,Mf.applyMatrix4(t.matrixWorld),this.intersectsSphere(Mf)}intersectsSphere(t){const e=this.planes,i=t.center,s=-t.radius;for(let r=0;r<6;r++)if(e[r].distanceToPoint(i)<s)return!1;return!0}intersectsBox(t){const e=this.planes;for(let i=0;i<6;i++){const s=e[i];if(Ay.x=s.normal.x>0?t.max.x:t.min.x,Ay.y=s.normal.y>0?t.max.y:t.min.y,Ay.z=s.normal.z>0?t.max.z:t.min.z,s.distanceToPoint(Ay)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let i=0;i<6;i++)if(e[i].distanceToPoint(t)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function w1(n,t){return n-t}function AV(n,t){return n.z-t.z}function wV(n,t){return t.z-n.z}class CV{constructor(){this.index=0,this.pool=[],this.list=[]}push(t,e,i,s){const r=this.pool,l=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1,index:-1});const u=r[this.index];l.push(u),this.index++,u.start=t,u.count=e,u.z=i,u.index=s}reset(){this.list.length=0,this.index=0}}const Na=new Ie,RV=new de(1,1,1),C1=new f0,wy=new pa,Tf=new Zs,Wm=new W,ww=new W,DV=new W,R1=new CV,js=new Xi,Cy=[];function NV(n,t,e=0){const i=t.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==t.array.constructor){const s=n.count;for(let r=0;r<s;r++)for(let l=0;l<i;l++)t.setComponent(r+e,l,n.getComponent(r,l))}else t.array.set(n.array,e*i);t.needsUpdate=!0}function Ef(n,t){if(n.constructor!==t.constructor){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++)t[i]=n[i]}else{const e=Math.min(n.length,t.length);t.set(new n.constructor(n.buffer,0,e))}}class nN extends Xi{get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}constructor(t,e,i=e*2,s){super(new tn,s),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=t,this._maxVertexCount=e,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(t),this._multiDrawStarts=new Int32Array(t),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let t=Math.sqrt(this._maxInstanceCount*4);t=Math.ceil(t/4)*4,t=Math.max(t,4);const e=new Float32Array(t*t*4),i=new cl(e,t,t,Ys,Pa);this._matricesTexture=i}_initIndirectTexture(){let t=Math.sqrt(this._maxInstanceCount);t=Math.ceil(t);const e=new Uint32Array(t*t),i=new cl(e,t,t,l0,hc);this._indirectTexture=i}_initColorsTexture(){let t=Math.sqrt(this._maxInstanceCount);t=Math.ceil(t);const e=new Float32Array(t*t*4).fill(1),i=new cl(e,t,t,Ys,Pa);i.colorSpace=yn.workingColorSpace,this._colorsTexture=i}_initializeGeometry(t){const e=this.geometry,i=this._maxVertexCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const r in t.attributes){const l=t.getAttribute(r),{array:u,itemSize:h,normalized:p}=l,m=new u.constructor(i*h),v=new jn(m,h,p);e.setAttribute(r,v)}if(t.getIndex()!==null){const r=i>65535?new Uint32Array(s):new Uint16Array(s);e.setIndex(new jn(r,1))}this._geometryInitialized=!0}}_validateGeometry(t){const e=this.geometry;if(!!t.getIndex()!=!!e.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in e.attributes){if(!t.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const s=t.getAttribute(i),r=e.getAttribute(i);if(s.itemSize!==r.itemSize||s.normalized!==r.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(t){const e=this._instanceInfo;if(t<0||t>=e.length||e[t].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${t}. Instance is either out of range or has been deleted.`)}validateGeometryId(t){const e=this._geometryInfo;if(t<0||t>=e.length||e[t].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${t}. Geometry is either out of range or has been deleted.`)}setCustomSort(t){return this.customSort=t,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new pa);const t=this.boundingBox,e=this._instanceInfo;t.makeEmpty();for(let i=0,s=e.length;i<s;i++){if(e[i].active===!1)continue;const r=e[i].geometryIndex;this.getMatrixAt(i,Na),this.getBoundingBoxAt(r,wy).applyMatrix4(Na),t.union(wy)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Zs);const t=this.boundingSphere,e=this._instanceInfo;t.makeEmpty();for(let i=0,s=e.length;i<s;i++){if(e[i].active===!1)continue;const r=e[i].geometryIndex;this.getMatrixAt(i,Na),this.getBoundingSphereAt(r,Tf).applyMatrix4(Na),t.union(Tf)}}addInstance(t){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:t};let s=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(w1),s=this._availableInstanceIds.shift(),this._instanceInfo[s]=i):(s=this._instanceInfo.length,this._instanceInfo.push(i));const r=this._matricesTexture;Na.identity().toArray(r.image.data,s*16),r.needsUpdate=!0;const l=this._colorsTexture;return l&&(RV.toArray(l.image.data,s*4),l.needsUpdate=!0),this._visibilityChanged=!0,s}addGeometry(t,e=-1,i=-1){this._initializeGeometry(t),this._validateGeometry(t);const s={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},r=this._geometryInfo;s.vertexStart=this._nextVertexStart,s.reservedVertexCount=e===-1?t.getAttribute("position").count:e;const l=t.getIndex();if(l!==null&&(s.indexStart=this._nextIndexStart,s.reservedIndexCount=i===-1?l.count:i),s.indexStart!==-1&&s.indexStart+s.reservedIndexCount>this._maxIndexCount||s.vertexStart+s.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let h;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(w1),h=this._availableGeometryIds.shift(),r[h]=s):(h=this._geometryCount,this._geometryCount++,r.push(s)),this.setGeometryAt(h,t),this._nextIndexStart=s.indexStart+s.reservedIndexCount,this._nextVertexStart=s.vertexStart+s.reservedVertexCount,h}setGeometryAt(t,e){if(t>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(e);const i=this.geometry,s=i.getIndex()!==null,r=i.getIndex(),l=e.getIndex(),u=this._geometryInfo[t];if(s&&l.count>u.reservedIndexCount||e.attributes.position.count>u.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const h=u.vertexStart,p=u.reservedVertexCount;u.vertexCount=e.getAttribute("position").count;for(const m in i.attributes){const v=e.getAttribute(m),x=i.getAttribute(m);NV(v,x,h);const _=v.itemSize;for(let T=v.count,C=p;T<C;T++){const E=h+T;for(let M=0;M<_;M++)x.setComponent(E,M,0)}x.needsUpdate=!0,x.addUpdateRange(h*_,p*_)}if(s){const m=u.indexStart,v=u.reservedIndexCount;u.indexCount=e.getIndex().count;for(let x=0;x<l.count;x++)r.setX(m+x,h+l.getX(x));for(let x=l.count,_=v;x<_;x++)r.setX(m+x,h);r.needsUpdate=!0,r.addUpdateRange(m,u.reservedIndexCount)}return u.start=s?u.indexStart:u.vertexStart,u.count=s?u.indexCount:u.vertexCount,u.boundingBox=null,e.boundingBox!==null&&(u.boundingBox=e.boundingBox.clone()),u.boundingSphere=null,e.boundingSphere!==null&&(u.boundingSphere=e.boundingSphere.clone()),this._visibilityChanged=!0,t}deleteGeometry(t){const e=this._geometryInfo;if(t>=e.length||e[t].active===!1)return this;const i=this._instanceInfo;for(let s=0,r=i.length;s<r;s++)i[s].active&&i[s].geometryIndex===t&&this.deleteInstance(s);return e[t].active=!1,this._availableGeometryIds.push(t),this._visibilityChanged=!0,this}deleteInstance(t){return this.validateInstanceId(t),this._instanceInfo[t].active=!1,this._availableInstanceIds.push(t),this._visibilityChanged=!0,this}optimize(){let t=0,e=0;const i=this._geometryInfo,s=i.map((l,u)=>u).sort((l,u)=>i[l].vertexStart-i[u].vertexStart),r=this.geometry;for(let l=0,u=i.length;l<u;l++){const h=s[l],p=i[h];if(p.active!==!1){if(r.index!==null){if(p.indexStart!==e){const{indexStart:m,vertexStart:v,reservedIndexCount:x}=p,_=r.index,T=_.array,C=t-v;for(let E=m;E<m+x;E++)T[E]=T[E]+C;_.array.copyWithin(e,m,m+x),_.addUpdateRange(e,x),p.indexStart=e}e+=p.reservedIndexCount}if(p.vertexStart!==t){const{vertexStart:m,reservedVertexCount:v}=p,x=r.attributes;for(const _ in x){const T=x[_],{array:C,itemSize:E}=T;C.copyWithin(t*E,m*E,(m+v)*E),T.addUpdateRange(t*E,v*E)}p.vertexStart=t}t+=p.reservedVertexCount,p.start=r.index?p.indexStart:p.vertexStart,this._nextIndexStart=r.index?p.indexStart+p.reservedIndexCount:0,this._nextVertexStart=p.vertexStart+p.reservedVertexCount}}return this}getBoundingBoxAt(t,e){if(t>=this._geometryCount)return null;const i=this.geometry,s=this._geometryInfo[t];if(s.boundingBox===null){const r=new pa,l=i.index,u=i.attributes.position;for(let h=s.start,p=s.start+s.count;h<p;h++){let m=h;l&&(m=l.getX(m)),r.expandByPoint(Wm.fromBufferAttribute(u,m))}s.boundingBox=r}return e.copy(s.boundingBox),e}getBoundingSphereAt(t,e){if(t>=this._geometryCount)return null;const i=this.geometry,s=this._geometryInfo[t];if(s.boundingSphere===null){const r=new Zs;this.getBoundingBoxAt(t,wy),wy.getCenter(r.center);const l=i.index,u=i.attributes.position;let h=0;for(let p=s.start,m=s.start+s.count;p<m;p++){let v=p;l&&(v=l.getX(v)),Wm.fromBufferAttribute(u,v),h=Math.max(h,r.center.distanceToSquared(Wm))}r.radius=Math.sqrt(h),s.boundingSphere=r}return e.copy(s.boundingSphere),e}setMatrixAt(t,e){this.validateInstanceId(t);const i=this._matricesTexture,s=this._matricesTexture.image.data;return e.toArray(s,t*16),i.needsUpdate=!0,this}getMatrixAt(t,e){return this.validateInstanceId(t),e.fromArray(this._matricesTexture.image.data,t*16)}setColorAt(t,e){return this.validateInstanceId(t),this._colorsTexture===null&&this._initColorsTexture(),e.toArray(this._colorsTexture.image.data,t*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(t,e){return this.validateInstanceId(t),e.fromArray(this._colorsTexture.image.data,t*4)}setVisibleAt(t,e){return this.validateInstanceId(t),this._instanceInfo[t].visible===e?this:(this._instanceInfo[t].visible=e,this._visibilityChanged=!0,this)}getVisibleAt(t){return this.validateInstanceId(t),this._instanceInfo[t].visible}setGeometryIdAt(t,e){return this.validateInstanceId(t),this.validateGeometryId(e),this._instanceInfo[t].geometryIndex=e,this}getGeometryIdAt(t){return this.validateInstanceId(t),this._instanceInfo[t].geometryIndex}getGeometryRangeAt(t,e={}){this.validateGeometryId(t);const i=this._geometryInfo[t];return e.vertexStart=i.vertexStart,e.vertexCount=i.vertexCount,e.reservedVertexCount=i.reservedVertexCount,e.indexStart=i.indexStart,e.indexCount=i.indexCount,e.reservedIndexCount=i.reservedIndexCount,e.start=i.start,e.count=i.count,e}setInstanceCount(t){const e=this._availableInstanceIds,i=this._instanceInfo;for(e.sort(w1);e[e.length-1]===i.length;)i.pop(),e.pop();if(t<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${t} are being used. Cannot shrink instance count.`);const s=new Int32Array(t),r=new Int32Array(t);Ef(this._multiDrawCounts,s),Ef(this._multiDrawStarts,r),this._multiDrawCounts=s,this._multiDrawStarts=r,this._maxInstanceCount=t;const l=this._indirectTexture,u=this._matricesTexture,h=this._colorsTexture;l.dispose(),this._initIndirectTexture(),Ef(l.image.data,this._indirectTexture.image.data),u.dispose(),this._initMatricesTexture(),Ef(u.image.data,this._matricesTexture.image.data),h&&(h.dispose(),this._initColorsTexture(),Ef(h.image.data,this._colorsTexture.image.data))}setGeometrySize(t,e){const i=[...this._geometryInfo].filter(u=>u.active);if(Math.max(...i.map(u=>u.vertexStart+u.reservedVertexCount))>t)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${e}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(h=>h.indexStart+h.reservedIndexCount))>e)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${e}. Cannot shrink further.`);const r=this.geometry;r.dispose(),this._maxVertexCount=t,this._maxIndexCount=e,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new tn,this._initializeGeometry(r));const l=this.geometry;r.index&&Ef(r.index.array,l.index.array);for(const u in r.attributes)Ef(r.attributes[u].array,l.attributes[u].array)}raycast(t,e){const i=this._instanceInfo,s=this._geometryInfo,r=this.matrixWorld,l=this.geometry;js.material=this.material,js.geometry.index=l.index,js.geometry.attributes=l.attributes,js.geometry.boundingBox===null&&(js.geometry.boundingBox=new pa),js.geometry.boundingSphere===null&&(js.geometry.boundingSphere=new Zs);for(let u=0,h=i.length;u<h;u++){if(!i[u].visible||!i[u].active)continue;const p=i[u].geometryIndex,m=s[p];js.geometry.setDrawRange(m.start,m.count),this.getMatrixAt(u,js.matrixWorld).premultiply(r),this.getBoundingBoxAt(p,js.geometry.boundingBox),this.getBoundingSphereAt(p,js.geometry.boundingSphere),js.raycast(t,Cy);for(let v=0,x=Cy.length;v<x;v++){const _=Cy[v];_.object=this,_.batchId=u,e.push(_)}Cy.length=0}js.material=null,js.geometry.index=null,js.geometry.attributes={},js.geometry.setDrawRange(0,1/0)}copy(t){return super.copy(t),this.geometry=t.geometry.clone(),this.perObjectFrustumCulled=t.perObjectFrustumCulled,this.sortObjects=t.sortObjects,this.boundingBox=t.boundingBox!==null?t.boundingBox.clone():null,this.boundingSphere=t.boundingSphere!==null?t.boundingSphere.clone():null,this._geometryInfo=t._geometryInfo.map(e=>({...e,boundingBox:e.boundingBox!==null?e.boundingBox.clone():null,boundingSphere:e.boundingSphere!==null?e.boundingSphere.clone():null})),this._instanceInfo=t._instanceInfo.map(e=>({...e})),this._maxInstanceCount=t._maxInstanceCount,this._maxVertexCount=t._maxVertexCount,this._maxIndexCount=t._maxIndexCount,this._geometryInitialized=t._geometryInitialized,this._geometryCount=t._geometryCount,this._multiDrawCounts=t._multiDrawCounts.slice(),this._multiDrawStarts=t._multiDrawStarts.slice(),this._matricesTexture=t._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=t._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(t,e,i,s,r){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const l=s.getIndex(),u=l===null?1:l.array.BYTES_PER_ELEMENT,h=this._instanceInfo,p=this._multiDrawStarts,m=this._multiDrawCounts,v=this._geometryInfo,x=this.perObjectFrustumCulled,_=this._indirectTexture,T=_.image.data;x&&(Na.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),C1.setFromProjectionMatrix(Na,t.coordinateSystem));let C=0;if(this.sortObjects){Na.copy(this.matrixWorld).invert(),Wm.setFromMatrixPosition(i.matrixWorld).applyMatrix4(Na),ww.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(Na);for(let R=0,D=h.length;R<D;R++)if(h[R].visible&&h[R].active){const L=h[R].geometryIndex;this.getMatrixAt(R,Na),this.getBoundingSphereAt(L,Tf).applyMatrix4(Na);let z=!1;if(x&&(z=!C1.intersectsSphere(Tf)),!z){const B=v[L],I=DV.subVectors(Tf.center,Wm).dot(ww);R1.push(B.start,B.count,I,R)}}const E=R1.list,M=this.customSort;M===null?E.sort(r.transparent?wV:AV):M.call(this,E,i);for(let R=0,D=E.length;R<D;R++){const L=E[R];p[C]=L.start*u,m[C]=L.count,T[C]=L.index,C++}R1.reset()}else for(let E=0,M=h.length;E<M;E++)if(h[E].visible&&h[E].active){const R=h[E].geometryIndex;let D=!1;if(x&&(this.getMatrixAt(E,Na),this.getBoundingSphereAt(R,Tf).applyMatrix4(Na),D=!C1.intersectsSphere(Tf)),!D){const L=v[R];p[C]=L.start*u,m[C]=L.count,T[C]=E,C++}}_.needsUpdate=!0,this._multiDrawCount=C,this._visibilityChanged=!1}onBeforeShadow(t,e,i,s,r,l){this.onBeforeRender(t,null,s,r,l)}}class ma extends Ks{constructor(t){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new de(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}const s_=new W,a_=new W,Cw=new Ie,Zm=new dp,Ry=new Zs,D1=new W,Rw=new W;class _u extends Tn{constructor(t=new tn,e=new ma){super(),this.isLine=!0,this.type="Line",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(t.index===null){const e=t.attributes.position,i=[0];for(let s=1,r=e.count;s<r;s++)s_.fromBufferAttribute(e,s-1),a_.fromBufferAttribute(e,s),i[s]=i[s-1],i[s]+=s_.distanceTo(a_);t.setAttribute("lineDistance",new be(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(t,e){const i=this.geometry,s=this.matrixWorld,r=t.params.Line.threshold,l=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Ry.copy(i.boundingSphere),Ry.applyMatrix4(s),Ry.radius+=r,t.ray.intersectsSphere(Ry)===!1)return;Cw.copy(s).invert(),Zm.copy(t.ray).applyMatrix4(Cw);const u=r/((this.scale.x+this.scale.y+this.scale.z)/3),h=u*u,p=this.isLineSegments?2:1,m=i.index,x=i.attributes.position;if(m!==null){const _=Math.max(0,l.start),T=Math.min(m.count,l.start+l.count);for(let C=_,E=T-1;C<E;C+=p){const M=m.getX(C),R=m.getX(C+1),D=Dy(this,t,Zm,h,M,R,C);D&&e.push(D)}if(this.isLineLoop){const C=m.getX(T-1),E=m.getX(_),M=Dy(this,t,Zm,h,C,E,T-1);M&&e.push(M)}}else{const _=Math.max(0,l.start),T=Math.min(x.count,l.start+l.count);for(let C=_,E=T-1;C<E;C+=p){const M=Dy(this,t,Zm,h,C,C+1,C);M&&e.push(M)}if(this.isLineLoop){const C=Dy(this,t,Zm,h,T-1,_,T-1);C&&e.push(C)}}}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){const s=e[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,l=s.length;r<l;r++){const u=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=r}}}}}function Dy(n,t,e,i,s,r,l){const u=n.geometry.attributes.position;if(s_.fromBufferAttribute(u,s),a_.fromBufferAttribute(u,r),e.distanceSqToSegment(s_,a_,D1,Rw)>i)return;D1.applyMatrix4(n.matrixWorld);const p=t.ray.origin.distanceTo(D1);if(!(p<t.near||p>t.far))return{distance:p,point:Rw.clone().applyMatrix4(n.matrixWorld),index:l,face:null,faceIndex:null,barycoord:null,object:n}}const Dw=new W,Nw=new W;class xl extends _u{constructor(t,e){super(t,e),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(t.index===null){const e=t.attributes.position,i=[];for(let s=0,r=e.count;s<r;s+=2)Dw.fromBufferAttribute(e,s),Nw.fromBufferAttribute(e,s+1),i[s]=s===0?0:i[s-1],i[s+1]=i[s]+Dw.distanceTo(Nw);t.setAttribute("lineDistance",new be(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class iN extends _u{constructor(t,e){super(t,e),this.isLineLoop=!0,this.type="LineLoop"}}class mT extends Ks{constructor(t){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new de(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}const Lw=new Ie,jb=new dp,Ny=new Zs,Ly=new W;class sN extends Tn{constructor(t=new tn,e=new mT){super(),this.isPoints=!0,this.type="Points",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}raycast(t,e){const i=this.geometry,s=this.matrixWorld,r=t.params.Points.threshold,l=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Ny.copy(i.boundingSphere),Ny.applyMatrix4(s),Ny.radius+=r,t.ray.intersectsSphere(Ny)===!1)return;Lw.copy(s).invert(),jb.copy(t.ray).applyMatrix4(Lw);const u=r/((this.scale.x+this.scale.y+this.scale.z)/3),h=u*u,p=i.index,v=i.attributes.position;if(p!==null){const x=Math.max(0,l.start),_=Math.min(p.count,l.start+l.count);for(let T=x,C=_;T<C;T++){const E=p.getX(T);Ly.fromBufferAttribute(v,E),Uw(Ly,E,h,s,t,e,this)}}else{const x=Math.max(0,l.start),_=Math.min(v.count,l.start+l.count);for(let T=x,C=_;T<C;T++)Ly.fromBufferAttribute(v,T),Uw(Ly,T,h,s,t,e,this)}}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){const s=e[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,l=s.length;r<l;r++){const u=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=r}}}}}function Uw(n,t,e,i,s,r,l){const u=jb.distanceSqToPoint(n);if(u<e){const h=new W;jb.closestPointToPoint(n,h),h.applyMatrix4(i);const p=s.ray.origin.distanceTo(h);if(p<s.near||p>s.far)return;r.push({distance:p,distanceToRay:Math.sqrt(u),point:h,index:t,face:null,faceIndex:null,barycoord:null,object:l})}}class aN extends Ni{constructor(t,e,i,s,r,l,u,h,p){super(t,e,i,s,r,l,u,h,p),this.isVideoTexture=!0,this.minFilter=l!==void 0?l:Qi,this.magFilter=r!==void 0?r:Qi,this.generateMipmaps=!1;const m=this;function v(){m.needsUpdate=!0,t.requestVideoFrameCallback(v)}"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback(v)}clone(){return new this.constructor(this.image).copy(this)}update(){const t=this.image;"requestVideoFrameCallback"in t===!1&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class LV extends aN{constructor(t,e,i,s,r,l,u,h){super({},t,e,i,s,r,l,u,h),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(t){this.image=t,this.needsUpdate=!0}}class UV extends Ni{constructor(t,e){super({width:t,height:e}),this.isFramebufferTexture=!0,this.magFilter=Ds,this.minFilter=Ds,this.generateMipmaps=!1,this.needsUpdate=!0}}class H_ extends Ni{constructor(t,e,i,s,r,l,u,h,p,m,v,x){super(null,l,u,h,p,m,s,r,v,x),this.isCompressedTexture=!0,this.image={width:e,height:i},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}}class OV extends H_{constructor(t,e,i,s,r,l){super(t,e,i,r,l),this.isCompressedArrayTexture=!0,this.image.depth=s,this.wrapR=Cr,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class PV extends H_{constructor(t,e,i){super(void 0,t[0].width,t[0].height,e,i,fc),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=t}}class zV extends Ni{constructor(t,e,i,s,r,l,u,h,p){super(t,e,i,s,r,l,u,h,p),this.isCanvasTexture=!0,this.needsUpdate=!0}}class gT extends Ni{constructor(t,e,i,s,r,l,u,h,p,m=Kf){if(m!==Kf&&m!==sh)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&m===Kf&&(i=hc),i===void 0&&m===sh&&(i=ih),super(null,s,r,l,u,h,m,i,p),this.isDepthTexture=!0,this.image={width:t,height:e},this.magFilter=u!==void 0?u:Ds,this.minFilter=h!==void 0?h:Ds,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(t){return super.copy(t),this.compareFunction=t.compareFunction,this}toJSON(t){const e=super.toJSON(t);return this.compareFunction!==null&&(e.compareFunction=this.compareFunction),e}}class bo{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(t,e){const i=this.getUtoTmapping(t);return this.getPoint(i,e)}getPoints(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return e}getSpacedPoints(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPointAt(i/t));return e}getLength(){const t=this.getLengths();return t[t.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let i,s=this.getPoint(0),r=0;e.push(0);for(let l=1;l<=t;l++)i=this.getPoint(l/t),r+=i.distanceTo(s),e.push(r),s=i;return this.cacheArcLengths=e,e}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(t,e){const i=this.getLengths();let s=0;const r=i.length;let l;e?l=e:l=t*i[r-1];let u=0,h=r-1,p;for(;u<=h;)if(s=Math.floor(u+(h-u)/2),p=i[s]-l,p<0)u=s+1;else if(p>0)h=s-1;else{h=s;break}if(s=h,i[s]===l)return s/(r-1);const m=i[s],x=i[s+1]-m,_=(l-m)/x;return(s+_)/(r-1)}getTangent(t,e){let s=t-1e-4,r=t+1e-4;s<0&&(s=0),r>1&&(r=1);const l=this.getPoint(s),u=this.getPoint(r),h=e||(l.isVector2?new Vt:new W);return h.copy(u).sub(l).normalize(),h}getTangentAt(t,e){const i=this.getUtoTmapping(t);return this.getTangent(i,e)}computeFrenetFrames(t,e){const i=new W,s=[],r=[],l=[],u=new W,h=new Ie;for(let _=0;_<=t;_++){const T=_/t;s[_]=this.getTangentAt(T,new W)}r[0]=new W,l[0]=new W;let p=Number.MAX_VALUE;const m=Math.abs(s[0].x),v=Math.abs(s[0].y),x=Math.abs(s[0].z);m<=p&&(p=m,i.set(1,0,0)),v<=p&&(p=v,i.set(0,1,0)),x<=p&&i.set(0,0,1),u.crossVectors(s[0],i).normalize(),r[0].crossVectors(s[0],u),l[0].crossVectors(s[0],r[0]);for(let _=1;_<=t;_++){if(r[_]=r[_-1].clone(),l[_]=l[_-1].clone(),u.crossVectors(s[_-1],s[_]),u.length()>Number.EPSILON){u.normalize();const T=Math.acos(Xe(s[_-1].dot(s[_]),-1,1));r[_].applyMatrix4(h.makeRotationAxis(u,T))}l[_].crossVectors(s[_],r[_])}if(e===!0){let _=Math.acos(Xe(r[0].dot(r[t]),-1,1));_/=t,s[0].dot(u.crossVectors(r[0],r[t]))>0&&(_=-_);for(let T=1;T<=t;T++)r[T].applyMatrix4(h.makeRotationAxis(s[T],_*T)),l[T].crossVectors(s[T],r[T])}return{tangents:s,normals:r,binormals:l}}clone(){return new this.constructor().copy(this)}copy(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}toJSON(){const t={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}class G_ extends bo{constructor(t=0,e=0,i=1,s=1,r=0,l=Math.PI*2,u=!1,h=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=t,this.aY=e,this.xRadius=i,this.yRadius=s,this.aStartAngle=r,this.aEndAngle=l,this.aClockwise=u,this.aRotation=h}getPoint(t,e=new Vt){const i=e,s=Math.PI*2;let r=this.aEndAngle-this.aStartAngle;const l=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=s;for(;r>s;)r-=s;r<Number.EPSILON&&(l?r=0:r=s),this.aClockwise===!0&&!l&&(r===s?r=-s:r=r-s);const u=this.aStartAngle+t*r;let h=this.aX+this.xRadius*Math.cos(u),p=this.aY+this.yRadius*Math.sin(u);if(this.aRotation!==0){const m=Math.cos(this.aRotation),v=Math.sin(this.aRotation),x=h-this.aX,_=p-this.aY;h=x*m-_*v+this.aX,p=x*v+_*m+this.aY}return i.set(h,p)}copy(t){return super.copy(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}toJSON(){const t=super.toJSON();return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}class rN extends G_{constructor(t,e,i,s,r,l){super(t,e,i,i,s,r,l),this.isArcCurve=!0,this.type="ArcCurve"}}function vT(){let n=0,t=0,e=0,i=0;function s(r,l,u,h){n=r,t=u,e=-3*r+3*l-2*u-h,i=2*r-2*l+u+h}return{initCatmullRom:function(r,l,u,h,p){s(l,u,p*(u-r),p*(h-l))},initNonuniformCatmullRom:function(r,l,u,h,p,m,v){let x=(l-r)/p-(u-r)/(p+m)+(u-l)/m,_=(u-l)/m-(h-l)/(m+v)+(h-u)/v;x*=m,_*=m,s(l,u,x,_)},calc:function(r){const l=r*r,u=l*r;return n+t*r+e*l+i*u}}}const Uy=new W,N1=new vT,L1=new vT,U1=new vT;class oN extends bo{constructor(t=[],e=!1,i="centripetal",s=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=i,this.tension=s}getPoint(t,e=new W){const i=e,s=this.points,r=s.length,l=(r-(this.closed?0:1))*t;let u=Math.floor(l),h=l-u;this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/r)+1)*r:h===0&&u===r-1&&(u=r-2,h=1);let p,m;this.closed||u>0?p=s[(u-1)%r]:(Uy.subVectors(s[0],s[1]).add(s[0]),p=Uy);const v=s[u%r],x=s[(u+1)%r];if(this.closed||u+2<r?m=s[(u+2)%r]:(Uy.subVectors(s[r-1],s[r-2]).add(s[r-1]),m=Uy),this.curveType==="centripetal"||this.curveType==="chordal"){const _=this.curveType==="chordal"?.5:.25;let T=Math.pow(p.distanceToSquared(v),_),C=Math.pow(v.distanceToSquared(x),_),E=Math.pow(x.distanceToSquared(m),_);C<1e-4&&(C=1),T<1e-4&&(T=C),E<1e-4&&(E=C),N1.initNonuniformCatmullRom(p.x,v.x,x.x,m.x,T,C,E),L1.initNonuniformCatmullRom(p.y,v.y,x.y,m.y,T,C,E),U1.initNonuniformCatmullRom(p.z,v.z,x.z,m.z,T,C,E)}else this.curveType==="catmullrom"&&(N1.initCatmullRom(p.x,v.x,x.x,m.x,this.tension),L1.initCatmullRom(p.y,v.y,x.y,m.y,this.tension),U1.initCatmullRom(p.z,v.z,x.z,m.z,this.tension));return i.set(N1.calc(h),L1.calc(h),U1.calc(h)),i}copy(t){super.copy(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const s=t.points[e];this.points.push(s.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,i=this.points.length;e<i;e++){const s=this.points[e];t.points.push(s.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const s=t.points[e];this.points.push(new W().fromArray(s))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}function Ow(n,t,e,i,s){const r=(i-t)*.5,l=(s-e)*.5,u=n*n,h=n*u;return(2*e-2*i+r+l)*h+(-3*e+3*i-2*r-l)*u+r*n+e}function BV(n,t){const e=1-n;return e*e*t}function VV(n,t){return 2*(1-n)*n*t}function IV(n,t){return n*n*t}function mg(n,t,e,i){return BV(n,t)+VV(n,e)+IV(n,i)}function FV(n,t){const e=1-n;return e*e*e*t}function HV(n,t){const e=1-n;return 3*e*e*n*t}function GV(n,t){return 3*(1-n)*n*n*t}function kV(n,t){return n*n*n*t}function gg(n,t,e,i,s){return FV(n,t)+HV(n,e)+GV(n,i)+kV(n,s)}class yT extends bo{constructor(t=new Vt,e=new Vt,i=new Vt,s=new Vt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=i,this.v3=s}getPoint(t,e=new Vt){const i=e,s=this.v0,r=this.v1,l=this.v2,u=this.v3;return i.set(gg(t,s.x,r.x,l.x,u.x),gg(t,s.y,r.y,l.y,u.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class lN extends bo{constructor(t=new W,e=new W,i=new W,s=new W){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=i,this.v3=s}getPoint(t,e=new W){const i=e,s=this.v0,r=this.v1,l=this.v2,u=this.v3;return i.set(gg(t,s.x,r.x,l.x,u.x),gg(t,s.y,r.y,l.y,u.y),gg(t,s.z,r.z,l.z,u.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class xT extends bo{constructor(t=new Vt,e=new Vt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=t,this.v2=e}getPoint(t,e=new Vt){const i=e;return t===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e=new Vt){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class cN extends bo{constructor(t=new W,e=new W){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=t,this.v2=e}getPoint(t,e=new W){const i=e;return t===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e=new W){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class _T extends bo{constructor(t=new Vt,e=new Vt,i=new Vt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=i}getPoint(t,e=new Vt){const i=e,s=this.v0,r=this.v1,l=this.v2;return i.set(mg(t,s.x,r.x,l.x),mg(t,s.y,r.y,l.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class ST extends bo{constructor(t=new W,e=new W,i=new W){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=i}getPoint(t,e=new W){const i=e,s=this.v0,r=this.v1,l=this.v2;return i.set(mg(t,s.x,r.x,l.x),mg(t,s.y,r.y,l.y),mg(t,s.z,r.z,l.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class bT extends bo{constructor(t=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=t}getPoint(t,e=new Vt){const i=e,s=this.points,r=(s.length-1)*t,l=Math.floor(r),u=r-l,h=s[l===0?l:l-1],p=s[l],m=s[l>s.length-2?s.length-1:l+1],v=s[l>s.length-3?s.length-1:l+2];return i.set(Ow(u,h.x,p.x,m.x,v.x),Ow(u,h.y,p.y,m.y,v.y)),i}copy(t){super.copy(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const s=t.points[e];this.points.push(s.clone())}return this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,i=this.points.length;e<i;e++){const s=this.points[e];t.points.push(s.toArray())}return t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const s=t.points[e];this.points.push(new Vt().fromArray(s))}return this}}var r_=Object.freeze({__proto__:null,ArcCurve:rN,CatmullRomCurve3:oN,CubicBezierCurve:yT,CubicBezierCurve3:lN,EllipseCurve:G_,LineCurve:xT,LineCurve3:cN,QuadraticBezierCurve:_T,QuadraticBezierCurve3:ST,SplineCurve:bT});class uN extends bo{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(t){this.curves.push(t)}closePath(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);if(!t.equals(e)){const i=t.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new r_[i](e,t))}return this}getPoint(t,e){const i=t*this.getLength(),s=this.getCurveLengths();let r=0;for(;r<s.length;){if(s[r]>=i){const l=s[r]-i,u=this.curves[r],h=u.getLength(),p=h===0?0:1-l/h;return u.getPointAt(p,e)}r++}return null}getLength(){const t=this.getCurveLengths();return t[t.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let i=0,s=this.curves.length;i<s;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t}getSpacedPoints(t=40){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e}getPoints(t=12){const e=[];let i;for(let s=0,r=this.curves;s<r.length;s++){const l=r[s],u=l.isEllipseCurve?t*2:l.isLineCurve||l.isLineCurve3?1:l.isSplineCurve?t*l.points.length:t,h=l.getPoints(u);for(let p=0;p<h.length;p++){const m=h[p];i&&i.equals(m)||(e.push(m),i=m)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e}copy(t){super.copy(t),this.curves=[];for(let e=0,i=t.curves.length;e<i;e++){const s=t.curves[e];this.curves.push(s.clone())}return this.autoClose=t.autoClose,this}toJSON(){const t=super.toJSON();t.autoClose=this.autoClose,t.curves=[];for(let e=0,i=this.curves.length;e<i;e++){const s=this.curves[e];t.curves.push(s.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,i=t.curves.length;e<i;e++){const s=t.curves[e];this.curves.push(new r_[s.type]().fromJSON(s))}return this}}class Vg extends uN{constructor(t){super(),this.type="Path",this.currentPoint=new Vt,t&&this.setFromPoints(t)}setFromPoints(t){this.moveTo(t[0].x,t[0].y);for(let e=1,i=t.length;e<i;e++)this.lineTo(t[e].x,t[e].y);return this}moveTo(t,e){return this.currentPoint.set(t,e),this}lineTo(t,e){const i=new xT(this.currentPoint.clone(),new Vt(t,e));return this.curves.push(i),this.currentPoint.set(t,e),this}quadraticCurveTo(t,e,i,s){const r=new _T(this.currentPoint.clone(),new Vt(t,e),new Vt(i,s));return this.curves.push(r),this.currentPoint.set(i,s),this}bezierCurveTo(t,e,i,s,r,l){const u=new yT(this.currentPoint.clone(),new Vt(t,e),new Vt(i,s),new Vt(r,l));return this.curves.push(u),this.currentPoint.set(r,l),this}splineThru(t){const e=[this.currentPoint.clone()].concat(t),i=new bT(e);return this.curves.push(i),this.currentPoint.copy(t[t.length-1]),this}arc(t,e,i,s,r,l){const u=this.currentPoint.x,h=this.currentPoint.y;return this.absarc(t+u,e+h,i,s,r,l),this}absarc(t,e,i,s,r,l){return this.absellipse(t,e,i,i,s,r,l),this}ellipse(t,e,i,s,r,l,u,h){const p=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(t+p,e+m,i,s,r,l,u,h),this}absellipse(t,e,i,s,r,l,u,h){const p=new G_(t,e,i,s,r,l,u,h);if(this.curves.length>0){const v=p.getPoint(0);v.equals(this.currentPoint)||this.lineTo(v.x,v.y)}this.curves.push(p);const m=p.getPoint(1);return this.currentPoint.copy(m),this}copy(t){return super.copy(t),this.currentPoint.copy(t.currentPoint),this}toJSON(){const t=super.toJSON();return t.currentPoint=this.currentPoint.toArray(),t}fromJSON(t){return super.fromJSON(t),this.currentPoint.fromArray(t.currentPoint),this}}class h0 extends tn{constructor(t=[new Vt(0,-.5),new Vt(.5,0),new Vt(0,.5)],e=12,i=0,s=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:i,phiLength:s},e=Math.floor(e),s=Xe(s,0,Math.PI*2);const r=[],l=[],u=[],h=[],p=[],m=1/e,v=new W,x=new Vt,_=new W,T=new W,C=new W;let E=0,M=0;for(let R=0;R<=t.length-1;R++)switch(R){case 0:E=t[R+1].x-t[R].x,M=t[R+1].y-t[R].y,_.x=M*1,_.y=-E,_.z=M*0,C.copy(_),_.normalize(),h.push(_.x,_.y,_.z);break;case t.length-1:h.push(C.x,C.y,C.z);break;default:E=t[R+1].x-t[R].x,M=t[R+1].y-t[R].y,_.x=M*1,_.y=-E,_.z=M*0,T.copy(_),_.x+=C.x,_.y+=C.y,_.z+=C.z,_.normalize(),h.push(_.x,_.y,_.z),C.copy(T)}for(let R=0;R<=e;R++){const D=i+R*m*s,L=Math.sin(D),z=Math.cos(D);for(let B=0;B<=t.length-1;B++){v.x=t[B].x*L,v.y=t[B].y,v.z=t[B].x*z,l.push(v.x,v.y,v.z),x.x=R/e,x.y=B/(t.length-1),u.push(x.x,x.y);const I=h[3*B+0]*L,V=h[3*B+1],U=h[3*B+0]*z;p.push(I,V,U)}}for(let R=0;R<e;R++)for(let D=0;D<t.length-1;D++){const L=D+R*t.length,z=L,B=L+t.length,I=L+t.length+1,V=L+1;r.push(z,B,V),r.push(I,V,B)}this.setIndex(r),this.setAttribute("position",new be(l,3)),this.setAttribute("uv",new be(u,2)),this.setAttribute("normal",new be(p,3))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new h0(t.points,t.segments,t.phiStart,t.phiLength)}}class k_ extends h0{constructor(t=1,e=1,i=4,s=8){const r=new Vg;r.absarc(0,-e/2,t,Math.PI*1.5,0),r.absarc(0,e/2,t,0,Math.PI*.5),super(r.getPoints(i),s),this.type="CapsuleGeometry",this.parameters={radius:t,length:e,capSegments:i,radialSegments:s}}static fromJSON(t){return new k_(t.radius,t.length,t.capSegments,t.radialSegments)}}class j_ extends tn{constructor(t=1,e=32,i=0,s=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:s},e=Math.max(3,e);const r=[],l=[],u=[],h=[],p=new W,m=new Vt;l.push(0,0,0),u.push(0,0,1),h.push(.5,.5);for(let v=0,x=3;v<=e;v++,x+=3){const _=i+v/e*s;p.x=t*Math.cos(_),p.y=t*Math.sin(_),l.push(p.x,p.y,p.z),u.push(0,0,1),m.x=(l[x]/t+1)/2,m.y=(l[x+1]/t+1)/2,h.push(m.x,m.y)}for(let v=1;v<=e;v++)r.push(v,v+1,0);this.setIndex(r),this.setAttribute("position",new be(l,3)),this.setAttribute("normal",new be(u,3)),this.setAttribute("uv",new be(h,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new j_(t.radius,t.segments,t.thetaStart,t.thetaLength)}}class pp extends tn{constructor(t=1,e=1,i=1,s=32,r=1,l=!1,u=0,h=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:i,radialSegments:s,heightSegments:r,openEnded:l,thetaStart:u,thetaLength:h};const p=this;s=Math.floor(s),r=Math.floor(r);const m=[],v=[],x=[],_=[];let T=0;const C=[],E=i/2;let M=0;R(),l===!1&&(t>0&&D(!0),e>0&&D(!1)),this.setIndex(m),this.setAttribute("position",new be(v,3)),this.setAttribute("normal",new be(x,3)),this.setAttribute("uv",new be(_,2));function R(){const L=new W,z=new W;let B=0;const I=(e-t)/i;for(let V=0;V<=r;V++){const U=[],P=V/r,X=P*(e-t)+t;for(let pt=0;pt<=s;pt++){const it=pt/s,K=it*h+u,lt=Math.sin(K),J=Math.cos(K);z.x=X*lt,z.y=-P*i+E,z.z=X*J,v.push(z.x,z.y,z.z),L.set(lt,I,J).normalize(),x.push(L.x,L.y,L.z),_.push(it,1-P),U.push(T++)}C.push(U)}for(let V=0;V<s;V++)for(let U=0;U<r;U++){const P=C[U][V],X=C[U+1][V],pt=C[U+1][V+1],it=C[U][V+1];(t>0||U!==0)&&(m.push(P,X,it),B+=3),(e>0||U!==r-1)&&(m.push(X,pt,it),B+=3)}p.addGroup(M,B,0),M+=B}function D(L){const z=T,B=new Vt,I=new W;let V=0;const U=L===!0?t:e,P=L===!0?1:-1;for(let pt=1;pt<=s;pt++)v.push(0,E*P,0),x.push(0,P,0),_.push(.5,.5),T++;const X=T;for(let pt=0;pt<=s;pt++){const K=pt/s*h+u,lt=Math.cos(K),J=Math.sin(K);I.x=U*J,I.y=E*P,I.z=U*lt,v.push(I.x,I.y,I.z),x.push(0,P,0),B.x=lt*.5+.5,B.y=J*.5*P+.5,_.push(B.x,B.y),T++}for(let pt=0;pt<s;pt++){const it=z+pt,K=X+pt;L===!0?m.push(K,K+1,it):m.push(K+1,K,it),V+=3}p.addGroup(M,V,L===!0?1:2),M+=V}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new pp(t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class X_ extends pp{constructor(t=1,e=1,i=32,s=1,r=!1,l=0,u=Math.PI*2){super(0,t,e,i,s,r,l,u),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:i,heightSegments:s,openEnded:r,thetaStart:l,thetaLength:u}}static fromJSON(t){return new X_(t.radius,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class Au extends tn{constructor(t=[],e=[],i=1,s=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:i,detail:s};const r=[],l=[];u(s),p(i),m(),this.setAttribute("position",new be(r,3)),this.setAttribute("normal",new be(r.slice(),3)),this.setAttribute("uv",new be(l,2)),s===0?this.computeVertexNormals():this.normalizeNormals();function u(R){const D=new W,L=new W,z=new W;for(let B=0;B<e.length;B+=3)_(e[B+0],D),_(e[B+1],L),_(e[B+2],z),h(D,L,z,R)}function h(R,D,L,z){const B=z+1,I=[];for(let V=0;V<=B;V++){I[V]=[];const U=R.clone().lerp(L,V/B),P=D.clone().lerp(L,V/B),X=B-V;for(let pt=0;pt<=X;pt++)pt===0&&V===B?I[V][pt]=U:I[V][pt]=U.clone().lerp(P,pt/X)}for(let V=0;V<B;V++)for(let U=0;U<2*(B-V)-1;U++){const P=Math.floor(U/2);U%2===0?(x(I[V][P+1]),x(I[V+1][P]),x(I[V][P])):(x(I[V][P+1]),x(I[V+1][P+1]),x(I[V+1][P]))}}function p(R){const D=new W;for(let L=0;L<r.length;L+=3)D.x=r[L+0],D.y=r[L+1],D.z=r[L+2],D.normalize().multiplyScalar(R),r[L+0]=D.x,r[L+1]=D.y,r[L+2]=D.z}function m(){const R=new W;for(let D=0;D<r.length;D+=3){R.x=r[D+0],R.y=r[D+1],R.z=r[D+2];const L=E(R)/2/Math.PI+.5,z=M(R)/Math.PI+.5;l.push(L,1-z)}T(),v()}function v(){for(let R=0;R<l.length;R+=6){const D=l[R+0],L=l[R+2],z=l[R+4],B=Math.max(D,L,z),I=Math.min(D,L,z);B>.9&&I<.1&&(D<.2&&(l[R+0]+=1),L<.2&&(l[R+2]+=1),z<.2&&(l[R+4]+=1))}}function x(R){r.push(R.x,R.y,R.z)}function _(R,D){const L=R*3;D.x=t[L+0],D.y=t[L+1],D.z=t[L+2]}function T(){const R=new W,D=new W,L=new W,z=new W,B=new Vt,I=new Vt,V=new Vt;for(let U=0,P=0;U<r.length;U+=9,P+=6){R.set(r[U+0],r[U+1],r[U+2]),D.set(r[U+3],r[U+4],r[U+5]),L.set(r[U+6],r[U+7],r[U+8]),B.set(l[P+0],l[P+1]),I.set(l[P+2],l[P+3]),V.set(l[P+4],l[P+5]),z.copy(R).add(D).add(L).divideScalar(3);const X=E(z);C(B,P+0,R,X),C(I,P+2,D,X),C(V,P+4,L,X)}}function C(R,D,L,z){z<0&&R.x===1&&(l[D]=R.x-1),L.x===0&&L.z===0&&(l[D]=z/2/Math.PI+.5)}function E(R){return Math.atan2(R.z,-R.x)}function M(R){return Math.atan2(-R.y,Math.sqrt(R.x*R.x+R.z*R.z))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Au(t.vertices,t.indices,t.radius,t.details)}}class q_ extends Au{constructor(t=1,e=0){const i=(1+Math.sqrt(5))/2,s=1/i,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-s,-i,0,-s,i,0,s,-i,0,s,i,-s,-i,0,-s,i,0,s,-i,0,s,i,0,-i,0,-s,i,0,-s,-i,0,s,i,0,s],l=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(r,l,t,e),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new q_(t.radius,t.detail)}}const Oy=new W,Py=new W,O1=new W,zy=new Oa;class fN extends tn{constructor(t=null,e=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:t,thresholdAngle:e},t!==null){const s=Math.pow(10,4),r=Math.cos(Qf*e),l=t.getIndex(),u=t.getAttribute("position"),h=l?l.count:u.count,p=[0,0,0],m=["a","b","c"],v=new Array(3),x={},_=[];for(let T=0;T<h;T+=3){l?(p[0]=l.getX(T),p[1]=l.getX(T+1),p[2]=l.getX(T+2)):(p[0]=T,p[1]=T+1,p[2]=T+2);const{a:C,b:E,c:M}=zy;if(C.fromBufferAttribute(u,p[0]),E.fromBufferAttribute(u,p[1]),M.fromBufferAttribute(u,p[2]),zy.getNormal(O1),v[0]=`${Math.round(C.x*s)},${Math.round(C.y*s)},${Math.round(C.z*s)}`,v[1]=`${Math.round(E.x*s)},${Math.round(E.y*s)},${Math.round(E.z*s)}`,v[2]=`${Math.round(M.x*s)},${Math.round(M.y*s)},${Math.round(M.z*s)}`,!(v[0]===v[1]||v[1]===v[2]||v[2]===v[0]))for(let R=0;R<3;R++){const D=(R+1)%3,L=v[R],z=v[D],B=zy[m[R]],I=zy[m[D]],V=`${L}_${z}`,U=`${z}_${L}`;U in x&&x[U]?(O1.dot(x[U].normal)<=r&&(_.push(B.x,B.y,B.z),_.push(I.x,I.y,I.z)),x[U]=null):V in x||(x[V]={index0:p[R],index1:p[D],normal:O1.clone()})}}for(const T in x)if(x[T]){const{index0:C,index1:E}=x[T];Oy.fromBufferAttribute(u,C),Py.fromBufferAttribute(u,E),_.push(Oy.x,Oy.y,Oy.z),_.push(Py.x,Py.y,Py.z)}this.setAttribute("position",new be(_,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}class $f extends Vg{constructor(t){super(t),this.uuid=ir(),this.type="Shape",this.holes=[]}getPointsHoles(t){const e=[];for(let i=0,s=this.holes.length;i<s;i++)e[i]=this.holes[i].getPoints(t);return e}extractPoints(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}copy(t){super.copy(t),this.holes=[];for(let e=0,i=t.holes.length;e<i;e++){const s=t.holes[e];this.holes.push(s.clone())}return this}toJSON(){const t=super.toJSON();t.uuid=this.uuid,t.holes=[];for(let e=0,i=this.holes.length;e<i;e++){const s=this.holes[e];t.holes.push(s.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.uuid=t.uuid,this.holes=[];for(let e=0,i=t.holes.length;e<i;e++){const s=t.holes[e];this.holes.push(new Vg().fromJSON(s))}return this}}const jV={triangulate:function(n,t,e=2){const i=t&&t.length,s=i?t[0]*e:n.length;let r=hN(n,0,s,e,!0);const l=[];if(!r||r.next===r.prev)return l;let u,h,p,m,v,x,_;if(i&&(r=ZV(n,t,r,e)),n.length>80*e){u=p=n[0],h=m=n[1];for(let T=e;T<s;T+=e)v=n[T],x=n[T+1],v<u&&(u=v),x<h&&(h=x),v>p&&(p=v),x>m&&(m=x);_=Math.max(p-u,m-h),_=_!==0?32767/_:0}return Ig(r,l,e,u,h,_,0),l}};function hN(n,t,e,i,s){let r,l;if(s===r4(n,t,e,i)>0)for(r=t;r<e;r+=i)l=Pw(r,n[r],n[r+1],l);else for(r=e-i;r>=t;r-=i)l=Pw(r,n[r],n[r+1],l);return l&&Y_(l,l.next)&&(Hg(l),l=l.next),l}function rh(n,t){if(!n)return n;t||(t=n);let e=n,i;do if(i=!1,!e.steiner&&(Y_(e,e.next)||mi(e.prev,e,e.next)===0)){if(Hg(e),e=t=e.prev,e===e.next)break;i=!0}else e=e.next;while(i||e!==t);return t}function Ig(n,t,e,i,s,r,l){if(!n)return;!l&&r&&t4(n,i,s,r);let u=n,h,p;for(;n.prev!==n.next;){if(h=n.prev,p=n.next,r?qV(n,i,s,r):XV(n)){t.push(h.i/e|0),t.push(n.i/e|0),t.push(p.i/e|0),Hg(n),n=p.next,u=p.next;continue}if(n=p,n===u){l?l===1?(n=YV(rh(n),t,e),Ig(n,t,e,i,s,r,2)):l===2&&WV(n,t,e,i,s,r):Ig(rh(n),t,e,i,s,r,1);break}}}function XV(n){const t=n.prev,e=n,i=n.next;if(mi(t,e,i)>=0)return!1;const s=t.x,r=e.x,l=i.x,u=t.y,h=e.y,p=i.y,m=s<r?s<l?s:l:r<l?r:l,v=u<h?u<p?u:p:h<p?h:p,x=s>r?s>l?s:l:r>l?r:l,_=u>h?u>p?u:p:h>p?h:p;let T=i.next;for(;T!==t;){if(T.x>=m&&T.x<=x&&T.y>=v&&T.y<=_&&zd(s,u,r,h,l,p,T.x,T.y)&&mi(T.prev,T,T.next)>=0)return!1;T=T.next}return!0}function qV(n,t,e,i){const s=n.prev,r=n,l=n.next;if(mi(s,r,l)>=0)return!1;const u=s.x,h=r.x,p=l.x,m=s.y,v=r.y,x=l.y,_=u<h?u<p?u:p:h<p?h:p,T=m<v?m<x?m:x:v<x?v:x,C=u>h?u>p?u:p:h>p?h:p,E=m>v?m>x?m:x:v>x?v:x,M=Xb(_,T,t,e,i),R=Xb(C,E,t,e,i);let D=n.prevZ,L=n.nextZ;for(;D&&D.z>=M&&L&&L.z<=R;){if(D.x>=_&&D.x<=C&&D.y>=T&&D.y<=E&&D!==s&&D!==l&&zd(u,m,h,v,p,x,D.x,D.y)&&mi(D.prev,D,D.next)>=0||(D=D.prevZ,L.x>=_&&L.x<=C&&L.y>=T&&L.y<=E&&L!==s&&L!==l&&zd(u,m,h,v,p,x,L.x,L.y)&&mi(L.prev,L,L.next)>=0))return!1;L=L.nextZ}for(;D&&D.z>=M;){if(D.x>=_&&D.x<=C&&D.y>=T&&D.y<=E&&D!==s&&D!==l&&zd(u,m,h,v,p,x,D.x,D.y)&&mi(D.prev,D,D.next)>=0)return!1;D=D.prevZ}for(;L&&L.z<=R;){if(L.x>=_&&L.x<=C&&L.y>=T&&L.y<=E&&L!==s&&L!==l&&zd(u,m,h,v,p,x,L.x,L.y)&&mi(L.prev,L,L.next)>=0)return!1;L=L.nextZ}return!0}function YV(n,t,e){let i=n;do{const s=i.prev,r=i.next.next;!Y_(s,r)&&dN(s,i,i.next,r)&&Fg(s,r)&&Fg(r,s)&&(t.push(s.i/e|0),t.push(i.i/e|0),t.push(r.i/e|0),Hg(i),Hg(i.next),i=n=r),i=i.next}while(i!==n);return rh(i)}function WV(n,t,e,i,s,r){let l=n;do{let u=l.next.next;for(;u!==l.prev;){if(l.i!==u.i&&i4(l,u)){let h=pN(l,u);l=rh(l,l.next),h=rh(h,h.next),Ig(l,t,e,i,s,r,0),Ig(h,t,e,i,s,r,0);return}u=u.next}l=l.next}while(l!==n)}function ZV(n,t,e,i){const s=[];let r,l,u,h,p;for(r=0,l=t.length;r<l;r++)u=t[r]*i,h=r<l-1?t[r+1]*i:n.length,p=hN(n,u,h,i,!1),p===p.next&&(p.steiner=!0),s.push(n4(p));for(s.sort(KV),r=0;r<s.length;r++)e=QV(s[r],e);return e}function KV(n,t){return n.x-t.x}function QV(n,t){const e=$V(n,t);if(!e)return t;const i=pN(e,n);return rh(i,i.next),rh(e,e.next)}function $V(n,t){let e=t,i=-1/0,s;const r=n.x,l=n.y;do{if(l<=e.y&&l>=e.next.y&&e.next.y!==e.y){const x=e.x+(l-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(x<=r&&x>i&&(i=x,s=e.x<e.next.x?e:e.next,x===r))return s}e=e.next}while(e!==t);if(!s)return null;const u=s,h=s.x,p=s.y;let m=1/0,v;e=s;do r>=e.x&&e.x>=h&&r!==e.x&&zd(l<p?r:i,l,h,p,l<p?i:r,l,e.x,e.y)&&(v=Math.abs(l-e.y)/(r-e.x),Fg(e,n)&&(v<m||v===m&&(e.x>s.x||e.x===s.x&&JV(s,e)))&&(s=e,m=v)),e=e.next;while(e!==u);return s}function JV(n,t){return mi(n.prev,n,t.prev)<0&&mi(t.next,n,n.next)<0}function t4(n,t,e,i){let s=n;do s.z===0&&(s.z=Xb(s.x,s.y,t,e,i)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==n);s.prevZ.nextZ=null,s.prevZ=null,e4(s)}function e4(n){let t,e,i,s,r,l,u,h,p=1;do{for(e=n,n=null,r=null,l=0;e;){for(l++,i=e,u=0,t=0;t<p&&(u++,i=i.nextZ,!!i);t++);for(h=p;u>0||h>0&&i;)u!==0&&(h===0||!i||e.z<=i.z)?(s=e,e=e.nextZ,u--):(s=i,i=i.nextZ,h--),r?r.nextZ=s:n=s,s.prevZ=r,r=s;e=i}r.nextZ=null,p*=2}while(l>1);return n}function Xb(n,t,e,i,s){return n=(n-e)*s|0,t=(t-i)*s|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,n|t<<1}function n4(n){let t=n,e=n;do(t.x<e.x||t.x===e.x&&t.y<e.y)&&(e=t),t=t.next;while(t!==n);return e}function zd(n,t,e,i,s,r,l,u){return(s-l)*(t-u)>=(n-l)*(r-u)&&(n-l)*(i-u)>=(e-l)*(t-u)&&(e-l)*(r-u)>=(s-l)*(i-u)}function i4(n,t){return n.next.i!==t.i&&n.prev.i!==t.i&&!s4(n,t)&&(Fg(n,t)&&Fg(t,n)&&a4(n,t)&&(mi(n.prev,n,t.prev)||mi(n,t.prev,t))||Y_(n,t)&&mi(n.prev,n,n.next)>0&&mi(t.prev,t,t.next)>0)}function mi(n,t,e){return(t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y)}function Y_(n,t){return n.x===t.x&&n.y===t.y}function dN(n,t,e,i){const s=Vy(mi(n,t,e)),r=Vy(mi(n,t,i)),l=Vy(mi(e,i,n)),u=Vy(mi(e,i,t));return!!(s!==r&&l!==u||s===0&&By(n,e,t)||r===0&&By(n,i,t)||l===0&&By(e,n,i)||u===0&&By(e,t,i))}function By(n,t,e){return t.x<=Math.max(n.x,e.x)&&t.x>=Math.min(n.x,e.x)&&t.y<=Math.max(n.y,e.y)&&t.y>=Math.min(n.y,e.y)}function Vy(n){return n>0?1:n<0?-1:0}function s4(n,t){let e=n;do{if(e.i!==n.i&&e.next.i!==n.i&&e.i!==t.i&&e.next.i!==t.i&&dN(e,e.next,n,t))return!0;e=e.next}while(e!==n);return!1}function Fg(n,t){return mi(n.prev,n,n.next)<0?mi(n,t,n.next)>=0&&mi(n,n.prev,t)>=0:mi(n,t,n.prev)<0||mi(n,n.next,t)<0}function a4(n,t){let e=n,i=!1;const s=(n.x+t.x)/2,r=(n.y+t.y)/2;do e.y>r!=e.next.y>r&&e.next.y!==e.y&&s<(e.next.x-e.x)*(r-e.y)/(e.next.y-e.y)+e.x&&(i=!i),e=e.next;while(e!==n);return i}function pN(n,t){const e=new qb(n.i,n.x,n.y),i=new qb(t.i,t.x,t.y),s=n.next,r=t.prev;return n.next=t,t.prev=n,e.next=s,s.prev=e,i.next=e,e.prev=i,r.next=i,i.prev=r,i}function Pw(n,t,e,i){const s=new qb(n,t,e);return i?(s.next=i.next,s.prev=i,i.next.prev=s,i.next=s):(s.prev=s,s.next=s),s}function Hg(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function qb(n,t,e){this.i=n,this.x=t,this.y=e,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function r4(n,t,e,i){let s=0;for(let r=t,l=e-i;r<e;r+=i)s+=(n[l]-n[r])*(n[r+1]+n[l+1]),l=r;return s}class ul{static area(t){const e=t.length;let i=0;for(let s=e-1,r=0;r<e;s=r++)i+=t[s].x*t[r].y-t[r].x*t[s].y;return i*.5}static isClockWise(t){return ul.area(t)<0}static triangulateShape(t,e){const i=[],s=[],r=[];zw(t),Bw(i,t);let l=t.length;e.forEach(zw);for(let h=0;h<e.length;h++)s.push(l),l+=e[h].length,Bw(i,e[h]);const u=jV.triangulate(i,s);for(let h=0;h<u.length;h+=3)r.push(u.slice(h,h+3));return r}}function zw(n){const t=n.length;t>2&&n[t-1].equals(n[0])&&n.pop()}function Bw(n,t){for(let e=0;e<t.length;e++)n.push(t[e].x),n.push(t[e].y)}class W_ extends tn{constructor(t=new $f([new Vt(.5,.5),new Vt(-.5,.5),new Vt(-.5,-.5),new Vt(.5,-.5)]),e={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];const i=this,s=[],r=[];for(let u=0,h=t.length;u<h;u++){const p=t[u];l(p)}this.setAttribute("position",new be(s,3)),this.setAttribute("uv",new be(r,2)),this.computeVertexNormals();function l(u){const h=[],p=e.curveSegments!==void 0?e.curveSegments:12,m=e.steps!==void 0?e.steps:1,v=e.depth!==void 0?e.depth:1;let x=e.bevelEnabled!==void 0?e.bevelEnabled:!0,_=e.bevelThickness!==void 0?e.bevelThickness:.2,T=e.bevelSize!==void 0?e.bevelSize:_-.1,C=e.bevelOffset!==void 0?e.bevelOffset:0,E=e.bevelSegments!==void 0?e.bevelSegments:3;const M=e.extrudePath,R=e.UVGenerator!==void 0?e.UVGenerator:o4;let D,L=!1,z,B,I,V;M&&(D=M.getSpacedPoints(m),L=!0,x=!1,z=M.computeFrenetFrames(m,!1),B=new W,I=new W,V=new W),x||(E=0,_=0,T=0,C=0);const U=u.extractPoints(p);let P=U.shape;const X=U.holes;if(!ul.isClockWise(P)){P=P.reverse();for(let Ot=0,Rt=X.length;Ot<Rt;Ot++){const Y=X[Ot];ul.isClockWise(Y)&&(X[Ot]=Y.reverse())}}const it=ul.triangulateShape(P,X),K=P;for(let Ot=0,Rt=X.length;Ot<Rt;Ot++){const Y=X[Ot];P=P.concat(Y)}function lt(Ot,Rt,Y){return Rt||console.error("THREE.ExtrudeGeometry: vec does not exist"),Ot.clone().addScaledVector(Rt,Y)}const J=P.length,tt=it.length;function Q(Ot,Rt,Y){let ue,Ht,$t;const Kt=Ot.x-Rt.x,Se=Ot.y-Rt.y,Qt=Y.x-Ot.x,q=Y.y-Ot.y,F=Kt*Kt+Se*Se,vt=Kt*q-Se*Qt;if(Math.abs(vt)>Number.EPSILON){const wt=Math.sqrt(F),Ft=Math.sqrt(Qt*Qt+q*q),Dt=Rt.x-Se/wt,ce=Rt.y+Kt/wt,ee=Y.x-q/Ft,fe=Y.y+Qt/Ft,We=((ee-Dt)*q-(fe-ce)*Qt)/(Kt*q-Se*Qt);ue=Dt+Kt*We-Ot.x,Ht=ce+Se*We-Ot.y;const Wt=ue*ue+Ht*Ht;if(Wt<=2)return new Vt(ue,Ht);$t=Math.sqrt(Wt/2)}else{let wt=!1;Kt>Number.EPSILON?Qt>Number.EPSILON&&(wt=!0):Kt<-Number.EPSILON?Qt<-Number.EPSILON&&(wt=!0):Math.sign(Se)===Math.sign(q)&&(wt=!0),wt?(ue=-Se,Ht=Kt,$t=Math.sqrt(F)):(ue=Kt,Ht=Se,$t=Math.sqrt(F/2))}return new Vt(ue/$t,Ht/$t)}const _t=[];for(let Ot=0,Rt=K.length,Y=Rt-1,ue=Ot+1;Ot<Rt;Ot++,Y++,ue++)Y===Rt&&(Y=0),ue===Rt&&(ue=0),_t[Ot]=Q(K[Ot],K[Y],K[ue]);const j=[];let at,At=_t.concat();for(let Ot=0,Rt=X.length;Ot<Rt;Ot++){const Y=X[Ot];at=[];for(let ue=0,Ht=Y.length,$t=Ht-1,Kt=ue+1;ue<Ht;ue++,$t++,Kt++)$t===Ht&&($t=0),Kt===Ht&&(Kt=0),at[ue]=Q(Y[ue],Y[$t],Y[Kt]);j.push(at),At=At.concat(at)}for(let Ot=0;Ot<E;Ot++){const Rt=Ot/E,Y=_*Math.cos(Rt*Math.PI/2),ue=T*Math.sin(Rt*Math.PI/2)+C;for(let Ht=0,$t=K.length;Ht<$t;Ht++){const Kt=lt(K[Ht],_t[Ht],ue);It(Kt.x,Kt.y,-Y)}for(let Ht=0,$t=X.length;Ht<$t;Ht++){const Kt=X[Ht];at=j[Ht];for(let Se=0,Qt=Kt.length;Se<Qt;Se++){const q=lt(Kt[Se],at[Se],ue);It(q.x,q.y,-Y)}}}const zt=T+C;for(let Ot=0;Ot<J;Ot++){const Rt=x?lt(P[Ot],At[Ot],zt):P[Ot];L?(I.copy(z.normals[0]).multiplyScalar(Rt.x),B.copy(z.binormals[0]).multiplyScalar(Rt.y),V.copy(D[0]).add(I).add(B),It(V.x,V.y,V.z)):It(Rt.x,Rt.y,0)}for(let Ot=1;Ot<=m;Ot++)for(let Rt=0;Rt<J;Rt++){const Y=x?lt(P[Rt],At[Rt],zt):P[Rt];L?(I.copy(z.normals[Ot]).multiplyScalar(Y.x),B.copy(z.binormals[Ot]).multiplyScalar(Y.y),V.copy(D[Ot]).add(I).add(B),It(V.x,V.y,V.z)):It(Y.x,Y.y,v/m*Ot)}for(let Ot=E-1;Ot>=0;Ot--){const Rt=Ot/E,Y=_*Math.cos(Rt*Math.PI/2),ue=T*Math.sin(Rt*Math.PI/2)+C;for(let Ht=0,$t=K.length;Ht<$t;Ht++){const Kt=lt(K[Ht],_t[Ht],ue);It(Kt.x,Kt.y,v+Y)}for(let Ht=0,$t=X.length;Ht<$t;Ht++){const Kt=X[Ht];at=j[Ht];for(let Se=0,Qt=Kt.length;Se<Qt;Se++){const q=lt(Kt[Se],at[Se],ue);L?It(q.x,q.y+D[m-1].y,D[m-1].x+Y):It(q.x,q.y,v+Y)}}}st(),Et();function st(){const Ot=s.length/3;if(x){let Rt=0,Y=J*Rt;for(let ue=0;ue<tt;ue++){const Ht=it[ue];kt(Ht[2]+Y,Ht[1]+Y,Ht[0]+Y)}Rt=m+E*2,Y=J*Rt;for(let ue=0;ue<tt;ue++){const Ht=it[ue];kt(Ht[0]+Y,Ht[1]+Y,Ht[2]+Y)}}else{for(let Rt=0;Rt<tt;Rt++){const Y=it[Rt];kt(Y[2],Y[1],Y[0])}for(let Rt=0;Rt<tt;Rt++){const Y=it[Rt];kt(Y[0]+J*m,Y[1]+J*m,Y[2]+J*m)}}i.addGroup(Ot,s.length/3-Ot,0)}function Et(){const Ot=s.length/3;let Rt=0;Ut(K,Rt),Rt+=K.length;for(let Y=0,ue=X.length;Y<ue;Y++){const Ht=X[Y];Ut(Ht,Rt),Rt+=Ht.length}i.addGroup(Ot,s.length/3-Ot,1)}function Ut(Ot,Rt){let Y=Ot.length;for(;--Y>=0;){const ue=Y;let Ht=Y-1;Ht<0&&(Ht=Ot.length-1);for(let $t=0,Kt=m+E*2;$t<Kt;$t++){const Se=J*$t,Qt=J*($t+1),q=Rt+ue+Se,F=Rt+Ht+Se,vt=Rt+Ht+Qt,wt=Rt+ue+Qt;ye(q,F,vt,wt)}}}function It(Ot,Rt,Y){h.push(Ot),h.push(Rt),h.push(Y)}function kt(Ot,Rt,Y){qt(Ot),qt(Rt),qt(Y);const ue=s.length/3,Ht=R.generateTopUV(i,s,ue-3,ue-2,ue-1);le(Ht[0]),le(Ht[1]),le(Ht[2])}function ye(Ot,Rt,Y,ue){qt(Ot),qt(Rt),qt(ue),qt(Rt),qt(Y),qt(ue);const Ht=s.length/3,$t=R.generateSideWallUV(i,s,Ht-6,Ht-3,Ht-2,Ht-1);le($t[0]),le($t[1]),le($t[3]),le($t[1]),le($t[2]),le($t[3])}function qt(Ot){s.push(h[Ot*3+0]),s.push(h[Ot*3+1]),s.push(h[Ot*3+2])}function le(Ot){r.push(Ot.x),r.push(Ot.y)}}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON(),e=this.parameters.shapes,i=this.parameters.options;return l4(e,i,t)}static fromJSON(t,e){const i=[];for(let r=0,l=t.shapes.length;r<l;r++){const u=e[t.shapes[r]];i.push(u)}const s=t.options.extrudePath;return s!==void 0&&(t.options.extrudePath=new r_[s.type]().fromJSON(s)),new W_(i,t.options)}}const o4={generateTopUV:function(n,t,e,i,s){const r=t[e*3],l=t[e*3+1],u=t[i*3],h=t[i*3+1],p=t[s*3],m=t[s*3+1];return[new Vt(r,l),new Vt(u,h),new Vt(p,m)]},generateSideWallUV:function(n,t,e,i,s,r){const l=t[e*3],u=t[e*3+1],h=t[e*3+2],p=t[i*3],m=t[i*3+1],v=t[i*3+2],x=t[s*3],_=t[s*3+1],T=t[s*3+2],C=t[r*3],E=t[r*3+1],M=t[r*3+2];return Math.abs(u-m)<Math.abs(l-p)?[new Vt(l,1-h),new Vt(p,1-v),new Vt(x,1-T),new Vt(C,1-M)]:[new Vt(u,1-h),new Vt(m,1-v),new Vt(_,1-T),new Vt(E,1-M)]}};function l4(n,t,e){if(e.shapes=[],Array.isArray(n))for(let i=0,s=n.length;i<s;i++){const r=n[i];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e.options=Object.assign({},t),t.extrudePath!==void 0&&(e.options.extrudePath=t.extrudePath.toJSON()),e}class Z_ extends Au{constructor(t=1,e=0){const i=(1+Math.sqrt(5))/2,s=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(s,r,t,e),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new Z_(t.radius,t.detail)}}class d0 extends Au{constructor(t=1,e=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],s=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,s,t,e),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new d0(t.radius,t.detail)}}class mp extends tn{constructor(t=1,e=1,i=1,s=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:s};const r=t/2,l=e/2,u=Math.floor(i),h=Math.floor(s),p=u+1,m=h+1,v=t/u,x=e/h,_=[],T=[],C=[],E=[];for(let M=0;M<m;M++){const R=M*x-l;for(let D=0;D<p;D++){const L=D*v-r;T.push(L,-R,0),C.push(0,0,1),E.push(D/u),E.push(1-M/h)}}for(let M=0;M<h;M++)for(let R=0;R<u;R++){const D=R+p*M,L=R+p*(M+1),z=R+1+p*(M+1),B=R+1+p*M;_.push(D,L,B),_.push(L,z,B)}this.setIndex(_),this.setAttribute("position",new be(T,3)),this.setAttribute("normal",new be(C,3)),this.setAttribute("uv",new be(E,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new mp(t.width,t.height,t.widthSegments,t.heightSegments)}}class K_ extends tn{constructor(t=.5,e=1,i=32,s=1,r=0,l=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:i,phiSegments:s,thetaStart:r,thetaLength:l},i=Math.max(3,i),s=Math.max(1,s);const u=[],h=[],p=[],m=[];let v=t;const x=(e-t)/s,_=new W,T=new Vt;for(let C=0;C<=s;C++){for(let E=0;E<=i;E++){const M=r+E/i*l;_.x=v*Math.cos(M),_.y=v*Math.sin(M),h.push(_.x,_.y,_.z),p.push(0,0,1),T.x=(_.x/e+1)/2,T.y=(_.y/e+1)/2,m.push(T.x,T.y)}v+=x}for(let C=0;C<s;C++){const E=C*(i+1);for(let M=0;M<i;M++){const R=M+E,D=R,L=R+i+1,z=R+i+2,B=R+1;u.push(D,L,B),u.push(L,z,B)}}this.setIndex(u),this.setAttribute("position",new be(h,3)),this.setAttribute("normal",new be(p,3)),this.setAttribute("uv",new be(m,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new K_(t.innerRadius,t.outerRadius,t.thetaSegments,t.phiSegments,t.thetaStart,t.thetaLength)}}class Q_ extends tn{constructor(t=new $f([new Vt(0,.5),new Vt(-.5,-.5),new Vt(.5,-.5)]),e=12){super(),this.type="ShapeGeometry",this.parameters={shapes:t,curveSegments:e};const i=[],s=[],r=[],l=[];let u=0,h=0;if(Array.isArray(t)===!1)p(t);else for(let m=0;m<t.length;m++)p(t[m]),this.addGroup(u,h,m),u+=h,h=0;this.setIndex(i),this.setAttribute("position",new be(s,3)),this.setAttribute("normal",new be(r,3)),this.setAttribute("uv",new be(l,2));function p(m){const v=s.length/3,x=m.extractPoints(e);let _=x.shape;const T=x.holes;ul.isClockWise(_)===!1&&(_=_.reverse());for(let E=0,M=T.length;E<M;E++){const R=T[E];ul.isClockWise(R)===!0&&(T[E]=R.reverse())}const C=ul.triangulateShape(_,T);for(let E=0,M=T.length;E<M;E++){const R=T[E];_=_.concat(R)}for(let E=0,M=_.length;E<M;E++){const R=_[E];s.push(R.x,R.y,0),r.push(0,0,1),l.push(R.x,R.y)}for(let E=0,M=C.length;E<M;E++){const R=C[E],D=R[0]+v,L=R[1]+v,z=R[2]+v;i.push(D,L,z),h+=3}}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON(),e=this.parameters.shapes;return c4(e,t)}static fromJSON(t,e){const i=[];for(let s=0,r=t.shapes.length;s<r;s++){const l=e[t.shapes[s]];i.push(l)}return new Q_(i,t.curveSegments)}}function c4(n,t){if(t.shapes=[],Array.isArray(n))for(let e=0,i=n.length;e<i;e++){const s=n[e];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t}class p0 extends tn{constructor(t=1,e=32,i=16,s=0,r=Math.PI*2,l=0,u=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:s,phiLength:r,thetaStart:l,thetaLength:u},e=Math.max(3,Math.floor(e)),i=Math.max(2,Math.floor(i));const h=Math.min(l+u,Math.PI);let p=0;const m=[],v=new W,x=new W,_=[],T=[],C=[],E=[];for(let M=0;M<=i;M++){const R=[],D=M/i;let L=0;M===0&&l===0?L=.5/e:M===i&&h===Math.PI&&(L=-.5/e);for(let z=0;z<=e;z++){const B=z/e;v.x=-t*Math.cos(s+B*r)*Math.sin(l+D*u),v.y=t*Math.cos(l+D*u),v.z=t*Math.sin(s+B*r)*Math.sin(l+D*u),T.push(v.x,v.y,v.z),x.copy(v).normalize(),C.push(x.x,x.y,x.z),E.push(B+L,1-D),R.push(p++)}m.push(R)}for(let M=0;M<i;M++)for(let R=0;R<e;R++){const D=m[M][R+1],L=m[M][R],z=m[M+1][R],B=m[M+1][R+1];(M!==0||l>0)&&_.push(D,L,B),(M!==i-1||h<Math.PI)&&_.push(L,z,B)}this.setIndex(_),this.setAttribute("position",new be(T,3)),this.setAttribute("normal",new be(C,3)),this.setAttribute("uv",new be(E,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new p0(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}}class $_ extends Au{constructor(t=1,e=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],s=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,s,t,e),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new $_(t.radius,t.detail)}}class J_ extends tn{constructor(t=1,e=.4,i=12,s=48,r=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:s,arc:r},i=Math.floor(i),s=Math.floor(s);const l=[],u=[],h=[],p=[],m=new W,v=new W,x=new W;for(let _=0;_<=i;_++)for(let T=0;T<=s;T++){const C=T/s*r,E=_/i*Math.PI*2;v.x=(t+e*Math.cos(E))*Math.cos(C),v.y=(t+e*Math.cos(E))*Math.sin(C),v.z=e*Math.sin(E),u.push(v.x,v.y,v.z),m.x=t*Math.cos(C),m.y=t*Math.sin(C),x.subVectors(v,m).normalize(),h.push(x.x,x.y,x.z),p.push(T/s),p.push(_/i)}for(let _=1;_<=i;_++)for(let T=1;T<=s;T++){const C=(s+1)*_+T-1,E=(s+1)*(_-1)+T-1,M=(s+1)*(_-1)+T,R=(s+1)*_+T;l.push(C,E,R),l.push(E,M,R)}this.setIndex(l),this.setAttribute("position",new be(u,3)),this.setAttribute("normal",new be(h,3)),this.setAttribute("uv",new be(p,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new J_(t.radius,t.tube,t.radialSegments,t.tubularSegments,t.arc)}}class tS extends tn{constructor(t=1,e=.4,i=64,s=8,r=2,l=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:i,radialSegments:s,p:r,q:l},i=Math.floor(i),s=Math.floor(s);const u=[],h=[],p=[],m=[],v=new W,x=new W,_=new W,T=new W,C=new W,E=new W,M=new W;for(let D=0;D<=i;++D){const L=D/i*r*Math.PI*2;R(L,r,l,t,_),R(L+.01,r,l,t,T),E.subVectors(T,_),M.addVectors(T,_),C.crossVectors(E,M),M.crossVectors(C,E),C.normalize(),M.normalize();for(let z=0;z<=s;++z){const B=z/s*Math.PI*2,I=-e*Math.cos(B),V=e*Math.sin(B);v.x=_.x+(I*M.x+V*C.x),v.y=_.y+(I*M.y+V*C.y),v.z=_.z+(I*M.z+V*C.z),h.push(v.x,v.y,v.z),x.subVectors(v,_).normalize(),p.push(x.x,x.y,x.z),m.push(D/i),m.push(z/s)}}for(let D=1;D<=i;D++)for(let L=1;L<=s;L++){const z=(s+1)*(D-1)+(L-1),B=(s+1)*D+(L-1),I=(s+1)*D+L,V=(s+1)*(D-1)+L;u.push(z,B,V),u.push(B,I,V)}this.setIndex(u),this.setAttribute("position",new be(h,3)),this.setAttribute("normal",new be(p,3)),this.setAttribute("uv",new be(m,2));function R(D,L,z,B,I){const V=Math.cos(D),U=Math.sin(D),P=z/L*D,X=Math.cos(P);I.x=B*(2+X)*.5*V,I.y=B*(2+X)*U*.5,I.z=B*Math.sin(P)*.5}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new tS(t.radius,t.tube,t.tubularSegments,t.radialSegments,t.p,t.q)}}class eS extends tn{constructor(t=new ST(new W(-1,-1,0),new W(-1,1,0),new W(1,1,0)),e=64,i=1,s=8,r=!1){super(),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:i,radialSegments:s,closed:r};const l=t.computeFrenetFrames(e,r);this.tangents=l.tangents,this.normals=l.normals,this.binormals=l.binormals;const u=new W,h=new W,p=new Vt;let m=new W;const v=[],x=[],_=[],T=[];C(),this.setIndex(T),this.setAttribute("position",new be(v,3)),this.setAttribute("normal",new be(x,3)),this.setAttribute("uv",new be(_,2));function C(){for(let D=0;D<e;D++)E(D);E(r===!1?e:0),R(),M()}function E(D){m=t.getPointAt(D/e,m);const L=l.normals[D],z=l.binormals[D];for(let B=0;B<=s;B++){const I=B/s*Math.PI*2,V=Math.sin(I),U=-Math.cos(I);h.x=U*L.x+V*z.x,h.y=U*L.y+V*z.y,h.z=U*L.z+V*z.z,h.normalize(),x.push(h.x,h.y,h.z),u.x=m.x+i*h.x,u.y=m.y+i*h.y,u.z=m.z+i*h.z,v.push(u.x,u.y,u.z)}}function M(){for(let D=1;D<=e;D++)for(let L=1;L<=s;L++){const z=(s+1)*(D-1)+(L-1),B=(s+1)*D+(L-1),I=(s+1)*D+L,V=(s+1)*(D-1)+L;T.push(z,B,V),T.push(B,I,V)}}function R(){for(let D=0;D<=e;D++)for(let L=0;L<=s;L++)p.x=D/e,p.y=L/s,_.push(p.x,p.y)}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON();return t.path=this.parameters.path.toJSON(),t}static fromJSON(t){return new eS(new r_[t.path.type]().fromJSON(t.path),t.tubularSegments,t.radius,t.radialSegments,t.closed)}}class mN extends tn{constructor(t=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:t},t!==null){const e=[],i=new Set,s=new W,r=new W;if(t.index!==null){const l=t.attributes.position,u=t.index;let h=t.groups;h.length===0&&(h=[{start:0,count:u.count,materialIndex:0}]);for(let p=0,m=h.length;p<m;++p){const v=h[p],x=v.start,_=v.count;for(let T=x,C=x+_;T<C;T+=3)for(let E=0;E<3;E++){const M=u.getX(T+E),R=u.getX(T+(E+1)%3);s.fromBufferAttribute(l,M),r.fromBufferAttribute(l,R),Vw(s,r,i)===!0&&(e.push(s.x,s.y,s.z),e.push(r.x,r.y,r.z))}}}else{const l=t.attributes.position;for(let u=0,h=l.count/3;u<h;u++)for(let p=0;p<3;p++){const m=3*u+p,v=3*u+(p+1)%3;s.fromBufferAttribute(l,m),r.fromBufferAttribute(l,v),Vw(s,r,i)===!0&&(e.push(s.x,s.y,s.z),e.push(r.x,r.y,r.z))}}this.setAttribute("position",new be(e,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}function Vw(n,t,e){const i=`${n.x},${n.y},${n.z}-${t.x},${t.y},${t.z}`,s=`${t.x},${t.y},${t.z}-${n.x},${n.y},${n.z}`;return e.has(i)===!0||e.has(s)===!0?!1:(e.add(i),e.add(s),!0)}var Iw=Object.freeze({__proto__:null,BoxGeometry:lh,CapsuleGeometry:k_,CircleGeometry:j_,ConeGeometry:X_,CylinderGeometry:pp,DodecahedronGeometry:q_,EdgesGeometry:fN,ExtrudeGeometry:W_,IcosahedronGeometry:Z_,LatheGeometry:h0,OctahedronGeometry:d0,PlaneGeometry:mp,PolyhedronGeometry:Au,RingGeometry:K_,ShapeGeometry:Q_,SphereGeometry:p0,TetrahedronGeometry:$_,TorusGeometry:J_,TorusKnotGeometry:tS,TubeGeometry:eS,WireframeGeometry:mN});class gN extends Ks{constructor(t){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new de(0),this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.fog=t.fog,this}}class vN extends _o{constructor(t){super(t),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class MT extends Ks{constructor(t){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new de(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new de(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Tu,this.normalScale=new Vt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ar,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class yN extends MT{constructor(t){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Vt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Xe(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new de(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new de(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new de(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(t)}get anisotropy(){return this._anisotropy}set anisotropy(t){this._anisotropy>0!=t>0&&this.version++,this._anisotropy=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get iridescence(){return this._iridescence}set iridescence(t){this._iridescence>0!=t>0&&this.version++,this._iridescence=t}get dispersion(){return this._dispersion}set dispersion(t){this._dispersion>0!=t>0&&this.version++,this._dispersion=t}get sheen(){return this._sheen}set sheen(t){this._sheen>0!=t>0&&this.version++,this._sheen=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=t.anisotropy,this.anisotropyRotation=t.anisotropyRotation,this.anisotropyMap=t.anisotropyMap,this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.dispersion=t.dispersion,this.ior=t.ior,this.iridescence=t.iridescence,this.iridescenceMap=t.iridescenceMap,this.iridescenceIOR=t.iridescenceIOR,this.iridescenceThicknessRange=[...t.iridescenceThicknessRange],this.iridescenceThicknessMap=t.iridescenceThicknessMap,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}class xN extends Ks{constructor(t){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new de(16777215),this.specular=new de(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new de(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Tu,this.normalScale=new Vt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ar,this.combine=o0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class _N extends Ks{constructor(t){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new de(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new de(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Tu,this.normalScale=new Vt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}class SN extends Ks{constructor(t){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Tu,this.normalScale=new Vt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.flatShading=t.flatShading,this}}class bN extends Ks{constructor(t){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new de(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new de(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Tu,this.normalScale=new Vt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ar,this.combine=o0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class TT extends Ks{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=L3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class ET extends Ks{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}class MN extends Ks{constructor(t){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new de(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Tu,this.normalScale=new Vt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.flatShading=t.flatShading,this.fog=t.fog,this}}class TN extends ma{constructor(t){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}copy(t){return super.copy(t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this}}function Xf(n,t,e){return!n||!e&&n.constructor===t?n:typeof t.BYTES_PER_ELEMENT=="number"?new t(n):Array.prototype.slice.call(n)}function EN(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function AN(n){function t(s,r){return n[s]-n[r]}const e=n.length,i=new Array(e);for(let s=0;s!==e;++s)i[s]=s;return i.sort(t),i}function Yb(n,t,e){const i=n.length,s=new n.constructor(i);for(let r=0,l=0;l!==i;++r){const u=e[r]*t;for(let h=0;h!==t;++h)s[l++]=n[u+h]}return s}function AT(n,t,e,i){let s=1,r=n[0];for(;r!==void 0&&r[i]===void 0;)r=n[s++];if(r===void 0)return;let l=r[i];if(l!==void 0)if(Array.isArray(l))do l=r[i],l!==void 0&&(t.push(r.time),e.push.apply(e,l)),r=n[s++];while(r!==void 0);else if(l.toArray!==void 0)do l=r[i],l!==void 0&&(t.push(r.time),l.toArray(e,e.length)),r=n[s++];while(r!==void 0);else do l=r[i],l!==void 0&&(t.push(r.time),e.push(l)),r=n[s++];while(r!==void 0)}function u4(n,t,e,i,s=30){const r=n.clone();r.name=t;const l=[];for(let h=0;h<r.tracks.length;++h){const p=r.tracks[h],m=p.getValueSize(),v=[],x=[];for(let _=0;_<p.times.length;++_){const T=p.times[_]*s;if(!(T<e||T>=i)){v.push(p.times[_]);for(let C=0;C<m;++C)x.push(p.values[_*m+C])}}v.length!==0&&(p.times=Xf(v,p.times.constructor),p.values=Xf(x,p.values.constructor),l.push(p))}r.tracks=l;let u=1/0;for(let h=0;h<r.tracks.length;++h)u>r.tracks[h].times[0]&&(u=r.tracks[h].times[0]);for(let h=0;h<r.tracks.length;++h)r.tracks[h].shift(-1*u);return r.resetDuration(),r}function f4(n,t=0,e=n,i=30){i<=0&&(i=30);const s=e.tracks.length,r=t/i;for(let l=0;l<s;++l){const u=e.tracks[l],h=u.ValueTypeName;if(h==="bool"||h==="string")continue;const p=n.tracks.find(function(M){return M.name===u.name&&M.ValueTypeName===h});if(p===void 0)continue;let m=0;const v=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=v/3);let x=0;const _=p.getValueSize();p.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(x=_/3);const T=u.times.length-1;let C;if(r<=u.times[0]){const M=m,R=v-m;C=u.values.slice(M,R)}else if(r>=u.times[T]){const M=T*v+m,R=M+v-m;C=u.values.slice(M,R)}else{const M=u.createInterpolant(),R=m,D=v-m;M.evaluate(r),C=M.resultBuffer.slice(R,D)}h==="quaternion"&&new Ba().fromArray(C).normalize().conjugate().toArray(C);const E=p.times.length;for(let M=0;M<E;++M){const R=M*_+x;if(h==="quaternion")Ba.multiplyQuaternionsFlat(p.values,R,C,0,p.values,R);else{const D=_-x*2;for(let L=0;L<D;++L)p.values[R+L]-=C[L]}}}return n.blendMode=oT,n}const h4={convertArray:Xf,isTypedArray:EN,getKeyframeOrder:AN,sortedArray:Yb,flattenJSON:AT,subclip:u4,makeClipAdditive:f4};class m0{constructor(t,e,i,s){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=s!==void 0?s:new e.constructor(i),this.sampleValues=e,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let i=this._cachedIndex,s=e[i],r=e[i-1];t:{e:{let l;n:{i:if(!(t<s)){for(let u=i+2;;){if(s===void 0){if(t<r)break i;return i=e.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===u)break;if(r=s,s=e[++i],t<s)break e}l=e.length;break n}if(!(t>=r)){const u=e[1];t<u&&(i=2,r=u);for(let h=i-2;;){if(r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===h)break;if(s=r,r=e[--i-1],t>=r)break e}l=i,i=0;break n}break t}for(;i<l;){const u=i+l>>>1;t<e[u]?l=u:i=u+1}if(s=e[i],r=e[i-1],r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(s===void 0)return i=e.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,r,s)}return this.interpolate_(i,r,t,s)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,i=this.sampleValues,s=this.valueSize,r=t*s;for(let l=0;l!==s;++l)e[l]=i[r+l];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class wN extends m0{constructor(t,e,i,s){super(t,e,i,s),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Gf,endingEnd:Gf}}intervalChanged_(t,e,i){const s=this.parameterPositions;let r=t-2,l=t+1,u=s[r],h=s[l];if(u===void 0)switch(this.getSettings_().endingStart){case kf:r=t,u=2*e-i;break;case Ug:r=s.length-2,u=e+s[r]-s[r+1];break;default:r=t,u=i}if(h===void 0)switch(this.getSettings_().endingEnd){case kf:l=t,h=2*i-e;break;case Ug:l=1,h=i+s[1]-s[0];break;default:l=t-1,h=e}const p=(i-e)*.5,m=this.valueSize;this._weightPrev=p/(e-u),this._weightNext=p/(h-i),this._offsetPrev=r*m,this._offsetNext=l*m}interpolate_(t,e,i,s){const r=this.resultBuffer,l=this.sampleValues,u=this.valueSize,h=t*u,p=h-u,m=this._offsetPrev,v=this._offsetNext,x=this._weightPrev,_=this._weightNext,T=(i-e)/(s-e),C=T*T,E=C*T,M=-x*E+2*x*C-x*T,R=(1+x)*E+(-1.5-2*x)*C+(-.5+x)*T+1,D=(-1-_)*E+(1.5+_)*C+.5*T,L=_*E-_*C;for(let z=0;z!==u;++z)r[z]=M*l[m+z]+R*l[p+z]+D*l[h+z]+L*l[v+z];return r}}class wT extends m0{constructor(t,e,i,s){super(t,e,i,s)}interpolate_(t,e,i,s){const r=this.resultBuffer,l=this.sampleValues,u=this.valueSize,h=t*u,p=h-u,m=(i-e)/(s-e),v=1-m;for(let x=0;x!==u;++x)r[x]=l[p+x]*v+l[h+x]*m;return r}}class CN extends m0{constructor(t,e,i,s){super(t,e,i,s)}interpolate_(t){return this.copySampleValue_(t-1)}}class Mo{constructor(t,e,i,s){if(t===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(e===void 0||e.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Xf(e,this.TimeBufferType),this.values=Xf(i,this.ValueBufferType),this.setInterpolation(s||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let i;if(e.toJSON!==this.toJSON)i=e.toJSON(t);else{i={name:t.name,times:Xf(t.times,Array),values:Xf(t.values,Array)};const s=t.getInterpolation();s!==t.DefaultInterpolation&&(i.interpolation=s)}return i.type=t.ValueTypeName,i}InterpolantFactoryMethodDiscrete(t){return new CN(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new wT(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new wN(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case Lg:e=this.InterpolantFactoryMethodDiscrete;break;case i_:e=this.InterpolantFactoryMethodLinear;break;case lx:e=this.InterpolantFactoryMethodSmooth;break}if(e===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(t!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Lg;case this.InterpolantFactoryMethodLinear:return i_;case this.InterpolantFactoryMethodSmooth:return lx}}getValueSize(){return this.values.length/this.times.length}shift(t){if(t!==0){const e=this.times;for(let i=0,s=e.length;i!==s;++i)e[i]+=t}return this}scale(t){if(t!==1){const e=this.times;for(let i=0,s=e.length;i!==s;++i)e[i]*=t}return this}trim(t,e){const i=this.times,s=i.length;let r=0,l=s-1;for(;r!==s&&i[r]<t;)++r;for(;l!==-1&&i[l]>e;)--l;if(++l,r!==0||l!==s){r>=l&&(l=Math.max(l,1),r=l-1);const u=this.getValueSize();this.times=i.slice(r,l),this.values=this.values.slice(r*u,l*u)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const i=this.times,s=this.values,r=i.length;r===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let l=null;for(let u=0;u!==r;u++){const h=i[u];if(typeof h=="number"&&isNaN(h)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,u,h),t=!1;break}if(l!==null&&l>h){console.error("THREE.KeyframeTrack: Out of order keys.",this,u,h,l),t=!1;break}l=h}if(s!==void 0&&EN(s))for(let u=0,h=s.length;u!==h;++u){const p=s[u];if(isNaN(p)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,u,p),t=!1;break}}return t}optimize(){const t=this.times.slice(),e=this.values.slice(),i=this.getValueSize(),s=this.getInterpolation()===lx,r=t.length-1;let l=1;for(let u=1;u<r;++u){let h=!1;const p=t[u],m=t[u+1];if(p!==m&&(u!==1||p!==t[0]))if(s)h=!0;else{const v=u*i,x=v-i,_=v+i;for(let T=0;T!==i;++T){const C=e[v+T];if(C!==e[x+T]||C!==e[_+T]){h=!0;break}}}if(h){if(u!==l){t[l]=t[u];const v=u*i,x=l*i;for(let _=0;_!==i;++_)e[x+_]=e[v+_]}++l}}if(r>0){t[l]=t[r];for(let u=r*i,h=l*i,p=0;p!==i;++p)e[h+p]=e[u+p];++l}return l!==t.length?(this.times=t.slice(0,l),this.values=e.slice(0,l*i)):(this.times=t,this.values=e),this}clone(){const t=this.times.slice(),e=this.values.slice(),i=this.constructor,s=new i(this.name,t,e);return s.createInterpolant=this.createInterpolant,s}}Mo.prototype.TimeBufferType=Float32Array;Mo.prototype.ValueBufferType=Float32Array;Mo.prototype.DefaultInterpolation=i_;class ch extends Mo{constructor(t,e,i){super(t,e,i)}}ch.prototype.ValueTypeName="bool";ch.prototype.ValueBufferType=Array;ch.prototype.DefaultInterpolation=Lg;ch.prototype.InterpolantFactoryMethodLinear=void 0;ch.prototype.InterpolantFactoryMethodSmooth=void 0;class CT extends Mo{}CT.prototype.ValueTypeName="color";class Gg extends Mo{}Gg.prototype.ValueTypeName="number";class RN extends m0{constructor(t,e,i,s){super(t,e,i,s)}interpolate_(t,e,i,s){const r=this.resultBuffer,l=this.sampleValues,u=this.valueSize,h=(i-e)/(s-e);let p=t*u;for(let m=p+u;p!==m;p+=4)Ba.slerpFlat(r,0,l,p-u,l,p,h);return r}}class g0 extends Mo{InterpolantFactoryMethodLinear(t){return new RN(this.times,this.values,this.getValueSize(),t)}}g0.prototype.ValueTypeName="quaternion";g0.prototype.InterpolantFactoryMethodSmooth=void 0;class uh extends Mo{constructor(t,e,i){super(t,e,i)}}uh.prototype.ValueTypeName="string";uh.prototype.ValueBufferType=Array;uh.prototype.DefaultInterpolation=Lg;uh.prototype.InterpolantFactoryMethodLinear=void 0;uh.prototype.InterpolantFactoryMethodSmooth=void 0;class kg extends Mo{}kg.prototype.ValueTypeName="vector";class jg{constructor(t="",e=-1,i=[],s=U_){this.name=t,this.tracks=i,this.duration=e,this.blendMode=s,this.uuid=ir(),this.duration<0&&this.resetDuration()}static parse(t){const e=[],i=t.tracks,s=1/(t.fps||1);for(let l=0,u=i.length;l!==u;++l)e.push(p4(i[l]).scale(s));const r=new this(t.name,t.duration,e,t.blendMode);return r.uuid=t.uuid,r}static toJSON(t){const e=[],i=t.tracks,s={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let r=0,l=i.length;r!==l;++r)e.push(Mo.toJSON(i[r]));return s}static CreateFromMorphTargetSequence(t,e,i,s){const r=e.length,l=[];for(let u=0;u<r;u++){let h=[],p=[];h.push((u+r-1)%r,u,(u+1)%r),p.push(0,1,0);const m=AN(h);h=Yb(h,1,m),p=Yb(p,1,m),!s&&h[0]===0&&(h.push(r),p.push(p[0])),l.push(new Gg(".morphTargetInfluences["+e[u].name+"]",h,p).scale(1/i))}return new this(t,-1,l)}static findByName(t,e){let i=t;if(!Array.isArray(t)){const s=t;i=s.geometry&&s.geometry.animations||s.animations}for(let s=0;s<i.length;s++)if(i[s].name===e)return i[s];return null}static CreateClipsFromMorphTargetSequences(t,e,i){const s={},r=/^([\w-]*?)([\d]+)$/;for(let u=0,h=t.length;u<h;u++){const p=t[u],m=p.name.match(r);if(m&&m.length>1){const v=m[1];let x=s[v];x||(s[v]=x=[]),x.push(p)}}const l=[];for(const u in s)l.push(this.CreateFromMorphTargetSequence(u,s[u],e,i));return l}static parseAnimation(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(v,x,_,T,C){if(_.length!==0){const E=[],M=[];AT(_,E,M,T),E.length!==0&&C.push(new v(x,E,M))}},s=[],r=t.name||"default",l=t.fps||30,u=t.blendMode;let h=t.length||-1;const p=t.hierarchy||[];for(let v=0;v<p.length;v++){const x=p[v].keys;if(!(!x||x.length===0))if(x[0].morphTargets){const _={};let T;for(T=0;T<x.length;T++)if(x[T].morphTargets)for(let C=0;C<x[T].morphTargets.length;C++)_[x[T].morphTargets[C]]=-1;for(const C in _){const E=[],M=[];for(let R=0;R!==x[T].morphTargets.length;++R){const D=x[T];E.push(D.time),M.push(D.morphTarget===C?1:0)}s.push(new Gg(".morphTargetInfluence["+C+"]",E,M))}h=_.length*l}else{const _=".bones["+e[v].name+"]";i(kg,_+".position",x,"pos",s),i(g0,_+".quaternion",x,"rot",s),i(kg,_+".scale",x,"scl",s)}}return s.length===0?null:new this(r,h,s,u)}resetDuration(){const t=this.tracks;let e=0;for(let i=0,s=t.length;i!==s;++i){const r=this.tracks[i];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function d4(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Gg;case"vector":case"vector2":case"vector3":case"vector4":return kg;case"color":return CT;case"quaternion":return g0;case"bool":case"boolean":return ch;case"string":return uh}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function p4(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=d4(n.type);if(n.times===void 0){const e=[],i=[];AT(n.keys,e,i,"value"),n.times=e,n.values=i}return t.parse!==void 0?t.parse(n):new t(n.name,n.times,n.values,n.interpolation)}const ac={enabled:!1,files:{},add:function(n,t){this.enabled!==!1&&(this.files[n]=t)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class RT{constructor(t,e,i){const s=this;let r=!1,l=0,u=0,h;const p=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=i,this.itemStart=function(m){u++,r===!1&&s.onStart!==void 0&&s.onStart(m,l,u),r=!0},this.itemEnd=function(m){l++,s.onProgress!==void 0&&s.onProgress(m,l,u),l===u&&(r=!1,s.onLoad!==void 0&&s.onLoad())},this.itemError=function(m){s.onError!==void 0&&s.onError(m)},this.resolveURL=function(m){return h?h(m):m},this.setURLModifier=function(m){return h=m,this},this.addHandler=function(m,v){return p.push(m,v),this},this.removeHandler=function(m){const v=p.indexOf(m);return v!==-1&&p.splice(v,2),this},this.getHandler=function(m){for(let v=0,x=p.length;v<x;v+=2){const _=p[v],T=p[v+1];if(_.global&&(_.lastIndex=0),_.test(m))return T}return null}}}const Bd=new RT;let Ia=class{constructor(t){this.manager=t!==void 0?t:Bd,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,e){const i=this;return new Promise(function(s,r){i.load(t,s,e,r)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}};Ia.DEFAULT_MATERIAL_NAME="__DEFAULT";const tc={};class m4 extends Error{constructor(t,e){super(t),this.response=e}}class dc extends Ia{constructor(t){super(t)}load(t,e,i,s){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const r=ac.get(t);if(r!==void 0)return this.manager.itemStart(t),setTimeout(()=>{e&&e(r),this.manager.itemEnd(t)},0),r;if(tc[t]!==void 0){tc[t].push({onLoad:e,onProgress:i,onError:s});return}tc[t]=[],tc[t].push({onLoad:e,onProgress:i,onError:s});const l=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),u=this.mimeType,h=this.responseType;fetch(l).then(p=>{if(p.status===200||p.status===0){if(p.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||p.body===void 0||p.body.getReader===void 0)return p;const m=tc[t],v=p.body.getReader(),x=p.headers.get("X-File-Size")||p.headers.get("Content-Length"),_=x?parseInt(x):0,T=_!==0;let C=0;const E=new ReadableStream({start(M){R();function R(){v.read().then(({done:D,value:L})=>{if(D)M.close();else{C+=L.byteLength;const z=new ProgressEvent("progress",{lengthComputable:T,loaded:C,total:_});for(let B=0,I=m.length;B<I;B++){const V=m[B];V.onProgress&&V.onProgress(z)}M.enqueue(L),R()}},D=>{M.error(D)})}}});return new Response(E)}else throw new m4(`fetch for "${p.url}" responded with ${p.status}: ${p.statusText}`,p)}).then(p=>{switch(h){case"arraybuffer":return p.arrayBuffer();case"blob":return p.blob();case"document":return p.text().then(m=>new DOMParser().parseFromString(m,u));case"json":return p.json();default:if(u===void 0)return p.text();{const v=/charset="?([^;"\s]*)"?/i.exec(u),x=v&&v[1]?v[1].toLowerCase():void 0,_=new TextDecoder(x);return p.arrayBuffer().then(T=>_.decode(T))}}}).then(p=>{ac.add(t,p);const m=tc[t];delete tc[t];for(let v=0,x=m.length;v<x;v++){const _=m[v];_.onLoad&&_.onLoad(p)}}).catch(p=>{const m=tc[t];if(m===void 0)throw this.manager.itemError(t),p;delete tc[t];for(let v=0,x=m.length;v<x;v++){const _=m[v];_.onError&&_.onError(p)}this.manager.itemError(t)}).finally(()=>{this.manager.itemEnd(t)}),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}class g4 extends Ia{constructor(t){super(t)}load(t,e,i,s){const r=this,l=new dc(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(t,function(u){try{e(r.parse(JSON.parse(u)))}catch(h){s?s(h):console.error(h),r.manager.itemError(t)}},i,s)}parse(t){const e=[];for(let i=0;i<t.length;i++){const s=jg.parse(t[i]);e.push(s)}return e}}class v4 extends Ia{constructor(t){super(t)}load(t,e,i,s){const r=this,l=[],u=new H_,h=new dc(this.manager);h.setPath(this.path),h.setResponseType("arraybuffer"),h.setRequestHeader(this.requestHeader),h.setWithCredentials(r.withCredentials);let p=0;function m(v){h.load(t[v],function(x){const _=r.parse(x,!0);l[v]={width:_.width,height:_.height,format:_.format,mipmaps:_.mipmaps},p+=1,p===6&&(_.mipmapCount===1&&(u.minFilter=Qi),u.image=l,u.format=_.format,u.needsUpdate=!0,e&&e(u))},i,s)}if(Array.isArray(t))for(let v=0,x=t.length;v<x;++v)m(v);else h.load(t,function(v){const x=r.parse(v,!0);if(x.isCubemap){const _=x.mipmaps.length/x.mipmapCount;for(let T=0;T<_;T++){l[T]={mipmaps:[]};for(let C=0;C<x.mipmapCount;C++)l[T].mipmaps.push(x.mipmaps[T*x.mipmapCount+C]),l[T].format=x.format,l[T].width=x.width,l[T].height=x.height}u.image=l}else u.image.width=x.width,u.image.height=x.height,u.mipmaps=x.mipmaps;x.mipmapCount===1&&(u.minFilter=Qi),u.format=x.format,u.needsUpdate=!0,e&&e(u)},i,s);return u}}class Xg extends Ia{constructor(t){super(t)}load(t,e,i,s){this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,l=ac.get(t);if(l!==void 0)return r.manager.itemStart(t),setTimeout(function(){e&&e(l),r.manager.itemEnd(t)},0),l;const u=Bg("img");function h(){m(),ac.add(t,this),e&&e(this),r.manager.itemEnd(t)}function p(v){m(),s&&s(v),r.manager.itemError(t),r.manager.itemEnd(t)}function m(){u.removeEventListener("load",h,!1),u.removeEventListener("error",p,!1)}return u.addEventListener("load",h,!1),u.addEventListener("error",p,!1),t.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(u.crossOrigin=this.crossOrigin),r.manager.itemStart(t),u.src=t,u}}class y4 extends Ia{constructor(t){super(t)}load(t,e,i,s){const r=new u0;r.colorSpace=qs;const l=new Xg(this.manager);l.setCrossOrigin(this.crossOrigin),l.setPath(this.path);let u=0;function h(p){l.load(t[p],function(m){r.images[p]=m,u++,u===6&&(r.needsUpdate=!0,e&&e(r))},void 0,s)}for(let p=0;p<t.length;++p)h(p);return r}}class x4 extends Ia{constructor(t){super(t)}load(t,e,i,s){const r=this,l=new cl,u=new dc(this.manager);return u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setPath(this.path),u.setWithCredentials(r.withCredentials),u.load(t,function(h){let p;try{p=r.parse(h)}catch(m){if(s!==void 0)s(m);else{console.error(m);return}}p.image!==void 0?l.image=p.image:p.data!==void 0&&(l.image.width=p.width,l.image.height=p.height,l.image.data=p.data),l.wrapS=p.wrapS!==void 0?p.wrapS:Cr,l.wrapT=p.wrapT!==void 0?p.wrapT:Cr,l.magFilter=p.magFilter!==void 0?p.magFilter:Qi,l.minFilter=p.minFilter!==void 0?p.minFilter:Qi,l.anisotropy=p.anisotropy!==void 0?p.anisotropy:1,p.colorSpace!==void 0&&(l.colorSpace=p.colorSpace),p.flipY!==void 0&&(l.flipY=p.flipY),p.format!==void 0&&(l.format=p.format),p.type!==void 0&&(l.type=p.type),p.mipmaps!==void 0&&(l.mipmaps=p.mipmaps,l.minFilter=ol),p.mipmapCount===1&&(l.minFilter=Qi),p.generateMipmaps!==void 0&&(l.generateMipmaps=p.generateMipmaps),l.needsUpdate=!0,e&&e(l,p)},i,s),l}}class _4 extends Ia{constructor(t){super(t)}load(t,e,i,s){const r=new Ni,l=new Xg(this.manager);return l.setCrossOrigin(this.crossOrigin),l.setPath(this.path),l.load(t,function(u){r.image=u,r.needsUpdate=!0,e!==void 0&&e(r)},i,s),r}}class wu extends Tn{constructor(t,e=1){super(),this.isLight=!0,this.type="Light",this.color=new de(t),this.intensity=e}dispose(){}copy(t,e){return super.copy(t,e),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,this.groundColor!==void 0&&(e.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(e.object.distance=this.distance),this.angle!==void 0&&(e.object.angle=this.angle),this.decay!==void 0&&(e.object.decay=this.decay),this.penumbra!==void 0&&(e.object.penumbra=this.penumbra),this.shadow!==void 0&&(e.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(e.object.target=this.target.uuid),e}}class DN extends wu{constructor(t,e,i){super(t,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Tn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new de(e)}copy(t,e){return super.copy(t,e),this.groundColor.copy(t.groundColor),this}}const P1=new Ie,Fw=new W,Hw=new W;class DT{constructor(t){this.camera=t,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vt(512,512),this.map=null,this.mapPass=null,this.matrix=new Ie,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new f0,this._frameExtents=new Vt(1,1),this._viewportCount=1,this._viewports=[new Mn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,i=this.matrix;Fw.setFromMatrixPosition(t.matrixWorld),e.position.copy(Fw),Hw.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(Hw),e.updateMatrixWorld(),P1.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(P1),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(P1)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.intensity=t.intensity,this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const t={};return this.intensity!==1&&(t.intensity=this.intensity),this.bias!==0&&(t.bias=this.bias),this.normalBias!==0&&(t.normalBias=this.normalBias),this.radius!==1&&(t.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class S4 extends DT{constructor(){super(new ji(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(t){const e=this.camera,i=tp*2*t.angle*this.focus,s=this.mapSize.width/this.mapSize.height,r=t.distance||e.far;(i!==e.fov||s!==e.aspect||r!==e.far)&&(e.fov=i,e.aspect=s,e.far=r,e.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}class NN extends wu{constructor(t,e,i=0,s=Math.PI/3,r=0,l=2){super(t,e),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Tn.DEFAULT_UP),this.updateMatrix(),this.target=new Tn,this.distance=i,this.angle=s,this.penumbra=r,this.decay=l,this.map=null,this.shadow=new S4}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}const Gw=new Ie,Km=new W,z1=new W;class b4 extends DT{constructor(){super(new ji(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Vt(4,2),this._viewportCount=6,this._viewports=[new Mn(2,1,1,1),new Mn(0,1,1,1),new Mn(3,1,1,1),new Mn(1,1,1,1),new Mn(3,0,1,1),new Mn(1,0,1,1)],this._cubeDirections=[new W(1,0,0),new W(-1,0,0),new W(0,0,1),new W(0,0,-1),new W(0,1,0),new W(0,-1,0)],this._cubeUps=[new W(0,1,0),new W(0,1,0),new W(0,1,0),new W(0,1,0),new W(0,0,1),new W(0,0,-1)]}updateMatrices(t,e=0){const i=this.camera,s=this.matrix,r=t.distance||i.far;r!==i.far&&(i.far=r,i.updateProjectionMatrix()),Km.setFromMatrixPosition(t.matrixWorld),i.position.copy(Km),z1.copy(i.position),z1.add(this._cubeDirections[e]),i.up.copy(this._cubeUps[e]),i.lookAt(z1),i.updateMatrixWorld(),s.makeTranslation(-Km.x,-Km.y,-Km.z),Gw.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Gw)}}class LN extends wu{constructor(t,e,i=0,s=2){super(t,e),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=s,this.shadow=new b4}get power(){return this.intensity*4*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}class fh extends z_{constructor(t=-1,e=1,i=1,s=-1,r=.1,l=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=i,this.bottom=s,this.near=r,this.far=l,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=t.view===null?null:Object.assign({},t.view),this}setViewOffset(t,e,i,s,r,l){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=s,this.view.width=r,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,s=(this.top+this.bottom)/2;let r=i-t,l=i+t,u=s+e,h=s-e;if(this.view!==null&&this.view.enabled){const p=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=p*this.view.offsetX,l=r+p*this.view.width,u-=m*this.view.offsetY,h=u-m*this.view.height}this.projectionMatrix.makeOrthographic(r,l,u,h,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,this.view!==null&&(e.object.view=Object.assign({},this.view)),e}}class M4 extends DT{constructor(){super(new fh(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class UN extends wu{constructor(t,e){super(t,e),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Tn.DEFAULT_UP),this.updateMatrix(),this.target=new Tn,this.shadow=new M4}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}class ON extends wu{constructor(t,e){super(t,e),this.isAmbientLight=!0,this.type="AmbientLight"}}class PN extends wu{constructor(t,e,i=10,s=10){super(t,e),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=s}get power(){return this.intensity*this.width*this.height*Math.PI}set power(t){this.intensity=t/(this.width*this.height*Math.PI)}copy(t){return super.copy(t),this.width=t.width,this.height=t.height,this}toJSON(t){const e=super.toJSON(t);return e.object.width=this.width,e.object.height=this.height,e}}class zN{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new W)}set(t){for(let e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,e){const i=t.x,s=t.y,r=t.z,l=this.coefficients;return e.copy(l[0]).multiplyScalar(.282095),e.addScaledVector(l[1],.488603*s),e.addScaledVector(l[2],.488603*r),e.addScaledVector(l[3],.488603*i),e.addScaledVector(l[4],1.092548*(i*s)),e.addScaledVector(l[5],1.092548*(s*r)),e.addScaledVector(l[6],.315392*(3*r*r-1)),e.addScaledVector(l[7],1.092548*(i*r)),e.addScaledVector(l[8],.546274*(i*i-s*s)),e}getIrradianceAt(t,e){const i=t.x,s=t.y,r=t.z,l=this.coefficients;return e.copy(l[0]).multiplyScalar(.886227),e.addScaledVector(l[1],2*.511664*s),e.addScaledVector(l[2],2*.511664*r),e.addScaledVector(l[3],2*.511664*i),e.addScaledVector(l[4],2*.429043*i*s),e.addScaledVector(l[5],2*.429043*s*r),e.addScaledVector(l[6],.743125*r*r-.247708),e.addScaledVector(l[7],2*.429043*i*r),e.addScaledVector(l[8],.429043*(i*i-s*s)),e}add(t){for(let e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}addScaledSH(t,e){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(t.coefficients[i],e);return this}scale(t){for(let e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this}lerp(t,e){for(let i=0;i<9;i++)this.coefficients[i].lerp(t.coefficients[i],e);return this}equals(t){for(let e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(t,e=0){const i=this.coefficients;for(let s=0;s<9;s++)i[s].fromArray(t,e+s*3);return this}toArray(t=[],e=0){const i=this.coefficients;for(let s=0;s<9;s++)i[s].toArray(t,e+s*3);return t}static getBasisAt(t,e){const i=t.x,s=t.y,r=t.z;e[0]=.282095,e[1]=.488603*s,e[2]=.488603*r,e[3]=.488603*i,e[4]=1.092548*i*s,e[5]=1.092548*s*r,e[6]=.315392*(3*r*r-1),e[7]=1.092548*i*r,e[8]=.546274*(i*i-s*s)}}class BN extends wu{constructor(t=new zN,e=1){super(void 0,e),this.isLightProbe=!0,this.sh=t}copy(t){return super.copy(t),this.sh.copy(t.sh),this}fromJSON(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this}toJSON(t){const e=super.toJSON(t);return e.object.sh=this.sh.toArray(),e}}class nS extends Ia{constructor(t){super(t),this.textures={}}load(t,e,i,s){const r=this,l=new dc(r.manager);l.setPath(r.path),l.setRequestHeader(r.requestHeader),l.setWithCredentials(r.withCredentials),l.load(t,function(u){try{e(r.parse(JSON.parse(u)))}catch(h){s?s(h):console.error(h),r.manager.itemError(t)}},i,s)}parse(t){const e=this.textures;function i(r){return e[r]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",r),e[r]}const s=this.createMaterialFromType(t.type);if(t.uuid!==void 0&&(s.uuid=t.uuid),t.name!==void 0&&(s.name=t.name),t.color!==void 0&&s.color!==void 0&&s.color.setHex(t.color),t.roughness!==void 0&&(s.roughness=t.roughness),t.metalness!==void 0&&(s.metalness=t.metalness),t.sheen!==void 0&&(s.sheen=t.sheen),t.sheenColor!==void 0&&(s.sheenColor=new de().setHex(t.sheenColor)),t.sheenRoughness!==void 0&&(s.sheenRoughness=t.sheenRoughness),t.emissive!==void 0&&s.emissive!==void 0&&s.emissive.setHex(t.emissive),t.specular!==void 0&&s.specular!==void 0&&s.specular.setHex(t.specular),t.specularIntensity!==void 0&&(s.specularIntensity=t.specularIntensity),t.specularColor!==void 0&&s.specularColor!==void 0&&s.specularColor.setHex(t.specularColor),t.shininess!==void 0&&(s.shininess=t.shininess),t.clearcoat!==void 0&&(s.clearcoat=t.clearcoat),t.clearcoatRoughness!==void 0&&(s.clearcoatRoughness=t.clearcoatRoughness),t.dispersion!==void 0&&(s.dispersion=t.dispersion),t.iridescence!==void 0&&(s.iridescence=t.iridescence),t.iridescenceIOR!==void 0&&(s.iridescenceIOR=t.iridescenceIOR),t.iridescenceThicknessRange!==void 0&&(s.iridescenceThicknessRange=t.iridescenceThicknessRange),t.transmission!==void 0&&(s.transmission=t.transmission),t.thickness!==void 0&&(s.thickness=t.thickness),t.attenuationDistance!==void 0&&(s.attenuationDistance=t.attenuationDistance),t.attenuationColor!==void 0&&s.attenuationColor!==void 0&&s.attenuationColor.setHex(t.attenuationColor),t.anisotropy!==void 0&&(s.anisotropy=t.anisotropy),t.anisotropyRotation!==void 0&&(s.anisotropyRotation=t.anisotropyRotation),t.fog!==void 0&&(s.fog=t.fog),t.flatShading!==void 0&&(s.flatShading=t.flatShading),t.blending!==void 0&&(s.blending=t.blending),t.combine!==void 0&&(s.combine=t.combine),t.side!==void 0&&(s.side=t.side),t.shadowSide!==void 0&&(s.shadowSide=t.shadowSide),t.opacity!==void 0&&(s.opacity=t.opacity),t.transparent!==void 0&&(s.transparent=t.transparent),t.alphaTest!==void 0&&(s.alphaTest=t.alphaTest),t.alphaHash!==void 0&&(s.alphaHash=t.alphaHash),t.depthFunc!==void 0&&(s.depthFunc=t.depthFunc),t.depthTest!==void 0&&(s.depthTest=t.depthTest),t.depthWrite!==void 0&&(s.depthWrite=t.depthWrite),t.colorWrite!==void 0&&(s.colorWrite=t.colorWrite),t.blendSrc!==void 0&&(s.blendSrc=t.blendSrc),t.blendDst!==void 0&&(s.blendDst=t.blendDst),t.blendEquation!==void 0&&(s.blendEquation=t.blendEquation),t.blendSrcAlpha!==void 0&&(s.blendSrcAlpha=t.blendSrcAlpha),t.blendDstAlpha!==void 0&&(s.blendDstAlpha=t.blendDstAlpha),t.blendEquationAlpha!==void 0&&(s.blendEquationAlpha=t.blendEquationAlpha),t.blendColor!==void 0&&s.blendColor!==void 0&&s.blendColor.setHex(t.blendColor),t.blendAlpha!==void 0&&(s.blendAlpha=t.blendAlpha),t.stencilWriteMask!==void 0&&(s.stencilWriteMask=t.stencilWriteMask),t.stencilFunc!==void 0&&(s.stencilFunc=t.stencilFunc),t.stencilRef!==void 0&&(s.stencilRef=t.stencilRef),t.stencilFuncMask!==void 0&&(s.stencilFuncMask=t.stencilFuncMask),t.stencilFail!==void 0&&(s.stencilFail=t.stencilFail),t.stencilZFail!==void 0&&(s.stencilZFail=t.stencilZFail),t.stencilZPass!==void 0&&(s.stencilZPass=t.stencilZPass),t.stencilWrite!==void 0&&(s.stencilWrite=t.stencilWrite),t.wireframe!==void 0&&(s.wireframe=t.wireframe),t.wireframeLinewidth!==void 0&&(s.wireframeLinewidth=t.wireframeLinewidth),t.wireframeLinecap!==void 0&&(s.wireframeLinecap=t.wireframeLinecap),t.wireframeLinejoin!==void 0&&(s.wireframeLinejoin=t.wireframeLinejoin),t.rotation!==void 0&&(s.rotation=t.rotation),t.linewidth!==void 0&&(s.linewidth=t.linewidth),t.dashSize!==void 0&&(s.dashSize=t.dashSize),t.gapSize!==void 0&&(s.gapSize=t.gapSize),t.scale!==void 0&&(s.scale=t.scale),t.polygonOffset!==void 0&&(s.polygonOffset=t.polygonOffset),t.polygonOffsetFactor!==void 0&&(s.polygonOffsetFactor=t.polygonOffsetFactor),t.polygonOffsetUnits!==void 0&&(s.polygonOffsetUnits=t.polygonOffsetUnits),t.dithering!==void 0&&(s.dithering=t.dithering),t.alphaToCoverage!==void 0&&(s.alphaToCoverage=t.alphaToCoverage),t.premultipliedAlpha!==void 0&&(s.premultipliedAlpha=t.premultipliedAlpha),t.forceSinglePass!==void 0&&(s.forceSinglePass=t.forceSinglePass),t.visible!==void 0&&(s.visible=t.visible),t.toneMapped!==void 0&&(s.toneMapped=t.toneMapped),t.userData!==void 0&&(s.userData=t.userData),t.vertexColors!==void 0&&(typeof t.vertexColors=="number"?s.vertexColors=t.vertexColors>0:s.vertexColors=t.vertexColors),t.uniforms!==void 0)for(const r in t.uniforms){const l=t.uniforms[r];switch(s.uniforms[r]={},l.type){case"t":s.uniforms[r].value=i(l.value);break;case"c":s.uniforms[r].value=new de().setHex(l.value);break;case"v2":s.uniforms[r].value=new Vt().fromArray(l.value);break;case"v3":s.uniforms[r].value=new W().fromArray(l.value);break;case"v4":s.uniforms[r].value=new Mn().fromArray(l.value);break;case"m3":s.uniforms[r].value=new qe().fromArray(l.value);break;case"m4":s.uniforms[r].value=new Ie().fromArray(l.value);break;default:s.uniforms[r].value=l.value}}if(t.defines!==void 0&&(s.defines=t.defines),t.vertexShader!==void 0&&(s.vertexShader=t.vertexShader),t.fragmentShader!==void 0&&(s.fragmentShader=t.fragmentShader),t.glslVersion!==void 0&&(s.glslVersion=t.glslVersion),t.extensions!==void 0)for(const r in t.extensions)s.extensions[r]=t.extensions[r];if(t.lights!==void 0&&(s.lights=t.lights),t.clipping!==void 0&&(s.clipping=t.clipping),t.size!==void 0&&(s.size=t.size),t.sizeAttenuation!==void 0&&(s.sizeAttenuation=t.sizeAttenuation),t.map!==void 0&&(s.map=i(t.map)),t.matcap!==void 0&&(s.matcap=i(t.matcap)),t.alphaMap!==void 0&&(s.alphaMap=i(t.alphaMap)),t.bumpMap!==void 0&&(s.bumpMap=i(t.bumpMap)),t.bumpScale!==void 0&&(s.bumpScale=t.bumpScale),t.normalMap!==void 0&&(s.normalMap=i(t.normalMap)),t.normalMapType!==void 0&&(s.normalMapType=t.normalMapType),t.normalScale!==void 0){let r=t.normalScale;Array.isArray(r)===!1&&(r=[r,r]),s.normalScale=new Vt().fromArray(r)}return t.displacementMap!==void 0&&(s.displacementMap=i(t.displacementMap)),t.displacementScale!==void 0&&(s.displacementScale=t.displacementScale),t.displacementBias!==void 0&&(s.displacementBias=t.displacementBias),t.roughnessMap!==void 0&&(s.roughnessMap=i(t.roughnessMap)),t.metalnessMap!==void 0&&(s.metalnessMap=i(t.metalnessMap)),t.emissiveMap!==void 0&&(s.emissiveMap=i(t.emissiveMap)),t.emissiveIntensity!==void 0&&(s.emissiveIntensity=t.emissiveIntensity),t.specularMap!==void 0&&(s.specularMap=i(t.specularMap)),t.specularIntensityMap!==void 0&&(s.specularIntensityMap=i(t.specularIntensityMap)),t.specularColorMap!==void 0&&(s.specularColorMap=i(t.specularColorMap)),t.envMap!==void 0&&(s.envMap=i(t.envMap)),t.envMapRotation!==void 0&&s.envMapRotation.fromArray(t.envMapRotation),t.envMapIntensity!==void 0&&(s.envMapIntensity=t.envMapIntensity),t.reflectivity!==void 0&&(s.reflectivity=t.reflectivity),t.refractionRatio!==void 0&&(s.refractionRatio=t.refractionRatio),t.lightMap!==void 0&&(s.lightMap=i(t.lightMap)),t.lightMapIntensity!==void 0&&(s.lightMapIntensity=t.lightMapIntensity),t.aoMap!==void 0&&(s.aoMap=i(t.aoMap)),t.aoMapIntensity!==void 0&&(s.aoMapIntensity=t.aoMapIntensity),t.gradientMap!==void 0&&(s.gradientMap=i(t.gradientMap)),t.clearcoatMap!==void 0&&(s.clearcoatMap=i(t.clearcoatMap)),t.clearcoatRoughnessMap!==void 0&&(s.clearcoatRoughnessMap=i(t.clearcoatRoughnessMap)),t.clearcoatNormalMap!==void 0&&(s.clearcoatNormalMap=i(t.clearcoatNormalMap)),t.clearcoatNormalScale!==void 0&&(s.clearcoatNormalScale=new Vt().fromArray(t.clearcoatNormalScale)),t.iridescenceMap!==void 0&&(s.iridescenceMap=i(t.iridescenceMap)),t.iridescenceThicknessMap!==void 0&&(s.iridescenceThicknessMap=i(t.iridescenceThicknessMap)),t.transmissionMap!==void 0&&(s.transmissionMap=i(t.transmissionMap)),t.thicknessMap!==void 0&&(s.thicknessMap=i(t.thicknessMap)),t.anisotropyMap!==void 0&&(s.anisotropyMap=i(t.anisotropyMap)),t.sheenColorMap!==void 0&&(s.sheenColorMap=i(t.sheenColorMap)),t.sheenRoughnessMap!==void 0&&(s.sheenRoughnessMap=i(t.sheenRoughnessMap)),s}setTextures(t){return this.textures=t,this}createMaterialFromType(t){return nS.createMaterialFromType(t)}static createMaterialFromType(t){const e={ShadowMaterial:gN,SpriteMaterial:dT,RawShaderMaterial:vN,ShaderMaterial:_o,PointsMaterial:mT,MeshPhysicalMaterial:yN,MeshStandardMaterial:MT,MeshPhongMaterial:xN,MeshToonMaterial:_N,MeshNormalMaterial:SN,MeshLambertMaterial:bN,MeshDepthMaterial:TT,MeshDistanceMaterial:ET,MeshBasicMaterial:Eu,MeshMatcapMaterial:MN,LineDashedMaterial:TN,LineBasicMaterial:ma,Material:Ks};return new e[t]}}class Wb{static decodeText(t){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(t);let e="";for(let i=0,s=t.length;i<s;i++)e+=String.fromCharCode(t[i]);try{return decodeURIComponent(escape(e))}catch{return e}}static extractUrlBase(t){const e=t.lastIndexOf("/");return e===-1?"./":t.slice(0,e+1)}static resolveURL(t,e){return typeof t!="string"||t===""?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}}class VN extends tn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(t){return super.copy(t),this.instanceCount=t.instanceCount,this}toJSON(){const t=super.toJSON();return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}class IN extends Ia{constructor(t){super(t)}load(t,e,i,s){const r=this,l=new dc(r.manager);l.setPath(r.path),l.setRequestHeader(r.requestHeader),l.setWithCredentials(r.withCredentials),l.load(t,function(u){try{e(r.parse(JSON.parse(u)))}catch(h){s?s(h):console.error(h),r.manager.itemError(t)}},i,s)}parse(t){const e={},i={};function s(_,T){if(e[T]!==void 0)return e[T];const E=_.interleavedBuffers[T],M=r(_,E.buffer),R=Od(E.type,M),D=new I_(R,E.stride);return D.uuid=E.uuid,e[T]=D,D}function r(_,T){if(i[T]!==void 0)return i[T];const E=_.arrayBuffers[T],M=new Uint32Array(E).buffer;return i[T]=M,M}const l=t.isInstancedBufferGeometry?new VN:new tn,u=t.data.index;if(u!==void 0){const _=Od(u.type,u.array);l.setIndex(new jn(_,1))}const h=t.data.attributes;for(const _ in h){const T=h[_];let C;if(T.isInterleavedBufferAttribute){const E=s(t.data,T.data);C=new ah(E,T.itemSize,T.offset,T.normalized)}else{const E=Od(T.type,T.array),M=T.isInstancedBufferAttribute?ip:jn;C=new M(E,T.itemSize,T.normalized)}T.name!==void 0&&(C.name=T.name),T.usage!==void 0&&C.setUsage(T.usage),l.setAttribute(_,C)}const p=t.data.morphAttributes;if(p)for(const _ in p){const T=p[_],C=[];for(let E=0,M=T.length;E<M;E++){const R=T[E];let D;if(R.isInterleavedBufferAttribute){const L=s(t.data,R.data);D=new ah(L,R.itemSize,R.offset,R.normalized)}else{const L=Od(R.type,R.array);D=new jn(L,R.itemSize,R.normalized)}R.name!==void 0&&(D.name=R.name),C.push(D)}l.morphAttributes[_]=C}t.data.morphTargetsRelative&&(l.morphTargetsRelative=!0);const v=t.data.groups||t.data.drawcalls||t.data.offsets;if(v!==void 0)for(let _=0,T=v.length;_!==T;++_){const C=v[_];l.addGroup(C.start,C.count,C.materialIndex)}const x=t.data.boundingSphere;if(x!==void 0){const _=new W;x.center!==void 0&&_.fromArray(x.center),l.boundingSphere=new Zs(_,x.radius)}return t.name&&(l.name=t.name),t.userData&&(l.userData=t.userData),l}}class T4 extends Ia{constructor(t){super(t)}load(t,e,i,s){const r=this,l=this.path===""?Wb.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||l;const u=new dc(this.manager);u.setPath(this.path),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(t,function(h){let p=null;try{p=JSON.parse(h)}catch(v){s!==void 0&&s(v),console.error("THREE:ObjectLoader: Can't parse "+t+".",v.message);return}const m=p.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){s!==void 0&&s(new Error("THREE.ObjectLoader: Can't load "+t)),console.error("THREE.ObjectLoader: Can't load "+t);return}r.parse(p,e)},i,s)}async loadAsync(t,e){const i=this,s=this.path===""?Wb.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||s;const r=new dc(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials);const l=await r.loadAsync(t,e),u=JSON.parse(l),h=u.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+t);return await i.parseAsync(u)}parse(t,e){const i=this.parseAnimations(t.animations),s=this.parseShapes(t.shapes),r=this.parseGeometries(t.geometries,s),l=this.parseImages(t.images,function(){e!==void 0&&e(p)}),u=this.parseTextures(t.textures,l),h=this.parseMaterials(t.materials,u),p=this.parseObject(t.object,r,h,u,i),m=this.parseSkeletons(t.skeletons,p);if(this.bindSkeletons(p,m),this.bindLightTargets(p),e!==void 0){let v=!1;for(const x in l)if(l[x].data instanceof HTMLImageElement){v=!0;break}v===!1&&e(p)}return p}async parseAsync(t){const e=this.parseAnimations(t.animations),i=this.parseShapes(t.shapes),s=this.parseGeometries(t.geometries,i),r=await this.parseImagesAsync(t.images),l=this.parseTextures(t.textures,r),u=this.parseMaterials(t.materials,l),h=this.parseObject(t.object,s,u,l,e),p=this.parseSkeletons(t.skeletons,h);return this.bindSkeletons(h,p),this.bindLightTargets(h),h}parseShapes(t){const e={};if(t!==void 0)for(let i=0,s=t.length;i<s;i++){const r=new $f().fromJSON(t[i]);e[r.uuid]=r}return e}parseSkeletons(t,e){const i={},s={};if(e.traverse(function(r){r.isBone&&(s[r.uuid]=r)}),t!==void 0)for(let r=0,l=t.length;r<l;r++){const u=new F_().fromJSON(t[r],s);i[u.uuid]=u}return i}parseGeometries(t,e){const i={};if(t!==void 0){const s=new IN;for(let r=0,l=t.length;r<l;r++){let u;const h=t[r];switch(h.type){case"BufferGeometry":case"InstancedBufferGeometry":u=s.parse(h);break;default:h.type in Iw?u=Iw[h.type].fromJSON(h,e):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${h.type}"`)}u.uuid=h.uuid,h.name!==void 0&&(u.name=h.name),h.userData!==void 0&&(u.userData=h.userData),i[h.uuid]=u}}return i}parseMaterials(t,e){const i={},s={};if(t!==void 0){const r=new nS;r.setTextures(e);for(let l=0,u=t.length;l<u;l++){const h=t[l];i[h.uuid]===void 0&&(i[h.uuid]=r.parse(h)),s[h.uuid]=i[h.uuid]}}return s}parseAnimations(t){const e={};if(t!==void 0)for(let i=0;i<t.length;i++){const s=t[i],r=jg.parse(s);e[r.uuid]=r}return e}parseImages(t,e){const i=this,s={};let r;function l(h){return i.manager.itemStart(h),r.load(h,function(){i.manager.itemEnd(h)},void 0,function(){i.manager.itemError(h),i.manager.itemEnd(h)})}function u(h){if(typeof h=="string"){const p=h,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:i.resourcePath+p;return l(m)}else return h.data?{data:Od(h.type,h.data),width:h.width,height:h.height}:null}if(t!==void 0&&t.length>0){const h=new RT(e);r=new Xg(h),r.setCrossOrigin(this.crossOrigin);for(let p=0,m=t.length;p<m;p++){const v=t[p],x=v.url;if(Array.isArray(x)){const _=[];for(let T=0,C=x.length;T<C;T++){const E=x[T],M=u(E);M!==null&&(M instanceof HTMLImageElement?_.push(M):_.push(new cl(M.data,M.width,M.height)))}s[v.uuid]=new jf(_)}else{const _=u(v.url);s[v.uuid]=new jf(_)}}}return s}async parseImagesAsync(t){const e=this,i={};let s;async function r(l){if(typeof l=="string"){const u=l,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:e.resourcePath+u;return await s.loadAsync(h)}else return l.data?{data:Od(l.type,l.data),width:l.width,height:l.height}:null}if(t!==void 0&&t.length>0){s=new Xg(this.manager),s.setCrossOrigin(this.crossOrigin);for(let l=0,u=t.length;l<u;l++){const h=t[l],p=h.url;if(Array.isArray(p)){const m=[];for(let v=0,x=p.length;v<x;v++){const _=p[v],T=await r(_);T!==null&&(T instanceof HTMLImageElement?m.push(T):m.push(new cl(T.data,T.width,T.height)))}i[h.uuid]=new jf(m)}else{const m=await r(h.url);i[h.uuid]=new jf(m)}}}return i}parseTextures(t,e){function i(r,l){return typeof r=="number"?r:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",r),l[r])}const s={};if(t!==void 0)for(let r=0,l=t.length;r<l;r++){const u=t[r];u.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',u.uuid),e[u.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",u.image);const h=e[u.image],p=h.data;let m;Array.isArray(p)?(m=new u0,p.length===6&&(m.needsUpdate=!0)):(p&&p.data?m=new cl:m=new Ni,p&&(m.needsUpdate=!0)),m.source=h,m.uuid=u.uuid,u.name!==void 0&&(m.name=u.name),u.mapping!==void 0&&(m.mapping=i(u.mapping,E4)),u.channel!==void 0&&(m.channel=u.channel),u.offset!==void 0&&m.offset.fromArray(u.offset),u.repeat!==void 0&&m.repeat.fromArray(u.repeat),u.center!==void 0&&m.center.fromArray(u.center),u.rotation!==void 0&&(m.rotation=u.rotation),u.wrap!==void 0&&(m.wrapS=i(u.wrap[0],kw),m.wrapT=i(u.wrap[1],kw)),u.format!==void 0&&(m.format=u.format),u.internalFormat!==void 0&&(m.internalFormat=u.internalFormat),u.type!==void 0&&(m.type=u.type),u.colorSpace!==void 0&&(m.colorSpace=u.colorSpace),u.minFilter!==void 0&&(m.minFilter=i(u.minFilter,jw)),u.magFilter!==void 0&&(m.magFilter=i(u.magFilter,jw)),u.anisotropy!==void 0&&(m.anisotropy=u.anisotropy),u.flipY!==void 0&&(m.flipY=u.flipY),u.generateMipmaps!==void 0&&(m.generateMipmaps=u.generateMipmaps),u.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=u.premultiplyAlpha),u.unpackAlignment!==void 0&&(m.unpackAlignment=u.unpackAlignment),u.compareFunction!==void 0&&(m.compareFunction=u.compareFunction),u.userData!==void 0&&(m.userData=u.userData),s[u.uuid]=m}return s}parseObject(t,e,i,s,r){let l;function u(x){return e[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",x),e[x]}function h(x){if(x!==void 0){if(Array.isArray(x)){const _=[];for(let T=0,C=x.length;T<C;T++){const E=x[T];i[E]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",E),_.push(i[E])}return _}return i[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),i[x]}}function p(x){return s[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",x),s[x]}let m,v;switch(t.type){case"Scene":l=new hT,t.background!==void 0&&(Number.isInteger(t.background)?l.background=new de(t.background):l.background=p(t.background)),t.environment!==void 0&&(l.environment=p(t.environment)),t.fog!==void 0&&(t.fog.type==="Fog"?l.fog=new V_(t.fog.color,t.fog.near,t.fog.far):t.fog.type==="FogExp2"&&(l.fog=new B_(t.fog.color,t.fog.density)),t.fog.name!==""&&(l.fog.name=t.fog.name)),t.backgroundBlurriness!==void 0&&(l.backgroundBlurriness=t.backgroundBlurriness),t.backgroundIntensity!==void 0&&(l.backgroundIntensity=t.backgroundIntensity),t.backgroundRotation!==void 0&&l.backgroundRotation.fromArray(t.backgroundRotation),t.environmentIntensity!==void 0&&(l.environmentIntensity=t.environmentIntensity),t.environmentRotation!==void 0&&l.environmentRotation.fromArray(t.environmentRotation);break;case"PerspectiveCamera":l=new ji(t.fov,t.aspect,t.near,t.far),t.focus!==void 0&&(l.focus=t.focus),t.zoom!==void 0&&(l.zoom=t.zoom),t.filmGauge!==void 0&&(l.filmGauge=t.filmGauge),t.filmOffset!==void 0&&(l.filmOffset=t.filmOffset),t.view!==void 0&&(l.view=Object.assign({},t.view));break;case"OrthographicCamera":l=new fh(t.left,t.right,t.top,t.bottom,t.near,t.far),t.zoom!==void 0&&(l.zoom=t.zoom),t.view!==void 0&&(l.view=Object.assign({},t.view));break;case"AmbientLight":l=new ON(t.color,t.intensity);break;case"DirectionalLight":l=new UN(t.color,t.intensity),l.target=t.target||"";break;case"PointLight":l=new LN(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":l=new PN(t.color,t.intensity,t.width,t.height);break;case"SpotLight":l=new NN(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay),l.target=t.target||"";break;case"HemisphereLight":l=new DN(t.color,t.groundColor,t.intensity);break;case"LightProbe":l=new BN().fromJSON(t);break;case"SkinnedMesh":m=u(t.geometry),v=h(t.material),l=new tN(m,v),t.bindMode!==void 0&&(l.bindMode=t.bindMode),t.bindMatrix!==void 0&&l.bindMatrix.fromArray(t.bindMatrix),t.skeleton!==void 0&&(l.skeleton=t.skeleton);break;case"Mesh":m=u(t.geometry),v=h(t.material),l=new Xi(m,v);break;case"InstancedMesh":m=u(t.geometry),v=h(t.material);const x=t.count,_=t.instanceMatrix,T=t.instanceColor;l=new eN(m,v,x),l.instanceMatrix=new ip(new Float32Array(_.array),16),T!==void 0&&(l.instanceColor=new ip(new Float32Array(T.array),T.itemSize));break;case"BatchedMesh":m=u(t.geometry),v=h(t.material),l=new nN(t.maxInstanceCount,t.maxVertexCount,t.maxIndexCount,v),l.geometry=m,l.perObjectFrustumCulled=t.perObjectFrustumCulled,l.sortObjects=t.sortObjects,l._drawRanges=t.drawRanges,l._reservedRanges=t.reservedRanges,l._visibility=t.visibility,l._active=t.active,l._bounds=t.bounds.map(C=>{const E=new pa;E.min.fromArray(C.boxMin),E.max.fromArray(C.boxMax);const M=new Zs;return M.radius=C.sphereRadius,M.center.fromArray(C.sphereCenter),{boxInitialized:C.boxInitialized,box:E,sphereInitialized:C.sphereInitialized,sphere:M}}),l._maxInstanceCount=t.maxInstanceCount,l._maxVertexCount=t.maxVertexCount,l._maxIndexCount=t.maxIndexCount,l._geometryInitialized=t.geometryInitialized,l._geometryCount=t.geometryCount,l._matricesTexture=p(t.matricesTexture.uuid),t.colorsTexture!==void 0&&(l._colorsTexture=p(t.colorsTexture.uuid));break;case"LOD":l=new J3;break;case"Line":l=new _u(u(t.geometry),h(t.material));break;case"LineLoop":l=new iN(u(t.geometry),h(t.material));break;case"LineSegments":l=new xl(u(t.geometry),h(t.material));break;case"PointCloud":case"Points":l=new sN(u(t.geometry),h(t.material));break;case"Sprite":l=new $3(h(t.material));break;case"Group":l=new Pd;break;case"Bone":l=new pT;break;default:l=new Tn}if(l.uuid=t.uuid,t.name!==void 0&&(l.name=t.name),t.matrix!==void 0?(l.matrix.fromArray(t.matrix),t.matrixAutoUpdate!==void 0&&(l.matrixAutoUpdate=t.matrixAutoUpdate),l.matrixAutoUpdate&&l.matrix.decompose(l.position,l.quaternion,l.scale)):(t.position!==void 0&&l.position.fromArray(t.position),t.rotation!==void 0&&l.rotation.fromArray(t.rotation),t.quaternion!==void 0&&l.quaternion.fromArray(t.quaternion),t.scale!==void 0&&l.scale.fromArray(t.scale)),t.up!==void 0&&l.up.fromArray(t.up),t.castShadow!==void 0&&(l.castShadow=t.castShadow),t.receiveShadow!==void 0&&(l.receiveShadow=t.receiveShadow),t.shadow&&(t.shadow.intensity!==void 0&&(l.shadow.intensity=t.shadow.intensity),t.shadow.bias!==void 0&&(l.shadow.bias=t.shadow.bias),t.shadow.normalBias!==void 0&&(l.shadow.normalBias=t.shadow.normalBias),t.shadow.radius!==void 0&&(l.shadow.radius=t.shadow.radius),t.shadow.mapSize!==void 0&&l.shadow.mapSize.fromArray(t.shadow.mapSize),t.shadow.camera!==void 0&&(l.shadow.camera=this.parseObject(t.shadow.camera))),t.visible!==void 0&&(l.visible=t.visible),t.frustumCulled!==void 0&&(l.frustumCulled=t.frustumCulled),t.renderOrder!==void 0&&(l.renderOrder=t.renderOrder),t.userData!==void 0&&(l.userData=t.userData),t.layers!==void 0&&(l.layers.mask=t.layers),t.children!==void 0){const x=t.children;for(let _=0;_<x.length;_++)l.add(this.parseObject(x[_],e,i,s,r))}if(t.animations!==void 0){const x=t.animations;for(let _=0;_<x.length;_++){const T=x[_];l.animations.push(r[T])}}if(t.type==="LOD"){t.autoUpdate!==void 0&&(l.autoUpdate=t.autoUpdate);const x=t.levels;for(let _=0;_<x.length;_++){const T=x[_],C=l.getObjectByProperty("uuid",T.object);C!==void 0&&l.addLevel(C,T.distance,T.hysteresis)}}return l}bindSkeletons(t,e){Object.keys(e).length!==0&&t.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const s=e[i.skeleton];s===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(s,i.bindMatrix)}})}bindLightTargets(t){t.traverse(function(e){if(e.isDirectionalLight||e.isSpotLight){const i=e.target,s=t.getObjectByProperty("uuid",i);s!==void 0?e.target=s:e.target=new Tn}})}}const E4={UVMapping:A_,CubeReflectionMapping:fc,CubeRefractionMapping:yu,EquirectangularReflectionMapping:Cg,EquirectangularRefractionMapping:Rg,CubeUVReflectionMapping:fp},kw={RepeatWrapping:Dg,ClampToEdgeWrapping:Cr,MirroredRepeatWrapping:Ng},jw={NearestFilter:Ds,NearestMipmapNearestFilter:QM,NearestMipmapLinearFilter:Ud,LinearFilter:Qi,LinearMipmapNearestFilter:lg,LinearMipmapLinearFilter:ol};class A4 extends Ia{constructor(t){super(t),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(t){return this.options=t,this}load(t,e,i,s){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,l=ac.get(t);if(l!==void 0){if(r.manager.itemStart(t),l.then){l.then(p=>{e&&e(p),r.manager.itemEnd(t)}).catch(p=>{s&&s(p)});return}return setTimeout(function(){e&&e(l),r.manager.itemEnd(t)},0),l}const u={};u.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",u.headers=this.requestHeader;const h=fetch(t,u).then(function(p){return p.blob()}).then(function(p){return createImageBitmap(p,Object.assign(r.options,{colorSpaceConversion:"none"}))}).then(function(p){return ac.add(t,p),e&&e(p),r.manager.itemEnd(t),p}).catch(function(p){s&&s(p),ac.remove(t),r.manager.itemError(t),r.manager.itemEnd(t)});ac.add(t,h),r.manager.itemStart(t)}}let Iy;class NT{static getContext(){return Iy===void 0&&(Iy=new(window.AudioContext||window.webkitAudioContext)),Iy}static setContext(t){Iy=t}}class w4 extends Ia{constructor(t){super(t)}load(t,e,i,s){const r=this,l=new dc(this.manager);l.setResponseType("arraybuffer"),l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(t,function(h){try{const p=h.slice(0);NT.getContext().decodeAudioData(p,function(v){e(v)}).catch(u)}catch(p){u(p)}},i,s);function u(h){s?s(h):console.error(h),r.manager.itemError(t)}}}const Xw=new Ie,qw=new Ie,Af=new Ie;class C4{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new ji,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ji,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(t){const e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep,Af.copy(t.projectionMatrix);const s=e.eyeSep/2,r=s*e.near/e.focus,l=e.near*Math.tan(Qf*e.fov*.5)/e.zoom;let u,h;qw.elements[12]=-s,Xw.elements[12]=s,u=-l*e.aspect+r,h=l*e.aspect+r,Af.elements[0]=2*e.near/(h-u),Af.elements[8]=(h+u)/(h-u),this.cameraL.projectionMatrix.copy(Af),u=-l*e.aspect-r,h=l*e.aspect-r,Af.elements[0]=2*e.near/(h-u),Af.elements[8]=(h+u)/(h-u),this.cameraR.projectionMatrix.copy(Af)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(qw),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(Xw)}}class FN extends ji{constructor(t=[]){super(),this.isArrayCamera=!0,this.cameras=t,this.index=0}}class LT{constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Yw(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const e=Yw();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}function Yw(){return performance.now()}const wf=new W,Ww=new Ba,R4=new W,Cf=new W;class D4 extends Tn{constructor(){super(),this.type="AudioListener",this.context=NT.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new LT}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(t){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}updateMatrixWorld(t){super.updateMatrixWorld(t);const e=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(wf,Ww,R4),Cf.set(0,0,-1).applyQuaternion(Ww),e.positionX){const s=this.context.currentTime+this.timeDelta;e.positionX.linearRampToValueAtTime(wf.x,s),e.positionY.linearRampToValueAtTime(wf.y,s),e.positionZ.linearRampToValueAtTime(wf.z,s),e.forwardX.linearRampToValueAtTime(Cf.x,s),e.forwardY.linearRampToValueAtTime(Cf.y,s),e.forwardZ.linearRampToValueAtTime(Cf.z,s),e.upX.linearRampToValueAtTime(i.x,s),e.upY.linearRampToValueAtTime(i.y,s),e.upZ.linearRampToValueAtTime(i.z,s)}else e.setPosition(wf.x,wf.y,wf.z),e.setOrientation(Cf.x,Cf.y,Cf.z,i.x,i.y,i.z)}}class HN extends Tn{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}play(t=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+t;const e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(t=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+t),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(t){return t||(t=[]),this._connected===!0?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){return this.detune=t,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=t,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=t,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}copy(t,e){return super.copy(t,e),t.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=t.autoplay,this.buffer=t.buffer,this.detune=t.detune,this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.offset=t.offset,this.duration=t.duration,this.playbackRate=t.playbackRate,this.hasPlaybackControl=t.hasPlaybackControl,this.sourceType=t.sourceType,this.filters=t.filters.slice(),this)}clone(t){return new this.constructor(this.listener).copy(this,t)}}const Rf=new W,Zw=new Ba,N4=new W,Df=new W;class L4 extends HN{constructor(t){super(t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(t){return this.panner.refDistance=t,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(t){return this.panner.rolloffFactor=t,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(t){return this.panner.distanceModel=t,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(t){return this.panner.maxDistance=t,this}setDirectionalCone(t,e,i){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=i,this}updateMatrixWorld(t){if(super.updateMatrixWorld(t),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Rf,Zw,N4),Df.set(0,0,1).applyQuaternion(Zw);const e=this.panner;if(e.positionX){const i=this.context.currentTime+this.listener.timeDelta;e.positionX.linearRampToValueAtTime(Rf.x,i),e.positionY.linearRampToValueAtTime(Rf.y,i),e.positionZ.linearRampToValueAtTime(Rf.z,i),e.orientationX.linearRampToValueAtTime(Df.x,i),e.orientationY.linearRampToValueAtTime(Df.y,i),e.orientationZ.linearRampToValueAtTime(Df.z,i)}else e.setPosition(Rf.x,Rf.y,Rf.z),e.setOrientation(Df.x,Df.y,Df.z)}}class U4{constructor(t,e=2048){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=e,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let t=0;const e=this.getFrequencyData();for(let i=0;i<e.length;i++)t+=e[i];return t/e.length}}class GN{constructor(t,e,i){this.binding=t,this.valueSize=i;let s,r,l;switch(e){case"quaternion":s=this._slerp,r=this._slerpAdditive,l=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":s=this._select,r=this._select,l=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:s=this._lerp,r=this._lerpAdditive,l=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=s,this._mixBufferRegionAdditive=r,this._setIdentity=l,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(t,e){const i=this.buffer,s=this.valueSize,r=t*s+s;let l=this.cumulativeWeight;if(l===0){for(let u=0;u!==s;++u)i[r+u]=i[u];l=e}else{l+=e;const u=e/l;this._mixBufferRegion(i,r,0,u,s)}this.cumulativeWeight=l}accumulateAdditive(t){const e=this.buffer,i=this.valueSize,s=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(e,s,0,t,i),this.cumulativeWeightAdditive+=t}apply(t){const e=this.valueSize,i=this.buffer,s=t*e+e,r=this.cumulativeWeight,l=this.cumulativeWeightAdditive,u=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const h=e*this._origIndex;this._mixBufferRegion(i,s,h,1-r,e)}l>0&&this._mixBufferRegionAdditive(i,s,this._addIndex*e,1,e);for(let h=e,p=e+e;h!==p;++h)if(i[h]!==i[h+e]){u.setValue(i,s);break}}saveOriginalState(){const t=this.binding,e=this.buffer,i=this.valueSize,s=i*this._origIndex;t.getValue(e,s);for(let r=i,l=s;r!==l;++r)e[r]=e[s+r%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const t=this.valueSize*3;this.binding.setValue(this.buffer,t)}_setAdditiveIdentityNumeric(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let i=t;i<e;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[e+i]=this.buffer[t+i]}_select(t,e,i,s,r){if(s>=.5)for(let l=0;l!==r;++l)t[e+l]=t[i+l]}_slerp(t,e,i,s){Ba.slerpFlat(t,e,t,e,t,i,s)}_slerpAdditive(t,e,i,s,r){const l=this._workIndex*r;Ba.multiplyQuaternionsFlat(t,l,t,e,t,i),Ba.slerpFlat(t,e,t,e,t,l,s)}_lerp(t,e,i,s,r){const l=1-s;for(let u=0;u!==r;++u){const h=e+u;t[h]=t[h]*l+t[i+u]*s}}_lerpAdditive(t,e,i,s,r){for(let l=0;l!==r;++l){const u=e+l;t[u]=t[u]+t[i+l]*s}}}const UT="\\[\\]\\.:\\/",O4=new RegExp("["+UT+"]","g"),OT="[^"+UT+"]",P4="[^"+UT.replace("\\.","")+"]",z4=/((?:WC+[\/:])*)/.source.replace("WC",OT),B4=/(WCOD+)?/.source.replace("WCOD",P4),V4=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",OT),I4=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",OT),F4=new RegExp("^"+z4+B4+V4+I4+"$"),H4=["material","materials","bones","map"];class G4{constructor(t,e,i){const s=i||bn.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,s)}getValue(t,e){this.bind();const i=this._targetGroup.nCachedObjects_,s=this._bindings[i];s!==void 0&&s.getValue(t,e)}setValue(t,e){const i=this._bindings;for(let s=this._targetGroup.nCachedObjects_,r=i.length;s!==r;++s)i[s].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].unbind()}}class bn{constructor(t,e,i){this.path=e,this.parsedPath=i||bn.parseTrackName(e),this.node=bn.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,e,i){return t&&t.isAnimationObjectGroup?new bn.Composite(t,e,i):new bn(t,e,i)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(O4,"")}static parseTrackName(t){const e=F4.exec(t);if(e===null)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const i={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},s=i.nodeName&&i.nodeName.lastIndexOf(".");if(s!==void 0&&s!==-1){const r=i.nodeName.substring(s+1);H4.indexOf(r)!==-1&&(i.nodeName=i.nodeName.substring(0,s),i.objectName=r)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return i}static findNode(t,e){if(e===void 0||e===""||e==="."||e===-1||e===t.name||e===t.uuid)return t;if(t.skeleton){const i=t.skeleton.getBoneByName(e);if(i!==void 0)return i}if(t.children){const i=function(r){for(let l=0;l<r.length;l++){const u=r[l];if(u.name===e||u.uuid===e)return u;const h=i(u.children);if(h)return h}return null},s=i(t.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,e){t[e]=this.targetObject[this.propertyName]}_getValue_array(t,e){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)t[e++]=i[s]}_getValue_arrayElement(t,e){t[e]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,e){this.resolvedProperty.toArray(t,e)}_setValue_direct(t,e){this.targetObject[this.propertyName]=t[e]}_setValue_direct_setNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,e){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)i[s]=t[e++]}_setValue_array_setNeedsUpdate(t,e){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)i[s]=t[e++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,e){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)i[s]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,e){this.resolvedProperty[this.propertyIndex]=t[e]}_setValue_arrayElement_setNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,e){this.resolvedProperty.fromArray(t,e)}_setValue_fromArray_setNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,e){this.bind(),this.getValue(t,e)}_setValue_unbound(t,e){this.bind(),this.setValue(t,e)}bind(){let t=this.node;const e=this.parsedPath,i=e.objectName,s=e.propertyName;let r=e.propertyIndex;if(t||(t=bn.findNode(this.rootNode,e.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let p=e.objectIndex;switch(i){case"materials":if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}t=t.material.materials;break;case"bones":if(!t.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}t=t.skeleton.bones;for(let m=0;m<t.length;m++)if(t[m].name===p){p=m;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}t=t.material.map;break;default:if(t[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}t=t[i]}if(p!==void 0){if(t[p]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);return}t=t[p]}}const l=t[s];if(l===void 0){const p=e.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+p+"."+s+" but it wasn't found.",t);return}let u=this.Versioning.None;this.targetObject=t,t.isMaterial===!0?u=this.Versioning.NeedsUpdate:t.isObject3D===!0&&(u=this.Versioning.MatrixWorldNeedsUpdate);let h=this.BindingType.Direct;if(r!==void 0){if(s==="morphTargetInfluences"){if(!t.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!t.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}t.morphTargetDictionary[r]!==void 0&&(r=t.morphTargetDictionary[r])}h=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=r}else l.fromArray!==void 0&&l.toArray!==void 0?(h=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(h=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=s;this.getValue=this.GetterByBindingType[h],this.setValue=this.SetterByBindingTypeAndVersioning[h][u]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}bn.Composite=G4;bn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};bn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};bn.prototype.GetterByBindingType=[bn.prototype._getValue_direct,bn.prototype._getValue_array,bn.prototype._getValue_arrayElement,bn.prototype._getValue_toArray];bn.prototype.SetterByBindingTypeAndVersioning=[[bn.prototype._setValue_direct,bn.prototype._setValue_direct_setNeedsUpdate,bn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[bn.prototype._setValue_array,bn.prototype._setValue_array_setNeedsUpdate,bn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[bn.prototype._setValue_arrayElement,bn.prototype._setValue_arrayElement_setNeedsUpdate,bn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[bn.prototype._setValue_fromArray,bn.prototype._setValue_fromArray_setNeedsUpdate,bn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class k4{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ir(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const t={};this._indicesByUUID=t;for(let i=0,s=arguments.length;i!==s;++i)t[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}}add(){const t=this._objects,e=this._indicesByUUID,i=this._paths,s=this._parsedPaths,r=this._bindings,l=r.length;let u,h=t.length,p=this.nCachedObjects_;for(let m=0,v=arguments.length;m!==v;++m){const x=arguments[m],_=x.uuid;let T=e[_];if(T===void 0){T=h++,e[_]=T,t.push(x);for(let C=0,E=l;C!==E;++C)r[C].push(new bn(x,i[C],s[C]))}else if(T<p){u=t[T];const C=--p,E=t[C];e[E.uuid]=T,t[T]=E,e[_]=C,t[C]=x;for(let M=0,R=l;M!==R;++M){const D=r[M],L=D[C];let z=D[T];D[T]=L,z===void 0&&(z=new bn(x,i[M],s[M])),D[C]=z}}else t[T]!==u&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=p}remove(){const t=this._objects,e=this._indicesByUUID,i=this._bindings,s=i.length;let r=this.nCachedObjects_;for(let l=0,u=arguments.length;l!==u;++l){const h=arguments[l],p=h.uuid,m=e[p];if(m!==void 0&&m>=r){const v=r++,x=t[v];e[x.uuid]=m,t[m]=x,e[p]=v,t[v]=h;for(let _=0,T=s;_!==T;++_){const C=i[_],E=C[v],M=C[m];C[m]=E,C[v]=M}}}this.nCachedObjects_=r}uncache(){const t=this._objects,e=this._indicesByUUID,i=this._bindings,s=i.length;let r=this.nCachedObjects_,l=t.length;for(let u=0,h=arguments.length;u!==h;++u){const p=arguments[u],m=p.uuid,v=e[m];if(v!==void 0)if(delete e[m],v<r){const x=--r,_=t[x],T=--l,C=t[T];e[_.uuid]=v,t[v]=_,e[C.uuid]=x,t[x]=C,t.pop();for(let E=0,M=s;E!==M;++E){const R=i[E],D=R[x],L=R[T];R[v]=D,R[x]=L,R.pop()}}else{const x=--l,_=t[x];x>0&&(e[_.uuid]=v),t[v]=_,t.pop();for(let T=0,C=s;T!==C;++T){const E=i[T];E[v]=E[x],E.pop()}}}this.nCachedObjects_=r}subscribe_(t,e){const i=this._bindingsIndicesByPath;let s=i[t];const r=this._bindings;if(s!==void 0)return r[s];const l=this._paths,u=this._parsedPaths,h=this._objects,p=h.length,m=this.nCachedObjects_,v=new Array(p);s=r.length,i[t]=s,l.push(t),u.push(e),r.push(v);for(let x=m,_=h.length;x!==_;++x){const T=h[x];v[x]=new bn(T,t,e)}return v}unsubscribe_(t){const e=this._bindingsIndicesByPath,i=e[t];if(i!==void 0){const s=this._paths,r=this._parsedPaths,l=this._bindings,u=l.length-1,h=l[u],p=t[u];e[p]=i,l[i]=h,l.pop(),r[i]=r[u],r.pop(),s[i]=s[u],s.pop()}}}class kN{constructor(t,e,i=null,s=e.blendMode){this._mixer=t,this._clip=e,this._localRoot=i,this.blendMode=s;const r=e.tracks,l=r.length,u=new Array(l),h={endingStart:Gf,endingEnd:Gf};for(let p=0;p!==l;++p){const m=r[p].createInterpolant(null);u[p]=m,m.settings=h}this._interpolantSettings=h,this._interpolants=u,this._propertyBindings=new Array(l),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=D3,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,e){return this.loop=t,this.repetitions=e,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,e,i){if(t.fadeOut(e),this.fadeIn(e),i){const s=this._clip.duration,r=t._clip.duration,l=r/s,u=s/r;t.warp(1,l,e),this.warp(u,1,e)}return this}crossFadeTo(t,e,i){return t.crossFadeFrom(this,e,i)}stopFading(){const t=this._weightInterpolant;return t!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,e,i){const s=this._mixer,r=s.time,l=this.timeScale;let u=this._timeScaleInterpolant;u===null&&(u=s._lendControlInterpolant(),this._timeScaleInterpolant=u);const h=u.parameterPositions,p=u.sampleValues;return h[0]=r,h[1]=r+i,p[0]=t/l,p[1]=e/l,this}stopWarping(){const t=this._timeScaleInterpolant;return t!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,e,i,s){if(!this.enabled){this._updateWeight(t);return}const r=this._startTime;if(r!==null){const h=(t-r)*i;h<0||i===0?e=0:(this._startTime=null,e=i*h)}e*=this._updateTimeScale(t);const l=this._updateTime(e),u=this._updateWeight(t);if(u>0){const h=this._interpolants,p=this._propertyBindings;switch(this.blendMode){case oT:for(let m=0,v=h.length;m!==v;++m)h[m].evaluate(l),p[m].accumulateAdditive(u);break;case U_:default:for(let m=0,v=h.length;m!==v;++m)h[m].evaluate(l),p[m].accumulate(s,u)}}}_updateWeight(t){let e=0;if(this.enabled){e=this.weight;const i=this._weightInterpolant;if(i!==null){const s=i.evaluate(t)[0];e*=s,t>i.parameterPositions[1]&&(this.stopFading(),s===0&&(this.enabled=!1))}}return this._effectiveWeight=e,e}_updateTimeScale(t){let e=0;if(!this.paused){e=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const s=i.evaluate(t)[0];e*=s,t>i.parameterPositions[1]&&(this.stopWarping(),e===0?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e,e}_updateTime(t){const e=this._clip.duration,i=this.loop;let s=this.time+t,r=this._loopCount;const l=i===N3;if(t===0)return r===-1?s:l&&(r&1)===1?e-s:s;if(i===R3){r===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(s>=e)s=e;else if(s<0)s=0;else{this.time=s;break t}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(r===-1&&(t>=0?(r=0,this._setEndings(!0,this.repetitions===0,l)):this._setEndings(this.repetitions===0,!0,l)),s>=e||s<0){const u=Math.floor(s/e);s-=e*u,r+=Math.abs(u);const h=this.repetitions-r;if(h<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,s=t>0?e:0,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(h===1){const p=t<0;this._setEndings(p,!p,l)}else this._setEndings(!1,!1,l);this._loopCount=r,this.time=s,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:u})}}else this.time=s;if(l&&(r&1)===1)return e-s}return s}_setEndings(t,e,i){const s=this._interpolantSettings;i?(s.endingStart=kf,s.endingEnd=kf):(t?s.endingStart=this.zeroSlopeAtStart?kf:Gf:s.endingStart=Ug,e?s.endingEnd=this.zeroSlopeAtEnd?kf:Gf:s.endingEnd=Ug)}_scheduleFading(t,e,i){const s=this._mixer,r=s.time;let l=this._weightInterpolant;l===null&&(l=s._lendControlInterpolant(),this._weightInterpolant=l);const u=l.parameterPositions,h=l.sampleValues;return u[0]=r,h[0]=e,u[1]=r+t,h[1]=i,this}}const j4=new Float32Array(1);class X4 extends yl{constructor(t){super(),this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(t,e){const i=t._localRoot||this._root,s=t._clip.tracks,r=s.length,l=t._propertyBindings,u=t._interpolants,h=i.uuid,p=this._bindingsByRootAndName;let m=p[h];m===void 0&&(m={},p[h]=m);for(let v=0;v!==r;++v){const x=s[v],_=x.name;let T=m[_];if(T!==void 0)++T.referenceCount,l[v]=T;else{if(T=l[v],T!==void 0){T._cacheIndex===null&&(++T.referenceCount,this._addInactiveBinding(T,h,_));continue}const C=e&&e._propertyBindings[v].binding.parsedPath;T=new GN(bn.create(i,_,C),x.ValueTypeName,x.getValueSize()),++T.referenceCount,this._addInactiveBinding(T,h,_),l[v]=T}u[v].resultBuffer=T.buffer}}_activateAction(t){if(!this._isActiveAction(t)){if(t._cacheIndex===null){const i=(t._localRoot||this._root).uuid,s=t._clip.uuid,r=this._actionsByClip[s];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,s,i)}const e=t._propertyBindings;for(let i=0,s=e.length;i!==s;++i){const r=e[i];r.useCount++===0&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(t)}}_deactivateAction(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let i=0,s=e.length;i!==s;++i){const r=e[i];--r.useCount===0&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(t)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}}_isActiveAction(t){const e=t._cacheIndex;return e!==null&&e<this._nActiveActions}_addInactiveAction(t,e,i){const s=this._actions,r=this._actionsByClip;let l=r[e];if(l===void 0)l={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,r[e]=l;else{const u=l.knownActions;t._byClipCacheIndex=u.length,u.push(t)}t._cacheIndex=s.length,s.push(t),l.actionByRoot[i]=t}_removeInactiveAction(t){const e=this._actions,i=e[e.length-1],s=t._cacheIndex;i._cacheIndex=s,e[s]=i,e.pop(),t._cacheIndex=null;const r=t._clip.uuid,l=this._actionsByClip,u=l[r],h=u.knownActions,p=h[h.length-1],m=t._byClipCacheIndex;p._byClipCacheIndex=m,h[m]=p,h.pop(),t._byClipCacheIndex=null;const v=u.actionByRoot,x=(t._localRoot||this._root).uuid;delete v[x],h.length===0&&delete l[r],this._removeInactiveBindingsForAction(t)}_removeInactiveBindingsForAction(t){const e=t._propertyBindings;for(let i=0,s=e.length;i!==s;++i){const r=e[i];--r.referenceCount===0&&this._removeInactiveBinding(r)}}_lendAction(t){const e=this._actions,i=t._cacheIndex,s=this._nActiveActions++,r=e[s];t._cacheIndex=s,e[s]=t,r._cacheIndex=i,e[i]=r}_takeBackAction(t){const e=this._actions,i=t._cacheIndex,s=--this._nActiveActions,r=e[s];t._cacheIndex=s,e[s]=t,r._cacheIndex=i,e[i]=r}_addInactiveBinding(t,e,i){const s=this._bindingsByRootAndName,r=this._bindings;let l=s[e];l===void 0&&(l={},s[e]=l),l[i]=t,t._cacheIndex=r.length,r.push(t)}_removeInactiveBinding(t){const e=this._bindings,i=t.binding,s=i.rootNode.uuid,r=i.path,l=this._bindingsByRootAndName,u=l[s],h=e[e.length-1],p=t._cacheIndex;h._cacheIndex=p,e[p]=h,e.pop(),delete u[r],Object.keys(u).length===0&&delete l[s]}_lendBinding(t){const e=this._bindings,i=t._cacheIndex,s=this._nActiveBindings++,r=e[s];t._cacheIndex=s,e[s]=t,r._cacheIndex=i,e[i]=r}_takeBackBinding(t){const e=this._bindings,i=t._cacheIndex,s=--this._nActiveBindings,r=e[s];t._cacheIndex=s,e[s]=t,r._cacheIndex=i,e[i]=r}_lendControlInterpolant(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let i=t[e];return i===void 0&&(i=new wT(new Float32Array(2),new Float32Array(2),1,j4),i.__cacheIndex=e,t[e]=i),i}_takeBackControlInterpolant(t){const e=this._controlInterpolants,i=t.__cacheIndex,s=--this._nActiveControlInterpolants,r=e[s];t.__cacheIndex=s,e[s]=t,r.__cacheIndex=i,e[i]=r}clipAction(t,e,i){const s=e||this._root,r=s.uuid;let l=typeof t=="string"?jg.findByName(s,t):t;const u=l!==null?l.uuid:t,h=this._actionsByClip[u];let p=null;if(i===void 0&&(l!==null?i=l.blendMode:i=U_),h!==void 0){const v=h.actionByRoot[r];if(v!==void 0&&v.blendMode===i)return v;p=h.knownActions[0],l===null&&(l=p._clip)}if(l===null)return null;const m=new kN(this,l,e,i);return this._bindAction(m,p),this._addInactiveAction(m,u,r),m}existingAction(t,e){const i=e||this._root,s=i.uuid,r=typeof t=="string"?jg.findByName(i,t):t,l=r?r.uuid:t,u=this._actionsByClip[l];return u!==void 0&&u.actionByRoot[s]||null}stopAllAction(){const t=this._actions,e=this._nActiveActions;for(let i=e-1;i>=0;--i)t[i].stop();return this}update(t){t*=this.timeScale;const e=this._actions,i=this._nActiveActions,s=this.time+=t,r=Math.sign(t),l=this._accuIndex^=1;for(let p=0;p!==i;++p)e[p]._update(s,t,r,l);const u=this._bindings,h=this._nActiveBindings;for(let p=0;p!==h;++p)u[p].apply(l);return this}setTime(t){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(t)}getRoot(){return this._root}uncacheClip(t){const e=this._actions,i=t.uuid,s=this._actionsByClip,r=s[i];if(r!==void 0){const l=r.knownActions;for(let u=0,h=l.length;u!==h;++u){const p=l[u];this._deactivateAction(p);const m=p._cacheIndex,v=e[e.length-1];p._cacheIndex=null,p._byClipCacheIndex=null,v._cacheIndex=m,e[m]=v,e.pop(),this._removeInactiveBindingsForAction(p)}delete s[i]}}uncacheRoot(t){const e=t.uuid,i=this._actionsByClip;for(const l in i){const u=i[l].actionByRoot,h=u[e];h!==void 0&&(this._deactivateAction(h),this._removeInactiveAction(h))}const s=this._bindingsByRootAndName,r=s[e];if(r!==void 0)for(const l in r){const u=r[l];u.restoreOriginalState(),this._removeInactiveBinding(u)}}uncacheAction(t,e){const i=this.existingAction(t,e);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class q4 extends O_{constructor(t=1,e=1,i=1,s={}){super(t,e,s),this.isRenderTarget3D=!0,this.depth=i,this.texture=new P_(null,t,e,i),this.texture.isRenderTargetTexture=!0}}class Y4 extends O_{constructor(t=1,e=1,i=1,s={}){super(t,e,s),this.isRenderTargetArray=!0,this.depth=i,this.texture=new c0(null,t,e,i),this.texture.isRenderTargetTexture=!0}}class PT{constructor(t){this.value=t}clone(){return new PT(this.value.clone===void 0?this.value:this.value.clone())}}let W4=0;class Z4 extends yl{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:W4++}),this.name="",this.usage=Pg,this.uniforms=[]}add(t){return this.uniforms.push(t),this}remove(t){const e=this.uniforms.indexOf(t);return e!==-1&&this.uniforms.splice(e,1),this}setName(t){return this.name=t,this}setUsage(t){return this.usage=t,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(t){this.name=t.name,this.usage=t.usage;const e=t.uniforms;this.uniforms.length=0;for(let i=0,s=e.length;i<s;i++){const r=Array.isArray(e[i])?e[i]:[e[i]];for(let l=0;l<r.length;l++)this.uniforms.push(r[l].clone())}return this}clone(){return new this.constructor().copy(this)}}class K4 extends I_{constructor(t,e,i=1){super(t,e),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}clone(t){const e=super.clone(t);return e.meshPerAttribute=this.meshPerAttribute,e}toJSON(t){const e=super.toJSON(t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}class Q4{constructor(t,e,i,s,r){this.isGLBufferAttribute=!0,this.name="",this.buffer=t,this.type=e,this.itemSize=i,this.elementSize=s,this.count=r,this.version=0}set needsUpdate(t){t===!0&&this.version++}setBuffer(t){return this.buffer=t,this}setType(t,e){return this.type=t,this.elementSize=e,this}setItemSize(t){return this.itemSize=t,this}setCount(t){return this.count=t,this}}const Kw=new Ie;class jN{constructor(t,e,i=0,s=1/0){this.ray=new dp(t,e),this.near=i,this.far=s,this.camera=null,this.layers=new ep,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,e){this.ray.set(t,e)}setFromCamera(t,e){e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type: "+e.type)}setFromXRController(t){return Kw.identity().extractRotation(t.matrixWorld),this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(Kw),this}intersectObject(t,e=!0,i=[]){return Zb(t,this,i,e),i.sort(Qw),i}intersectObjects(t,e=!0,i=[]){for(let s=0,r=t.length;s<r;s++)Zb(t[s],this,i,e);return i.sort(Qw),i}}function Qw(n,t){return n.distance-t.distance}function Zb(n,t,e,i){let s=!0;if(n.layers.test(t.layers)&&n.raycast(t,e)===!1&&(s=!1),s===!0&&i===!0){const r=n.children;for(let l=0,u=r.length;l<u;l++)Zb(r[l],t,e,!0)}}class $4{constructor(t=1,e=0,i=0){return this.radius=t,this.phi=e,this.theta=i,this}set(t,e,i){return this.radius=t,this.phi=e,this.theta=i,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){return this.phi=Xe(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,i){return this.radius=Math.sqrt(t*t+e*e+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,i),this.phi=Math.acos(Xe(e/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class J4{constructor(t=1,e=0,i=0){return this.radius=t,this.theta=e,this.y=i,this}set(t,e,i){return this.radius=t,this.theta=e,this.y=i,this}copy(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,i){return this.radius=Math.sqrt(t*t+i*i),this.theta=Math.atan2(t,i),this.y=e,this}clone(){return new this.constructor().copy(this)}}class zT{constructor(t,e,i,s){zT.prototype.isMatrix2=!0,this.elements=[1,0,0,1],t!==void 0&&this.set(t,e,i,s)}identity(){return this.set(1,0,0,1),this}fromArray(t,e=0){for(let i=0;i<4;i++)this.elements[i]=t[i+e];return this}set(t,e,i,s){const r=this.elements;return r[0]=t,r[2]=e,r[1]=i,r[3]=s,this}}const $w=new Vt;class tI{constructor(t=new Vt(1/0,1/0),e=new Vt(-1/0,-1/0)){this.isBox2=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=$w.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,$w).distanceTo(t)}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const Jw=new W,Fy=new W;class eI{constructor(t=new W,e=new W){this.start=t,this.end=e}set(t,e){return this.start.copy(t),this.end.copy(e),this}copy(t){return this.start.copy(t.start),this.end.copy(t.end),this}getCenter(t){return t.addVectors(this.start,this.end).multiplyScalar(.5)}delta(t){return t.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(t,e){return this.delta(e).multiplyScalar(t).add(this.start)}closestPointToPointParameter(t,e){Jw.subVectors(t,this.start),Fy.subVectors(this.end,this.start);const i=Fy.dot(Fy);let r=Fy.dot(Jw)/i;return e&&(r=Xe(r,0,1)),r}closestPointToPoint(t,e,i){const s=this.closestPointToPointParameter(t,e);return this.delta(i).multiplyScalar(s).add(this.start)}applyMatrix4(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this}equals(t){return t.start.equals(this.start)&&t.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const tC=new W;class nI extends Tn{constructor(t,e){super(),this.light=t,this.matrixAutoUpdate=!1,this.color=e,this.type="SpotLightHelper";const i=new tn,s=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let l=0,u=1,h=32;l<h;l++,u++){const p=l/h*Math.PI*2,m=u/h*Math.PI*2;s.push(Math.cos(p),Math.sin(p),1,Math.cos(m),Math.sin(m),1)}i.setAttribute("position",new be(s,3));const r=new ma({fog:!1,toneMapped:!1});this.cone=new xl(i,r),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const t=this.light.distance?this.light.distance:1e3,e=t*Math.tan(this.light.angle);this.cone.scale.set(e,e,t),tC.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(tC),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const cu=new W,Hy=new Ie,B1=new Ie;class iI extends xl{constructor(t){const e=XN(t),i=new tn,s=[],r=[],l=new de(0,0,1),u=new de(0,1,0);for(let p=0;p<e.length;p++){const m=e[p];m.parent&&m.parent.isBone&&(s.push(0,0,0),s.push(0,0,0),r.push(l.r,l.g,l.b),r.push(u.r,u.g,u.b))}i.setAttribute("position",new be(s,3)),i.setAttribute("color",new be(r,3));const h=new ma({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,h),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(t){const e=this.bones,i=this.geometry,s=i.getAttribute("position");B1.copy(this.root.matrixWorld).invert();for(let r=0,l=0;r<e.length;r++){const u=e[r];u.parent&&u.parent.isBone&&(Hy.multiplyMatrices(B1,u.matrixWorld),cu.setFromMatrixPosition(Hy),s.setXYZ(l,cu.x,cu.y,cu.z),Hy.multiplyMatrices(B1,u.parent.matrixWorld),cu.setFromMatrixPosition(Hy),s.setXYZ(l+1,cu.x,cu.y,cu.z),l+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}dispose(){this.geometry.dispose(),this.material.dispose()}}function XN(n){const t=[];n.isBone===!0&&t.push(n);for(let e=0;e<n.children.length;e++)t.push.apply(t,XN(n.children[e]));return t}class sI extends Xi{constructor(t,e,i){const s=new p0(e,4,2),r=new Eu({wireframe:!0,fog:!1,toneMapped:!1});super(s,r),this.light=t,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const aI=new W,eC=new de,nC=new de;class rI extends Tn{constructor(t,e,i){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const s=new d0(e);s.rotateY(Math.PI*.5),this.material=new Eu({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const r=s.getAttribute("position"),l=new Float32Array(r.count*3);s.setAttribute("color",new jn(l,3)),this.add(new Xi(s,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const t=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const e=t.geometry.getAttribute("color");eC.copy(this.light.color),nC.copy(this.light.groundColor);for(let i=0,s=e.count;i<s;i++){const r=i<s/2?eC:nC;e.setXYZ(i,r.r,r.g,r.b)}e.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),t.lookAt(aI.setFromMatrixPosition(this.light.matrixWorld).negate())}}class oI extends xl{constructor(t=10,e=10,i=4473924,s=8947848){i=new de(i),s=new de(s);const r=e/2,l=t/e,u=t/2,h=[],p=[];for(let x=0,_=0,T=-u;x<=e;x++,T+=l){h.push(-u,0,T,u,0,T),h.push(T,0,-u,T,0,u);const C=x===r?i:s;C.toArray(p,_),_+=3,C.toArray(p,_),_+=3,C.toArray(p,_),_+=3,C.toArray(p,_),_+=3}const m=new tn;m.setAttribute("position",new be(h,3)),m.setAttribute("color",new be(p,3));const v=new ma({vertexColors:!0,toneMapped:!1});super(m,v),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class lI extends xl{constructor(t=10,e=16,i=8,s=64,r=4473924,l=8947848){r=new de(r),l=new de(l);const u=[],h=[];if(e>1)for(let v=0;v<e;v++){const x=v/e*(Math.PI*2),_=Math.sin(x)*t,T=Math.cos(x)*t;u.push(0,0,0),u.push(_,0,T);const C=v&1?r:l;h.push(C.r,C.g,C.b),h.push(C.r,C.g,C.b)}for(let v=0;v<i;v++){const x=v&1?r:l,_=t-t/i*v;for(let T=0;T<s;T++){let C=T/s*(Math.PI*2),E=Math.sin(C)*_,M=Math.cos(C)*_;u.push(E,0,M),h.push(x.r,x.g,x.b),C=(T+1)/s*(Math.PI*2),E=Math.sin(C)*_,M=Math.cos(C)*_,u.push(E,0,M),h.push(x.r,x.g,x.b)}}const p=new tn;p.setAttribute("position",new be(u,3)),p.setAttribute("color",new be(h,3));const m=new ma({vertexColors:!0,toneMapped:!1});super(p,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const iC=new W,Gy=new W,sC=new W;class cI extends Tn{constructor(t,e,i){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",e===void 0&&(e=1);let s=new tn;s.setAttribute("position",new be([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));const r=new ma({fog:!1,toneMapped:!1});this.lightPlane=new _u(s,r),this.add(this.lightPlane),s=new tn,s.setAttribute("position",new be([0,0,0,0,0,1],3)),this.targetLine=new _u(s,r),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),iC.setFromMatrixPosition(this.light.matrixWorld),Gy.setFromMatrixPosition(this.light.target.matrixWorld),sC.subVectors(Gy,iC),this.lightPlane.lookAt(Gy),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Gy),this.targetLine.scale.z=sC.length()}}const ky=new W,wi=new z_;class uI extends xl{constructor(t){const e=new tn,i=new ma({color:16777215,vertexColors:!0,toneMapped:!1}),s=[],r=[],l={};u("n1","n2"),u("n2","n4"),u("n4","n3"),u("n3","n1"),u("f1","f2"),u("f2","f4"),u("f4","f3"),u("f3","f1"),u("n1","f1"),u("n2","f2"),u("n3","f3"),u("n4","f4"),u("p","n1"),u("p","n2"),u("p","n3"),u("p","n4"),u("u1","u2"),u("u2","u3"),u("u3","u1"),u("c","t"),u("p","c"),u("cn1","cn2"),u("cn3","cn4"),u("cf1","cf2"),u("cf3","cf4");function u(T,C){h(T),h(C)}function h(T){s.push(0,0,0),r.push(0,0,0),l[T]===void 0&&(l[T]=[]),l[T].push(s.length/3-1)}e.setAttribute("position",new be(s,3)),e.setAttribute("color",new be(r,3)),super(e,i),this.type="CameraHelper",this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=l,this.update();const p=new de(16755200),m=new de(16711680),v=new de(43775),x=new de(16777215),_=new de(3355443);this.setColors(p,m,v,x,_)}setColors(t,e,i,s,r){const u=this.geometry.getAttribute("color");u.setXYZ(0,t.r,t.g,t.b),u.setXYZ(1,t.r,t.g,t.b),u.setXYZ(2,t.r,t.g,t.b),u.setXYZ(3,t.r,t.g,t.b),u.setXYZ(4,t.r,t.g,t.b),u.setXYZ(5,t.r,t.g,t.b),u.setXYZ(6,t.r,t.g,t.b),u.setXYZ(7,t.r,t.g,t.b),u.setXYZ(8,t.r,t.g,t.b),u.setXYZ(9,t.r,t.g,t.b),u.setXYZ(10,t.r,t.g,t.b),u.setXYZ(11,t.r,t.g,t.b),u.setXYZ(12,t.r,t.g,t.b),u.setXYZ(13,t.r,t.g,t.b),u.setXYZ(14,t.r,t.g,t.b),u.setXYZ(15,t.r,t.g,t.b),u.setXYZ(16,t.r,t.g,t.b),u.setXYZ(17,t.r,t.g,t.b),u.setXYZ(18,t.r,t.g,t.b),u.setXYZ(19,t.r,t.g,t.b),u.setXYZ(20,t.r,t.g,t.b),u.setXYZ(21,t.r,t.g,t.b),u.setXYZ(22,t.r,t.g,t.b),u.setXYZ(23,t.r,t.g,t.b),u.setXYZ(24,e.r,e.g,e.b),u.setXYZ(25,e.r,e.g,e.b),u.setXYZ(26,e.r,e.g,e.b),u.setXYZ(27,e.r,e.g,e.b),u.setXYZ(28,e.r,e.g,e.b),u.setXYZ(29,e.r,e.g,e.b),u.setXYZ(30,e.r,e.g,e.b),u.setXYZ(31,e.r,e.g,e.b),u.setXYZ(32,i.r,i.g,i.b),u.setXYZ(33,i.r,i.g,i.b),u.setXYZ(34,i.r,i.g,i.b),u.setXYZ(35,i.r,i.g,i.b),u.setXYZ(36,i.r,i.g,i.b),u.setXYZ(37,i.r,i.g,i.b),u.setXYZ(38,s.r,s.g,s.b),u.setXYZ(39,s.r,s.g,s.b),u.setXYZ(40,r.r,r.g,r.b),u.setXYZ(41,r.r,r.g,r.b),u.setXYZ(42,r.r,r.g,r.b),u.setXYZ(43,r.r,r.g,r.b),u.setXYZ(44,r.r,r.g,r.b),u.setXYZ(45,r.r,r.g,r.b),u.setXYZ(46,r.r,r.g,r.b),u.setXYZ(47,r.r,r.g,r.b),u.setXYZ(48,r.r,r.g,r.b),u.setXYZ(49,r.r,r.g,r.b),u.needsUpdate=!0}update(){const t=this.geometry,e=this.pointMap,i=1,s=1;wi.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const r=this.camera.coordinateSystem===vo?-1:0;Pi("c",e,t,wi,0,0,r),Pi("t",e,t,wi,0,0,1),Pi("n1",e,t,wi,-1,-1,r),Pi("n2",e,t,wi,i,-1,r),Pi("n3",e,t,wi,-1,s,r),Pi("n4",e,t,wi,i,s,r),Pi("f1",e,t,wi,-1,-1,1),Pi("f2",e,t,wi,i,-1,1),Pi("f3",e,t,wi,-1,s,1),Pi("f4",e,t,wi,i,s,1),Pi("u1",e,t,wi,i*.7,s*1.1,r),Pi("u2",e,t,wi,-1*.7,s*1.1,r),Pi("u3",e,t,wi,0,s*2,r),Pi("cf1",e,t,wi,-1,0,1),Pi("cf2",e,t,wi,i,0,1),Pi("cf3",e,t,wi,0,-1,1),Pi("cf4",e,t,wi,0,s,1),Pi("cn1",e,t,wi,-1,0,r),Pi("cn2",e,t,wi,i,0,r),Pi("cn3",e,t,wi,0,-1,r),Pi("cn4",e,t,wi,0,s,r),t.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Pi(n,t,e,i,s,r,l){ky.set(s,r,l).unproject(i);const u=t[n];if(u!==void 0){const h=e.getAttribute("position");for(let p=0,m=u.length;p<m;p++)h.setXYZ(u[p],ky.x,ky.y,ky.z)}}const jy=new pa;class fI extends xl{constructor(t,e=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=new Float32Array(8*3),r=new tn;r.setIndex(new jn(i,1)),r.setAttribute("position",new jn(s,3)),super(r,new ma({color:e,toneMapped:!1})),this.object=t,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(t){if(t!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&jy.setFromObject(this.object),jy.isEmpty())return;const e=jy.min,i=jy.max,s=this.geometry.attributes.position,r=s.array;r[0]=i.x,r[1]=i.y,r[2]=i.z,r[3]=e.x,r[4]=i.y,r[5]=i.z,r[6]=e.x,r[7]=e.y,r[8]=i.z,r[9]=i.x,r[10]=e.y,r[11]=i.z,r[12]=i.x,r[13]=i.y,r[14]=e.z,r[15]=e.x,r[16]=i.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=i.x,r[22]=e.y,r[23]=e.z,s.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(t){return this.object=t,this.update(),this}copy(t,e){return super.copy(t,e),this.object=t.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class hI extends xl{constructor(t,e=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],r=new tn;r.setIndex(new jn(i,1)),r.setAttribute("position",new be(s,3)),super(r,new ma({color:e,toneMapped:!1})),this.box=t,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(t){const e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(t))}dispose(){this.geometry.dispose(),this.material.dispose()}}class dI extends _u{constructor(t,e=1,i=16776960){const s=i,r=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],l=new tn;l.setAttribute("position",new be(r,3)),l.computeBoundingSphere(),super(l,new ma({color:s,toneMapped:!1})),this.type="PlaneHelper",this.plane=t,this.size=e;const u=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],h=new tn;h.setAttribute("position",new be(u,3)),h.computeBoundingSphere(),this.add(new Xi(h,new Eu({color:s,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(t){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(t)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const aC=new W;let Xy,V1;class pI extends Tn{constructor(t=new W(0,0,1),e=new W(0,0,0),i=1,s=16776960,r=i*.2,l=r*.2){super(),this.type="ArrowHelper",Xy===void 0&&(Xy=new tn,Xy.setAttribute("position",new be([0,0,0,0,1,0],3)),V1=new pp(0,.5,1,5,1),V1.translate(0,-.5,0)),this.position.copy(e),this.line=new _u(Xy,new ma({color:s,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Xi(V1,new Eu({color:s,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(i,r,l)}setDirection(t){if(t.y>.99999)this.quaternion.set(0,0,0,1);else if(t.y<-.99999)this.quaternion.set(1,0,0,0);else{aC.set(t.z,0,-t.x).normalize();const e=Math.acos(t.y);this.quaternion.setFromAxisAngle(aC,e)}}setLength(t,e=t*.2,i=e*.2){this.line.scale.set(1,Math.max(1e-4,t-e),1),this.line.updateMatrix(),this.cone.scale.set(i,e,i),this.cone.position.y=t,this.cone.updateMatrix()}setColor(t){this.line.material.color.set(t),this.cone.material.color.set(t)}copy(t){return super.copy(t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class mI extends xl{constructor(t=1){const e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],s=new tn;s.setAttribute("position",new be(e,3)),s.setAttribute("color",new be(i,3));const r=new ma({vertexColors:!0,toneMapped:!1});super(s,r),this.type="AxesHelper"}setColors(t,e,i){const s=new de,r=this.geometry.attributes.color.array;return s.set(t),s.toArray(r,0),s.toArray(r,3),s.set(e),s.toArray(r,6),s.toArray(r,9),s.set(i),s.toArray(r,12),s.toArray(r,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class gI{constructor(){this.type="ShapePath",this.color=new de,this.subPaths=[],this.currentPath=null}moveTo(t,e){return this.currentPath=new Vg,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this}lineTo(t,e){return this.currentPath.lineTo(t,e),this}quadraticCurveTo(t,e,i,s){return this.currentPath.quadraticCurveTo(t,e,i,s),this}bezierCurveTo(t,e,i,s,r,l){return this.currentPath.bezierCurveTo(t,e,i,s,r,l),this}splineThru(t){return this.currentPath.splineThru(t),this}toShapes(t){function e(M){const R=[];for(let D=0,L=M.length;D<L;D++){const z=M[D],B=new $f;B.curves=z.curves,R.push(B)}return R}function i(M,R){const D=R.length;let L=!1;for(let z=D-1,B=0;B<D;z=B++){let I=R[z],V=R[B],U=V.x-I.x,P=V.y-I.y;if(Math.abs(P)>Number.EPSILON){if(P<0&&(I=R[B],U=-U,V=R[z],P=-P),M.y<I.y||M.y>V.y)continue;if(M.y===I.y){if(M.x===I.x)return!0}else{const X=P*(M.x-I.x)-U*(M.y-I.y);if(X===0)return!0;if(X<0)continue;L=!L}}else{if(M.y!==I.y)continue;if(V.x<=M.x&&M.x<=I.x||I.x<=M.x&&M.x<=V.x)return!0}}return L}const s=ul.isClockWise,r=this.subPaths;if(r.length===0)return[];let l,u,h;const p=[];if(r.length===1)return u=r[0],h=new $f,h.curves=u.curves,p.push(h),p;let m=!s(r[0].getPoints());m=t?!m:m;const v=[],x=[];let _=[],T=0,C;x[T]=void 0,_[T]=[];for(let M=0,R=r.length;M<R;M++)u=r[M],C=u.getPoints(),l=s(C),l=t?!l:l,l?(!m&&x[T]&&T++,x[T]={s:new $f,p:C},x[T].s.curves=u.curves,m&&T++,_[T]=[]):_[T].push({h:u,p:C[0]});if(!x[0])return e(r);if(x.length>1){let M=!1,R=0;for(let D=0,L=x.length;D<L;D++)v[D]=[];for(let D=0,L=x.length;D<L;D++){const z=_[D];for(let B=0;B<z.length;B++){const I=z[B];let V=!0;for(let U=0;U<x.length;U++)i(I.p,x[U].p)&&(D!==U&&R++,V?(V=!1,v[U].push(I)):M=!0);V&&v[D].push(I)}}R>0&&M===!1&&(_=v)}let E;for(let M=0,R=x.length;M<R;M++){h=x[M].s,p.push(h),E=_[M];for(let D=0,L=E.length;D<L;D++)h.holes.push(E[D].h)}return p}}class vI extends yl{constructor(t,e=null){super(),this.object=t,this.domElement=e,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}function yI(n,t){const e=n.image&&n.image.width?n.image.width/n.image.height:1;return e>t?(n.repeat.x=1,n.repeat.y=e/t,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=t/e,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function xI(n,t){const e=n.image&&n.image.width?n.image.width/n.image.height:1;return e>t?(n.repeat.x=t/e,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=e/t,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function _I(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function Kb(n,t,e,i){const s=SI(i);switch(e){case eT:return n*t;case iT:return n*t;case sT:return n*t*2;case D_:return n*t/s.components*s.byteLength;case l0:return n*t/s.components*s.byteLength;case aT:return n*t*2/s.components*s.byteLength;case N_:return n*t*2/s.components*s.byteLength;case nT:return n*t*3/s.components*s.byteLength;case Ys:return n*t*4/s.components*s.byteLength;case L_:return n*t*4/s.components*s.byteLength;case cg:case ug:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*8;case fg:case hg:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*16;case Lx:case Ox:return Math.max(n,16)*Math.max(t,8)/4;case Nx:case Ux:return Math.max(n,8)*Math.max(t,8)/2;case Px:case zx:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*8;case Bx:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*16;case Vx:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*16;case Ix:return Math.floor((n+4)/5)*Math.floor((t+3)/4)*16;case Fx:return Math.floor((n+4)/5)*Math.floor((t+4)/5)*16;case Hx:return Math.floor((n+5)/6)*Math.floor((t+4)/5)*16;case Gx:return Math.floor((n+5)/6)*Math.floor((t+5)/6)*16;case kx:return Math.floor((n+7)/8)*Math.floor((t+4)/5)*16;case jx:return Math.floor((n+7)/8)*Math.floor((t+5)/6)*16;case Xx:return Math.floor((n+7)/8)*Math.floor((t+7)/8)*16;case qx:return Math.floor((n+9)/10)*Math.floor((t+4)/5)*16;case Yx:return Math.floor((n+9)/10)*Math.floor((t+5)/6)*16;case Wx:return Math.floor((n+9)/10)*Math.floor((t+7)/8)*16;case Zx:return Math.floor((n+9)/10)*Math.floor((t+9)/10)*16;case Kx:return Math.floor((n+11)/12)*Math.floor((t+9)/10)*16;case Qx:return Math.floor((n+11)/12)*Math.floor((t+11)/12)*16;case dg:case $x:case Jx:return Math.ceil(n/4)*Math.ceil(t/4)*16;case rT:case t_:return Math.ceil(n/4)*Math.ceil(t/4)*8;case e_:case n_:return Math.ceil(n/4)*Math.ceil(t/4)*16}throw new Error(`Unable to determine texture byte length for ${e} format.`)}function SI(n){switch(n){case xo:case $M:return{byteLength:1,components:1};case Jd:case JM:case hp:return{byteLength:2,components:1};case C_:case R_:return{byteLength:2,components:4};case hc:case w_:case Pa:return{byteLength:4,components:1};case tT:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}const bI={contain:yI,cover:xI,fill:_I,getByteLength:Kb};typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:T_}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=T_);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function qN(){let n=null,t=!1,e=null,i=null;function s(r,l){e(r,l),i=n.requestAnimationFrame(s)}return{start:function(){t!==!0&&e!==null&&(i=n.requestAnimationFrame(s),t=!0)},stop:function(){n.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(r){e=r},setContext:function(r){n=r}}}function MI(n){const t=new WeakMap;function e(u,h){const p=u.array,m=u.usage,v=p.byteLength,x=n.createBuffer();n.bindBuffer(h,x),n.bufferData(h,p,m),u.onUploadCallback();let _;if(p instanceof Float32Array)_=n.FLOAT;else if(p instanceof Uint16Array)u.isFloat16BufferAttribute?_=n.HALF_FLOAT:_=n.UNSIGNED_SHORT;else if(p instanceof Int16Array)_=n.SHORT;else if(p instanceof Uint32Array)_=n.UNSIGNED_INT;else if(p instanceof Int32Array)_=n.INT;else if(p instanceof Int8Array)_=n.BYTE;else if(p instanceof Uint8Array)_=n.UNSIGNED_BYTE;else if(p instanceof Uint8ClampedArray)_=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+p);return{buffer:x,type:_,bytesPerElement:p.BYTES_PER_ELEMENT,version:u.version,size:v}}function i(u,h,p){const m=h.array,v=h.updateRanges;if(n.bindBuffer(p,u),v.length===0)n.bufferSubData(p,0,m);else{v.sort((_,T)=>_.start-T.start);let x=0;for(let _=1;_<v.length;_++){const T=v[x],C=v[_];C.start<=T.start+T.count+1?T.count=Math.max(T.count,C.start+C.count-T.start):(++x,v[x]=C)}v.length=x+1;for(let _=0,T=v.length;_<T;_++){const C=v[_];n.bufferSubData(p,C.start*m.BYTES_PER_ELEMENT,m,C.start,C.count)}h.clearUpdateRanges()}h.onUploadCallback()}function s(u){return u.isInterleavedBufferAttribute&&(u=u.data),t.get(u)}function r(u){u.isInterleavedBufferAttribute&&(u=u.data);const h=t.get(u);h&&(n.deleteBuffer(h.buffer),t.delete(u))}function l(u,h){if(u.isInterleavedBufferAttribute&&(u=u.data),u.isGLBufferAttribute){const m=t.get(u);(!m||m.version<u.version)&&t.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}const p=t.get(u);if(p===void 0)t.set(u,e(u,h));else if(p.version<u.version){if(p.size!==u.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(p.buffer,u,h),p.version=u.version}}return{get:s,remove:r,update:l}}var TI=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,EI=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,AI=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,wI=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,CI=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,RI=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,DI=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,NI=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,LI=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,UI=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,OI=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,PI=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,zI=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,BI=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,VI=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,II=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,FI=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,HI=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,GI=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,kI=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,jI=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,XI=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,qI=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,YI=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,WI=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,ZI=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,KI=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,QI=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,$I=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,JI=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,t5="gl_FragColor = linearToOutputTexel( gl_FragColor );",e5=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,n5=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,i5=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,s5=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,a5=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,r5=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,o5=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,l5=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,c5=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,u5=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,f5=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,h5=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,d5=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,p5=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,m5=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,g5=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,v5=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,y5=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,x5=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,_5=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,S5=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,b5=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,M5=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,T5=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,E5=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,A5=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,w5=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,C5=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,R5=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,D5=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,N5=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,L5=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,U5=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,O5=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,P5=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,z5=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,B5=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,V5=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,I5=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,F5=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,H5=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,G5=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,k5=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,j5=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,X5=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,q5=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Y5=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,W5=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Z5=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,K5=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Q5=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,$5=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,J5=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,tF=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,eF=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,nF=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,iF=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,sF=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,aF=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,rF=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,oF=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,lF=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,cF=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,uF=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,fF=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,hF=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,dF=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,pF=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,mF=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,gF=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,vF=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,yF=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,xF=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,_F=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,SF=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,bF=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const MF=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,TF=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,EF=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,AF=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,wF=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,CF=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,RF=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,DF=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,NF=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,LF=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,UF=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,OF=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,PF=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,zF=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,BF=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,VF=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,IF=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,FF=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,HF=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,GF=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,kF=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,jF=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,XF=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,qF=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,YF=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,WF=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ZF=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,KF=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,QF=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,$F=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,JF=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,tH=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,eH=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,nH=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Je={alphahash_fragment:TI,alphahash_pars_fragment:EI,alphamap_fragment:AI,alphamap_pars_fragment:wI,alphatest_fragment:CI,alphatest_pars_fragment:RI,aomap_fragment:DI,aomap_pars_fragment:NI,batching_pars_vertex:LI,batching_vertex:UI,begin_vertex:OI,beginnormal_vertex:PI,bsdfs:zI,iridescence_fragment:BI,bumpmap_pars_fragment:VI,clipping_planes_fragment:II,clipping_planes_pars_fragment:FI,clipping_planes_pars_vertex:HI,clipping_planes_vertex:GI,color_fragment:kI,color_pars_fragment:jI,color_pars_vertex:XI,color_vertex:qI,common:YI,cube_uv_reflection_fragment:WI,defaultnormal_vertex:ZI,displacementmap_pars_vertex:KI,displacementmap_vertex:QI,emissivemap_fragment:$I,emissivemap_pars_fragment:JI,colorspace_fragment:t5,colorspace_pars_fragment:e5,envmap_fragment:n5,envmap_common_pars_fragment:i5,envmap_pars_fragment:s5,envmap_pars_vertex:a5,envmap_physical_pars_fragment:g5,envmap_vertex:r5,fog_vertex:o5,fog_pars_vertex:l5,fog_fragment:c5,fog_pars_fragment:u5,gradientmap_pars_fragment:f5,lightmap_pars_fragment:h5,lights_lambert_fragment:d5,lights_lambert_pars_fragment:p5,lights_pars_begin:m5,lights_toon_fragment:v5,lights_toon_pars_fragment:y5,lights_phong_fragment:x5,lights_phong_pars_fragment:_5,lights_physical_fragment:S5,lights_physical_pars_fragment:b5,lights_fragment_begin:M5,lights_fragment_maps:T5,lights_fragment_end:E5,logdepthbuf_fragment:A5,logdepthbuf_pars_fragment:w5,logdepthbuf_pars_vertex:C5,logdepthbuf_vertex:R5,map_fragment:D5,map_pars_fragment:N5,map_particle_fragment:L5,map_particle_pars_fragment:U5,metalnessmap_fragment:O5,metalnessmap_pars_fragment:P5,morphinstance_vertex:z5,morphcolor_vertex:B5,morphnormal_vertex:V5,morphtarget_pars_vertex:I5,morphtarget_vertex:F5,normal_fragment_begin:H5,normal_fragment_maps:G5,normal_pars_fragment:k5,normal_pars_vertex:j5,normal_vertex:X5,normalmap_pars_fragment:q5,clearcoat_normal_fragment_begin:Y5,clearcoat_normal_fragment_maps:W5,clearcoat_pars_fragment:Z5,iridescence_pars_fragment:K5,opaque_fragment:Q5,packing:$5,premultiplied_alpha_fragment:J5,project_vertex:tF,dithering_fragment:eF,dithering_pars_fragment:nF,roughnessmap_fragment:iF,roughnessmap_pars_fragment:sF,shadowmap_pars_fragment:aF,shadowmap_pars_vertex:rF,shadowmap_vertex:oF,shadowmask_pars_fragment:lF,skinbase_vertex:cF,skinning_pars_vertex:uF,skinning_vertex:fF,skinnormal_vertex:hF,specularmap_fragment:dF,specularmap_pars_fragment:pF,tonemapping_fragment:mF,tonemapping_pars_fragment:gF,transmission_fragment:vF,transmission_pars_fragment:yF,uv_pars_fragment:xF,uv_pars_vertex:_F,uv_vertex:SF,worldpos_vertex:bF,background_vert:MF,background_frag:TF,backgroundCube_vert:EF,backgroundCube_frag:AF,cube_vert:wF,cube_frag:CF,depth_vert:RF,depth_frag:DF,distanceRGBA_vert:NF,distanceRGBA_frag:LF,equirect_vert:UF,equirect_frag:OF,linedashed_vert:PF,linedashed_frag:zF,meshbasic_vert:BF,meshbasic_frag:VF,meshlambert_vert:IF,meshlambert_frag:FF,meshmatcap_vert:HF,meshmatcap_frag:GF,meshnormal_vert:kF,meshnormal_frag:jF,meshphong_vert:XF,meshphong_frag:qF,meshphysical_vert:YF,meshphysical_frag:WF,meshtoon_vert:ZF,meshtoon_frag:KF,points_vert:QF,points_frag:$F,shadow_vert:JF,shadow_frag:tH,sprite_vert:eH,sprite_frag:nH},oe={common:{diffuse:{value:new de(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new qe},alphaMap:{value:null},alphaMapTransform:{value:new qe},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new qe}},envmap:{envMap:{value:null},envMapRotation:{value:new qe},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new qe}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new qe}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new qe},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new qe},normalScale:{value:new Vt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new qe},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new qe}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new qe}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new qe}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new de(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new de(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new qe},alphaTest:{value:0},uvTransform:{value:new qe}},sprite:{diffuse:{value:new de(16777215)},opacity:{value:1},center:{value:new Vt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new qe},alphaMap:{value:null},alphaMapTransform:{value:new qe},alphaTest:{value:0}}},mo={basic:{uniforms:la([oe.common,oe.specularmap,oe.envmap,oe.aomap,oe.lightmap,oe.fog]),vertexShader:Je.meshbasic_vert,fragmentShader:Je.meshbasic_frag},lambert:{uniforms:la([oe.common,oe.specularmap,oe.envmap,oe.aomap,oe.lightmap,oe.emissivemap,oe.bumpmap,oe.normalmap,oe.displacementmap,oe.fog,oe.lights,{emissive:{value:new de(0)}}]),vertexShader:Je.meshlambert_vert,fragmentShader:Je.meshlambert_frag},phong:{uniforms:la([oe.common,oe.specularmap,oe.envmap,oe.aomap,oe.lightmap,oe.emissivemap,oe.bumpmap,oe.normalmap,oe.displacementmap,oe.fog,oe.lights,{emissive:{value:new de(0)},specular:{value:new de(1118481)},shininess:{value:30}}]),vertexShader:Je.meshphong_vert,fragmentShader:Je.meshphong_frag},standard:{uniforms:la([oe.common,oe.envmap,oe.aomap,oe.lightmap,oe.emissivemap,oe.bumpmap,oe.normalmap,oe.displacementmap,oe.roughnessmap,oe.metalnessmap,oe.fog,oe.lights,{emissive:{value:new de(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Je.meshphysical_vert,fragmentShader:Je.meshphysical_frag},toon:{uniforms:la([oe.common,oe.aomap,oe.lightmap,oe.emissivemap,oe.bumpmap,oe.normalmap,oe.displacementmap,oe.gradientmap,oe.fog,oe.lights,{emissive:{value:new de(0)}}]),vertexShader:Je.meshtoon_vert,fragmentShader:Je.meshtoon_frag},matcap:{uniforms:la([oe.common,oe.bumpmap,oe.normalmap,oe.displacementmap,oe.fog,{matcap:{value:null}}]),vertexShader:Je.meshmatcap_vert,fragmentShader:Je.meshmatcap_frag},points:{uniforms:la([oe.points,oe.fog]),vertexShader:Je.points_vert,fragmentShader:Je.points_frag},dashed:{uniforms:la([oe.common,oe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Je.linedashed_vert,fragmentShader:Je.linedashed_frag},depth:{uniforms:la([oe.common,oe.displacementmap]),vertexShader:Je.depth_vert,fragmentShader:Je.depth_frag},normal:{uniforms:la([oe.common,oe.bumpmap,oe.normalmap,oe.displacementmap,{opacity:{value:1}}]),vertexShader:Je.meshnormal_vert,fragmentShader:Je.meshnormal_frag},sprite:{uniforms:la([oe.sprite,oe.fog]),vertexShader:Je.sprite_vert,fragmentShader:Je.sprite_frag},background:{uniforms:{uvTransform:{value:new qe},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Je.background_vert,fragmentShader:Je.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new qe}},vertexShader:Je.backgroundCube_vert,fragmentShader:Je.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Je.cube_vert,fragmentShader:Je.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Je.equirect_vert,fragmentShader:Je.equirect_frag},distanceRGBA:{uniforms:la([oe.common,oe.displacementmap,{referencePosition:{value:new W},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Je.distanceRGBA_vert,fragmentShader:Je.distanceRGBA_frag},shadow:{uniforms:la([oe.lights,oe.fog,{color:{value:new de(0)},opacity:{value:1}}]),vertexShader:Je.shadow_vert,fragmentShader:Je.shadow_frag}};mo.physical={uniforms:la([mo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new qe},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new qe},clearcoatNormalScale:{value:new Vt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new qe},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new qe},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new qe},sheen:{value:0},sheenColor:{value:new de(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new qe},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new qe},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new qe},transmissionSamplerSize:{value:new Vt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new qe},attenuationDistance:{value:0},attenuationColor:{value:new de(0)},specularColor:{value:new de(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new qe},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new qe},anisotropyVector:{value:new Vt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new qe}}]),vertexShader:Je.meshphysical_vert,fragmentShader:Je.meshphysical_frag};const qy={r:0,b:0,g:0},Nf=new ar,iH=new Ie;function sH(n,t,e,i,s,r,l){const u=new de(0);let h=r===!0?0:1,p,m,v=null,x=0,_=null;function T(D){let L=D.isScene===!0?D.background:null;return L&&L.isTexture&&(L=(D.backgroundBlurriness>0?e:t).get(L)),L}function C(D){let L=!1;const z=T(D);z===null?M(u,h):z&&z.isColor&&(M(z,1),L=!0);const B=n.xr.getEnvironmentBlendMode();B==="additive"?i.buffers.color.setClear(0,0,0,1,l):B==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,l),(n.autoClear||L)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function E(D,L){const z=T(L);z&&(z.isCubeTexture||z.mapping===fp)?(m===void 0&&(m=new Xi(new lh(1,1,1),new _o({name:"BackgroundCubeMaterial",uniforms:np(mo.backgroundCube.uniforms),vertexShader:mo.backgroundCube.vertexShader,fragmentShader:mo.backgroundCube.fragmentShader,side:da,depthTest:!1,depthWrite:!1,fog:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(B,I,V){this.matrixWorld.copyPosition(V.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),s.update(m)),Nf.copy(L.backgroundRotation),Nf.x*=-1,Nf.y*=-1,Nf.z*=-1,z.isCubeTexture&&z.isRenderTargetTexture===!1&&(Nf.y*=-1,Nf.z*=-1),m.material.uniforms.envMap.value=z,m.material.uniforms.flipEnvMap.value=z.isCubeTexture&&z.isRenderTargetTexture===!1?-1:1,m.material.uniforms.backgroundBlurriness.value=L.backgroundBlurriness,m.material.uniforms.backgroundIntensity.value=L.backgroundIntensity,m.material.uniforms.backgroundRotation.value.setFromMatrix4(iH.makeRotationFromEuler(Nf)),m.material.toneMapped=yn.getTransfer(z.colorSpace)!==Vn,(v!==z||x!==z.version||_!==n.toneMapping)&&(m.material.needsUpdate=!0,v=z,x=z.version,_=n.toneMapping),m.layers.enableAll(),D.unshift(m,m.geometry,m.material,0,0,null)):z&&z.isTexture&&(p===void 0&&(p=new Xi(new mp(2,2),new _o({name:"BackgroundMaterial",uniforms:np(mo.background.uniforms),vertexShader:mo.background.vertexShader,fragmentShader:mo.background.fragmentShader,side:uc,depthTest:!1,depthWrite:!1,fog:!1})),p.geometry.deleteAttribute("normal"),Object.defineProperty(p.material,"map",{get:function(){return this.uniforms.t2D.value}}),s.update(p)),p.material.uniforms.t2D.value=z,p.material.uniforms.backgroundIntensity.value=L.backgroundIntensity,p.material.toneMapped=yn.getTransfer(z.colorSpace)!==Vn,z.matrixAutoUpdate===!0&&z.updateMatrix(),p.material.uniforms.uvTransform.value.copy(z.matrix),(v!==z||x!==z.version||_!==n.toneMapping)&&(p.material.needsUpdate=!0,v=z,x=z.version,_=n.toneMapping),p.layers.enableAll(),D.unshift(p,p.geometry,p.material,0,0,null))}function M(D,L){D.getRGB(qy,Y3(n)),i.buffers.color.setClear(qy.r,qy.g,qy.b,L,l)}function R(){m!==void 0&&(m.geometry.dispose(),m.material.dispose(),m=void 0),p!==void 0&&(p.geometry.dispose(),p.material.dispose(),p=void 0)}return{getClearColor:function(){return u},setClearColor:function(D,L=1){u.set(D),h=L,M(u,h)},getClearAlpha:function(){return h},setClearAlpha:function(D){h=D,M(u,h)},render:C,addToRenderList:E,dispose:R}}function aH(n,t){const e=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},s=x(null);let r=s,l=!1;function u(P,X,pt,it,K){let lt=!1;const J=v(it,pt,X);r!==J&&(r=J,p(r.object)),lt=_(P,it,pt,K),lt&&T(P,it,pt,K),K!==null&&t.update(K,n.ELEMENT_ARRAY_BUFFER),(lt||l)&&(l=!1,L(P,X,pt,it),K!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(K).buffer))}function h(){return n.createVertexArray()}function p(P){return n.bindVertexArray(P)}function m(P){return n.deleteVertexArray(P)}function v(P,X,pt){const it=pt.wireframe===!0;let K=i[P.id];K===void 0&&(K={},i[P.id]=K);let lt=K[X.id];lt===void 0&&(lt={},K[X.id]=lt);let J=lt[it];return J===void 0&&(J=x(h()),lt[it]=J),J}function x(P){const X=[],pt=[],it=[];for(let K=0;K<e;K++)X[K]=0,pt[K]=0,it[K]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:X,enabledAttributes:pt,attributeDivisors:it,object:P,attributes:{},index:null}}function _(P,X,pt,it){const K=r.attributes,lt=X.attributes;let J=0;const tt=pt.getAttributes();for(const Q in tt)if(tt[Q].location>=0){const j=K[Q];let at=lt[Q];if(at===void 0&&(Q==="instanceMatrix"&&P.instanceMatrix&&(at=P.instanceMatrix),Q==="instanceColor"&&P.instanceColor&&(at=P.instanceColor)),j===void 0||j.attribute!==at||at&&j.data!==at.data)return!0;J++}return r.attributesNum!==J||r.index!==it}function T(P,X,pt,it){const K={},lt=X.attributes;let J=0;const tt=pt.getAttributes();for(const Q in tt)if(tt[Q].location>=0){let j=lt[Q];j===void 0&&(Q==="instanceMatrix"&&P.instanceMatrix&&(j=P.instanceMatrix),Q==="instanceColor"&&P.instanceColor&&(j=P.instanceColor));const at={};at.attribute=j,j&&j.data&&(at.data=j.data),K[Q]=at,J++}r.attributes=K,r.attributesNum=J,r.index=it}function C(){const P=r.newAttributes;for(let X=0,pt=P.length;X<pt;X++)P[X]=0}function E(P){M(P,0)}function M(P,X){const pt=r.newAttributes,it=r.enabledAttributes,K=r.attributeDivisors;pt[P]=1,it[P]===0&&(n.enableVertexAttribArray(P),it[P]=1),K[P]!==X&&(n.vertexAttribDivisor(P,X),K[P]=X)}function R(){const P=r.newAttributes,X=r.enabledAttributes;for(let pt=0,it=X.length;pt<it;pt++)X[pt]!==P[pt]&&(n.disableVertexAttribArray(pt),X[pt]=0)}function D(P,X,pt,it,K,lt,J){J===!0?n.vertexAttribIPointer(P,X,pt,K,lt):n.vertexAttribPointer(P,X,pt,it,K,lt)}function L(P,X,pt,it){C();const K=it.attributes,lt=pt.getAttributes(),J=X.defaultAttributeValues;for(const tt in lt){const Q=lt[tt];if(Q.location>=0){let _t=K[tt];if(_t===void 0&&(tt==="instanceMatrix"&&P.instanceMatrix&&(_t=P.instanceMatrix),tt==="instanceColor"&&P.instanceColor&&(_t=P.instanceColor)),_t!==void 0){const j=_t.normalized,at=_t.itemSize,At=t.get(_t);if(At===void 0)continue;const zt=At.buffer,st=At.type,Et=At.bytesPerElement,Ut=st===n.INT||st===n.UNSIGNED_INT||_t.gpuType===w_;if(_t.isInterleavedBufferAttribute){const It=_t.data,kt=It.stride,ye=_t.offset;if(It.isInstancedInterleavedBuffer){for(let qt=0;qt<Q.locationSize;qt++)M(Q.location+qt,It.meshPerAttribute);P.isInstancedMesh!==!0&&it._maxInstanceCount===void 0&&(it._maxInstanceCount=It.meshPerAttribute*It.count)}else for(let qt=0;qt<Q.locationSize;qt++)E(Q.location+qt);n.bindBuffer(n.ARRAY_BUFFER,zt);for(let qt=0;qt<Q.locationSize;qt++)D(Q.location+qt,at/Q.locationSize,st,j,kt*Et,(ye+at/Q.locationSize*qt)*Et,Ut)}else{if(_t.isInstancedBufferAttribute){for(let It=0;It<Q.locationSize;It++)M(Q.location+It,_t.meshPerAttribute);P.isInstancedMesh!==!0&&it._maxInstanceCount===void 0&&(it._maxInstanceCount=_t.meshPerAttribute*_t.count)}else for(let It=0;It<Q.locationSize;It++)E(Q.location+It);n.bindBuffer(n.ARRAY_BUFFER,zt);for(let It=0;It<Q.locationSize;It++)D(Q.location+It,at/Q.locationSize,st,j,at*Et,at/Q.locationSize*It*Et,Ut)}}else if(J!==void 0){const j=J[tt];if(j!==void 0)switch(j.length){case 2:n.vertexAttrib2fv(Q.location,j);break;case 3:n.vertexAttrib3fv(Q.location,j);break;case 4:n.vertexAttrib4fv(Q.location,j);break;default:n.vertexAttrib1fv(Q.location,j)}}}}R()}function z(){V();for(const P in i){const X=i[P];for(const pt in X){const it=X[pt];for(const K in it)m(it[K].object),delete it[K];delete X[pt]}delete i[P]}}function B(P){if(i[P.id]===void 0)return;const X=i[P.id];for(const pt in X){const it=X[pt];for(const K in it)m(it[K].object),delete it[K];delete X[pt]}delete i[P.id]}function I(P){for(const X in i){const pt=i[X];if(pt[P.id]===void 0)continue;const it=pt[P.id];for(const K in it)m(it[K].object),delete it[K];delete pt[P.id]}}function V(){U(),l=!0,r!==s&&(r=s,p(r.object))}function U(){s.geometry=null,s.program=null,s.wireframe=!1}return{setup:u,reset:V,resetDefaultState:U,dispose:z,releaseStatesOfGeometry:B,releaseStatesOfProgram:I,initAttributes:C,enableAttribute:E,disableUnusedAttributes:R}}function rH(n,t,e){let i;function s(p){i=p}function r(p,m){n.drawArrays(i,p,m),e.update(m,i,1)}function l(p,m,v){v!==0&&(n.drawArraysInstanced(i,p,m,v),e.update(m,i,v))}function u(p,m,v){if(v===0)return;t.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,p,0,m,0,v);let _=0;for(let T=0;T<v;T++)_+=m[T];e.update(_,i,1)}function h(p,m,v,x){if(v===0)return;const _=t.get("WEBGL_multi_draw");if(_===null)for(let T=0;T<p.length;T++)l(p[T],m[T],x[T]);else{_.multiDrawArraysInstancedWEBGL(i,p,0,m,0,x,0,v);let T=0;for(let C=0;C<v;C++)T+=m[C]*x[C];e.update(T,i,1)}}this.setMode=s,this.render=r,this.renderInstances=l,this.renderMultiDraw=u,this.renderMultiDrawInstances=h}function oH(n,t,e,i){let s;function r(){if(s!==void 0)return s;if(t.has("EXT_texture_filter_anisotropic")===!0){const I=t.get("EXT_texture_filter_anisotropic");s=n.getParameter(I.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else s=0;return s}function l(I){return!(I!==Ys&&i.convert(I)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function u(I){const V=I===hp&&(t.has("EXT_color_buffer_half_float")||t.has("EXT_color_buffer_float"));return!(I!==xo&&i.convert(I)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&I!==Pa&&!V)}function h(I){if(I==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";I="mediump"}return I==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let p=e.precision!==void 0?e.precision:"highp";const m=h(p);m!==p&&(console.warn("THREE.WebGLRenderer:",p,"not supported, using",m,"instead."),p=m);const v=e.logarithmicDepthBuffer===!0,x=e.reverseDepthBuffer===!0&&t.has("EXT_clip_control"),_=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),T=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),C=n.getParameter(n.MAX_TEXTURE_SIZE),E=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),M=n.getParameter(n.MAX_VERTEX_ATTRIBS),R=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),D=n.getParameter(n.MAX_VARYING_VECTORS),L=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),z=T>0,B=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:r,getMaxPrecision:h,textureFormatReadable:l,textureTypeReadable:u,precision:p,logarithmicDepthBuffer:v,reverseDepthBuffer:x,maxTextures:_,maxVertexTextures:T,maxTextureSize:C,maxCubemapSize:E,maxAttributes:M,maxVertexUniforms:R,maxVaryings:D,maxFragmentUniforms:L,vertexTextures:z,maxSamples:B}}function lH(n){const t=this;let e=null,i=0,s=!1,r=!1;const l=new pu,u=new qe,h={value:null,needsUpdate:!1};this.uniform=h,this.numPlanes=0,this.numIntersection=0,this.init=function(v,x){const _=v.length!==0||x||i!==0||s;return s=x,i=v.length,_},this.beginShadows=function(){r=!0,m(null)},this.endShadows=function(){r=!1},this.setGlobalState=function(v,x){e=m(v,x,0)},this.setState=function(v,x,_){const T=v.clippingPlanes,C=v.clipIntersection,E=v.clipShadows,M=n.get(v);if(!s||T===null||T.length===0||r&&!E)r?m(null):p();else{const R=r?0:i,D=R*4;let L=M.clippingState||null;h.value=L,L=m(T,x,D,_);for(let z=0;z!==D;++z)L[z]=e[z];M.clippingState=L,this.numIntersection=C?this.numPlanes:0,this.numPlanes+=R}};function p(){h.value!==e&&(h.value=e,h.needsUpdate=i>0),t.numPlanes=i,t.numIntersection=0}function m(v,x,_,T){const C=v!==null?v.length:0;let E=null;if(C!==0){if(E=h.value,T!==!0||E===null){const M=_+C*4,R=x.matrixWorldInverse;u.getNormalMatrix(R),(E===null||E.length<M)&&(E=new Float32Array(M));for(let D=0,L=_;D!==C;++D,L+=4)l.copy(v[D]).applyMatrix4(R,u),l.normal.toArray(E,L),E[L+3]=l.constant}h.value=E,h.needsUpdate=!0}return t.numPlanes=C,t.numIntersection=0,E}}function cH(n){let t=new WeakMap;function e(l,u){return u===Cg?l.mapping=fc:u===Rg&&(l.mapping=yu),l}function i(l){if(l&&l.isTexture){const u=l.mapping;if(u===Cg||u===Rg)if(t.has(l)){const h=t.get(l).texture;return e(h,l.mapping)}else{const h=l.image;if(h&&h.height>0){const p=new K3(h.height);return p.fromEquirectangularTexture(n,l),t.set(l,p),l.addEventListener("dispose",s),e(p.texture,l.mapping)}else return null}}return l}function s(l){const u=l.target;u.removeEventListener("dispose",s);const h=t.get(u);h!==void 0&&(t.delete(u),h.dispose())}function r(){t=new WeakMap}return{get:i,dispose:r}}const Vd=4,rC=[.125,.215,.35,.446,.526,.582],Hf=20,I1=new fh,oC=new de;let F1=null,H1=0,G1=0,k1=!1;const Vf=(1+Math.sqrt(5))/2,wd=1/Vf,lC=[new W(-Vf,wd,0),new W(Vf,wd,0),new W(-wd,0,Vf),new W(wd,0,Vf),new W(0,Vf,-wd),new W(0,Vf,wd),new W(-1,1,-1),new W(1,1,-1),new W(-1,1,1),new W(1,1,1)];class Qb{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,e=0,i=.1,s=100){F1=this._renderer.getRenderTarget(),H1=this._renderer.getActiveCubeFace(),G1=this._renderer.getActiveMipmapLevel(),k1=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const r=this._allocateTargets();return r.depthBuffer=!0,this._sceneToCubeUV(t,i,s,r),e>0&&this._blur(r,0,0,e),this._applyPMREM(r),this._cleanup(r),r}fromEquirectangular(t,e=null){return this._fromTexture(t,e)}fromCubemap(t,e=null){return this._fromTexture(t,e)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=fC(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=uC(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(F1,H1,G1),this._renderer.xr.enabled=k1,t.scissorTest=!1,Yy(t,0,0,t.width,t.height)}_fromTexture(t,e){t.mapping===fc||t.mapping===yu?this._setSize(t.image.length===0?16:t.image[0].width||t.image[0].image.width):this._setSize(t.image.width/4),F1=this._renderer.getRenderTarget(),H1=this._renderer.getActiveCubeFace(),G1=this._renderer.getActiveMipmapLevel(),k1=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=e||this._allocateTargets();return this._textureToCubeUV(t,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),e=4*this._cubeSize,i={magFilter:Qi,minFilter:Qi,generateMipmaps:!1,type:hp,format:Ys,colorSpace:xu,depthBuffer:!1},s=cC(t,e,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==t||this._pingPongRenderTarget.height!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=cC(t,e,i);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=uH(r)),this._blurMaterial=fH(r,t,e)}return s}_compileMaterial(t){const e=new Xi(this._lodPlanes[0],t);this._renderer.compile(e,I1)}_sceneToCubeUV(t,e,i,s){const u=new ji(90,1,e,i),h=[1,-1,1,1,1,1],p=[1,1,1,-1,-1,-1],m=this._renderer,v=m.autoClear,x=m.toneMapping;m.getClearColor(oC),m.toneMapping=ll,m.autoClear=!1;const _=new Eu({name:"PMREM.Background",side:da,depthWrite:!1,depthTest:!1}),T=new Xi(new lh,_);let C=!1;const E=t.background;E?E.isColor&&(_.color.copy(E),t.background=null,C=!0):(_.color.copy(oC),C=!0);for(let M=0;M<6;M++){const R=M%3;R===0?(u.up.set(0,h[M],0),u.lookAt(p[M],0,0)):R===1?(u.up.set(0,0,h[M]),u.lookAt(0,p[M],0)):(u.up.set(0,h[M],0),u.lookAt(0,0,p[M]));const D=this._cubeSize;Yy(s,R*D,M>2?D:0,D,D),m.setRenderTarget(s),C&&m.render(T,u),m.render(t,u)}T.geometry.dispose(),T.material.dispose(),m.toneMapping=x,m.autoClear=v,t.background=E}_textureToCubeUV(t,e){const i=this._renderer,s=t.mapping===fc||t.mapping===yu;s?(this._cubemapMaterial===null&&(this._cubemapMaterial=fC()),this._cubemapMaterial.uniforms.flipEnvMap.value=t.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=uC());const r=s?this._cubemapMaterial:this._equirectMaterial,l=new Xi(this._lodPlanes[0],r),u=r.uniforms;u.envMap.value=t;const h=this._cubeSize;Yy(e,0,0,3*h,2*h),i.setRenderTarget(e),i.render(l,I1)}_applyPMREM(t){const e=this._renderer,i=e.autoClear;e.autoClear=!1;const s=this._lodPlanes.length;for(let r=1;r<s;r++){const l=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),u=lC[(s-r-1)%lC.length];this._blur(t,r-1,r,l,u)}e.autoClear=i}_blur(t,e,i,s,r){const l=this._pingPongRenderTarget;this._halfBlur(t,l,e,i,s,"latitudinal",r),this._halfBlur(l,t,i,i,s,"longitudinal",r)}_halfBlur(t,e,i,s,r,l,u){const h=this._renderer,p=this._blurMaterial;l!=="latitudinal"&&l!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const m=3,v=new Xi(this._lodPlanes[s],p),x=p.uniforms,_=this._sizeLods[i]-1,T=isFinite(r)?Math.PI/(2*_):2*Math.PI/(2*Hf-1),C=r/T,E=isFinite(r)?1+Math.floor(m*C):Hf;E>Hf&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${E} samples when the maximum is set to ${Hf}`);const M=[];let R=0;for(let I=0;I<Hf;++I){const V=I/C,U=Math.exp(-V*V/2);M.push(U),I===0?R+=U:I<E&&(R+=2*U)}for(let I=0;I<M.length;I++)M[I]=M[I]/R;x.envMap.value=t.texture,x.samples.value=E,x.weights.value=M,x.latitudinal.value=l==="latitudinal",u&&(x.poleAxis.value=u);const{_lodMax:D}=this;x.dTheta.value=T,x.mipInt.value=D-i;const L=this._sizeLods[s],z=3*L*(s>D-Vd?s-D+Vd:0),B=4*(this._cubeSize-L);Yy(e,z,B,3*L,2*L),h.setRenderTarget(e),h.render(v,I1)}}function uH(n){const t=[],e=[],i=[];let s=n;const r=n-Vd+1+rC.length;for(let l=0;l<r;l++){const u=Math.pow(2,s);e.push(u);let h=1/u;l>n-Vd?h=rC[l-n+Vd-1]:l===0&&(h=0),i.push(h);const p=1/(u-2),m=-p,v=1+p,x=[m,m,v,m,v,v,m,m,v,v,m,v],_=6,T=6,C=3,E=2,M=1,R=new Float32Array(C*T*_),D=new Float32Array(E*T*_),L=new Float32Array(M*T*_);for(let B=0;B<_;B++){const I=B%3*2/3-1,V=B>2?0:-1,U=[I,V,0,I+2/3,V,0,I+2/3,V+1,0,I,V,0,I+2/3,V+1,0,I,V+1,0];R.set(U,C*T*B),D.set(x,E*T*B);const P=[B,B,B,B,B,B];L.set(P,M*T*B)}const z=new tn;z.setAttribute("position",new jn(R,C)),z.setAttribute("uv",new jn(D,E)),z.setAttribute("faceIndex",new jn(L,M)),t.push(z),s>Vd&&s--}return{lodPlanes:t,sizeLods:e,sigmas:i}}function cC(n,t,e){const i=new gl(n,t,e);return i.texture.mapping=fp,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Yy(n,t,e,i,s){n.viewport.set(t,e,i,s),n.scissor.set(t,e,i,s)}function fH(n,t,e){const i=new Float32Array(Hf),s=new W(0,1,0);return new _o({name:"SphericalGaussianBlur",defines:{n:Hf,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/e,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:s}},vertexShader:BT(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:rc,depthTest:!1,depthWrite:!1})}function uC(){return new _o({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:BT(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:rc,depthTest:!1,depthWrite:!1})}function fC(){return new _o({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:BT(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:rc,depthTest:!1,depthWrite:!1})}function BT(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function hH(n){let t=new WeakMap,e=null;function i(u){if(u&&u.isTexture){const h=u.mapping,p=h===Cg||h===Rg,m=h===fc||h===yu;if(p||m){let v=t.get(u);const x=v!==void 0?v.texture.pmremVersion:0;if(u.isRenderTargetTexture&&u.pmremVersion!==x)return e===null&&(e=new Qb(n)),v=p?e.fromEquirectangular(u,v):e.fromCubemap(u,v),v.texture.pmremVersion=u.pmremVersion,t.set(u,v),v.texture;if(v!==void 0)return v.texture;{const _=u.image;return p&&_&&_.height>0||m&&_&&s(_)?(e===null&&(e=new Qb(n)),v=p?e.fromEquirectangular(u):e.fromCubemap(u),v.texture.pmremVersion=u.pmremVersion,t.set(u,v),u.addEventListener("dispose",r),v.texture):null}}}return u}function s(u){let h=0;const p=6;for(let m=0;m<p;m++)u[m]!==void 0&&h++;return h===p}function r(u){const h=u.target;h.removeEventListener("dispose",r);const p=t.get(h);p!==void 0&&(t.delete(h),p.dispose())}function l(){t=new WeakMap,e!==null&&(e.dispose(),e=null)}return{get:i,dispose:l}}function dH(n){const t={};function e(i){if(t[i]!==void 0)return t[i];let s;switch(i){case"WEBGL_depth_texture":s=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":s=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":s=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":s=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:s=n.getExtension(i)}return t[i]=s,s}return{has:function(i){return e(i)!==null},init:function(){e("EXT_color_buffer_float"),e("WEBGL_clip_cull_distance"),e("OES_texture_float_linear"),e("EXT_color_buffer_half_float"),e("WEBGL_multisampled_render_to_texture"),e("WEBGL_render_shared_exponent")},get:function(i){const s=e(i);return s===null&&Ld("THREE.WebGLRenderer: "+i+" extension not supported."),s}}}function pH(n,t,e,i){const s={},r=new WeakMap;function l(v){const x=v.target;x.index!==null&&t.remove(x.index);for(const T in x.attributes)t.remove(x.attributes[T]);x.removeEventListener("dispose",l),delete s[x.id];const _=r.get(x);_&&(t.remove(_),r.delete(x)),i.releaseStatesOfGeometry(x),x.isInstancedBufferGeometry===!0&&delete x._maxInstanceCount,e.memory.geometries--}function u(v,x){return s[x.id]===!0||(x.addEventListener("dispose",l),s[x.id]=!0,e.memory.geometries++),x}function h(v){const x=v.attributes;for(const _ in x)t.update(x[_],n.ARRAY_BUFFER)}function p(v){const x=[],_=v.index,T=v.attributes.position;let C=0;if(_!==null){const R=_.array;C=_.version;for(let D=0,L=R.length;D<L;D+=3){const z=R[D+0],B=R[D+1],I=R[D+2];x.push(z,B,B,I,I,z)}}else if(T!==void 0){const R=T.array;C=T.version;for(let D=0,L=R.length/3-1;D<L;D+=3){const z=D+0,B=D+1,I=D+2;x.push(z,B,B,I,I,z)}}else return;const E=new(k3(x)?fT:uT)(x,1);E.version=C;const M=r.get(v);M&&t.remove(M),r.set(v,E)}function m(v){const x=r.get(v);if(x){const _=v.index;_!==null&&x.version<_.version&&p(v)}else p(v);return r.get(v)}return{get:u,update:h,getWireframeAttribute:m}}function mH(n,t,e){let i;function s(x){i=x}let r,l;function u(x){r=x.type,l=x.bytesPerElement}function h(x,_){n.drawElements(i,_,r,x*l),e.update(_,i,1)}function p(x,_,T){T!==0&&(n.drawElementsInstanced(i,_,r,x*l,T),e.update(_,i,T))}function m(x,_,T){if(T===0)return;t.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,_,0,r,x,0,T);let E=0;for(let M=0;M<T;M++)E+=_[M];e.update(E,i,1)}function v(x,_,T,C){if(T===0)return;const E=t.get("WEBGL_multi_draw");if(E===null)for(let M=0;M<x.length;M++)p(x[M]/l,_[M],C[M]);else{E.multiDrawElementsInstancedWEBGL(i,_,0,r,x,0,C,0,T);let M=0;for(let R=0;R<T;R++)M+=_[R]*C[R];e.update(M,i,1)}}this.setMode=s,this.setIndex=u,this.render=h,this.renderInstances=p,this.renderMultiDraw=m,this.renderMultiDrawInstances=v}function gH(n){const t={geometries:0,textures:0},e={frame:0,calls:0,triangles:0,points:0,lines:0};function i(r,l,u){switch(e.calls++,l){case n.TRIANGLES:e.triangles+=u*(r/3);break;case n.LINES:e.lines+=u*(r/2);break;case n.LINE_STRIP:e.lines+=u*(r-1);break;case n.LINE_LOOP:e.lines+=u*r;break;case n.POINTS:e.points+=u*r;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",l);break}}function s(){e.calls=0,e.triangles=0,e.points=0,e.lines=0}return{memory:t,render:e,programs:null,autoReset:!0,reset:s,update:i}}function vH(n,t,e){const i=new WeakMap,s=new Mn;function r(l,u,h){const p=l.morphTargetInfluences,m=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,v=m!==void 0?m.length:0;let x=i.get(u);if(x===void 0||x.count!==v){let P=function(){V.dispose(),i.delete(u),u.removeEventListener("dispose",P)};var _=P;x!==void 0&&x.texture.dispose();const T=u.morphAttributes.position!==void 0,C=u.morphAttributes.normal!==void 0,E=u.morphAttributes.color!==void 0,M=u.morphAttributes.position||[],R=u.morphAttributes.normal||[],D=u.morphAttributes.color||[];let L=0;T===!0&&(L=1),C===!0&&(L=2),E===!0&&(L=3);let z=u.attributes.position.count*L,B=1;z>t.maxTextureSize&&(B=Math.ceil(z/t.maxTextureSize),z=t.maxTextureSize);const I=new Float32Array(z*B*4*v),V=new c0(I,z,B,v);V.type=Pa,V.needsUpdate=!0;const U=L*4;for(let X=0;X<v;X++){const pt=M[X],it=R[X],K=D[X],lt=z*B*4*X;for(let J=0;J<pt.count;J++){const tt=J*U;T===!0&&(s.fromBufferAttribute(pt,J),I[lt+tt+0]=s.x,I[lt+tt+1]=s.y,I[lt+tt+2]=s.z,I[lt+tt+3]=0),C===!0&&(s.fromBufferAttribute(it,J),I[lt+tt+4]=s.x,I[lt+tt+5]=s.y,I[lt+tt+6]=s.z,I[lt+tt+7]=0),E===!0&&(s.fromBufferAttribute(K,J),I[lt+tt+8]=s.x,I[lt+tt+9]=s.y,I[lt+tt+10]=s.z,I[lt+tt+11]=K.itemSize===4?s.w:1)}}x={count:v,texture:V,size:new Vt(z,B)},i.set(u,x),u.addEventListener("dispose",P)}if(l.isInstancedMesh===!0&&l.morphTexture!==null)h.getUniforms().setValue(n,"morphTexture",l.morphTexture,e);else{let T=0;for(let E=0;E<p.length;E++)T+=p[E];const C=u.morphTargetsRelative?1:1-T;h.getUniforms().setValue(n,"morphTargetBaseInfluence",C),h.getUniforms().setValue(n,"morphTargetInfluences",p)}h.getUniforms().setValue(n,"morphTargetsTexture",x.texture,e),h.getUniforms().setValue(n,"morphTargetsTextureSize",x.size)}return{update:r}}function yH(n,t,e,i){let s=new WeakMap;function r(h){const p=i.render.frame,m=h.geometry,v=t.get(h,m);if(s.get(v)!==p&&(t.update(v),s.set(v,p)),h.isInstancedMesh&&(h.hasEventListener("dispose",u)===!1&&h.addEventListener("dispose",u),s.get(h)!==p&&(e.update(h.instanceMatrix,n.ARRAY_BUFFER),h.instanceColor!==null&&e.update(h.instanceColor,n.ARRAY_BUFFER),s.set(h,p))),h.isSkinnedMesh){const x=h.skeleton;s.get(x)!==p&&(x.update(),s.set(x,p))}return v}function l(){s=new WeakMap}function u(h){const p=h.target;p.removeEventListener("dispose",u),e.remove(p.instanceMatrix),p.instanceColor!==null&&e.remove(p.instanceColor)}return{update:r,dispose:l}}const YN=new Ni,hC=new gT(1,1),WN=new c0,ZN=new P_,KN=new u0,dC=[],pC=[],mC=new Float32Array(16),gC=new Float32Array(9),vC=new Float32Array(4);function gp(n,t,e){const i=n[0];if(i<=0||i>0)return n;const s=t*e;let r=dC[s];if(r===void 0&&(r=new Float32Array(s),dC[s]=r),t!==0){i.toArray(r,0);for(let l=1,u=0;l!==t;++l)u+=e,n[l].toArray(r,u)}return r}function $i(n,t){if(n.length!==t.length)return!1;for(let e=0,i=n.length;e<i;e++)if(n[e]!==t[e])return!1;return!0}function Ji(n,t){for(let e=0,i=t.length;e<i;e++)n[e]=t[e]}function iS(n,t){let e=pC[t];e===void 0&&(e=new Int32Array(t),pC[t]=e);for(let i=0;i!==t;++i)e[i]=n.allocateTextureUnit();return e}function xH(n,t){const e=this.cache;e[0]!==t&&(n.uniform1f(this.addr,t),e[0]=t)}function _H(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(n.uniform2f(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if($i(e,t))return;n.uniform2fv(this.addr,t),Ji(e,t)}}function SH(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(n.uniform3f(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else if(t.r!==void 0)(e[0]!==t.r||e[1]!==t.g||e[2]!==t.b)&&(n.uniform3f(this.addr,t.r,t.g,t.b),e[0]=t.r,e[1]=t.g,e[2]=t.b);else{if($i(e,t))return;n.uniform3fv(this.addr,t),Ji(e,t)}}function bH(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(n.uniform4f(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if($i(e,t))return;n.uniform4fv(this.addr,t),Ji(e,t)}}function MH(n,t){const e=this.cache,i=t.elements;if(i===void 0){if($i(e,t))return;n.uniformMatrix2fv(this.addr,!1,t),Ji(e,t)}else{if($i(e,i))return;vC.set(i),n.uniformMatrix2fv(this.addr,!1,vC),Ji(e,i)}}function TH(n,t){const e=this.cache,i=t.elements;if(i===void 0){if($i(e,t))return;n.uniformMatrix3fv(this.addr,!1,t),Ji(e,t)}else{if($i(e,i))return;gC.set(i),n.uniformMatrix3fv(this.addr,!1,gC),Ji(e,i)}}function EH(n,t){const e=this.cache,i=t.elements;if(i===void 0){if($i(e,t))return;n.uniformMatrix4fv(this.addr,!1,t),Ji(e,t)}else{if($i(e,i))return;mC.set(i),n.uniformMatrix4fv(this.addr,!1,mC),Ji(e,i)}}function AH(n,t){const e=this.cache;e[0]!==t&&(n.uniform1i(this.addr,t),e[0]=t)}function wH(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(n.uniform2i(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if($i(e,t))return;n.uniform2iv(this.addr,t),Ji(e,t)}}function CH(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(n.uniform3i(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else{if($i(e,t))return;n.uniform3iv(this.addr,t),Ji(e,t)}}function RH(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(n.uniform4i(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if($i(e,t))return;n.uniform4iv(this.addr,t),Ji(e,t)}}function DH(n,t){const e=this.cache;e[0]!==t&&(n.uniform1ui(this.addr,t),e[0]=t)}function NH(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(n.uniform2ui(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if($i(e,t))return;n.uniform2uiv(this.addr,t),Ji(e,t)}}function LH(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(n.uniform3ui(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else{if($i(e,t))return;n.uniform3uiv(this.addr,t),Ji(e,t)}}function UH(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(n.uniform4ui(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if($i(e,t))return;n.uniform4uiv(this.addr,t),Ji(e,t)}}function OH(n,t,e){const i=this.cache,s=e.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s);let r;this.type===n.SAMPLER_2D_SHADOW?(hC.compareFunction=lT,r=hC):r=YN,e.setTexture2D(t||r,s)}function PH(n,t,e){const i=this.cache,s=e.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s),e.setTexture3D(t||ZN,s)}function zH(n,t,e){const i=this.cache,s=e.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s),e.setTextureCube(t||KN,s)}function BH(n,t,e){const i=this.cache,s=e.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s),e.setTexture2DArray(t||WN,s)}function VH(n){switch(n){case 5126:return xH;case 35664:return _H;case 35665:return SH;case 35666:return bH;case 35674:return MH;case 35675:return TH;case 35676:return EH;case 5124:case 35670:return AH;case 35667:case 35671:return wH;case 35668:case 35672:return CH;case 35669:case 35673:return RH;case 5125:return DH;case 36294:return NH;case 36295:return LH;case 36296:return UH;case 35678:case 36198:case 36298:case 36306:case 35682:return OH;case 35679:case 36299:case 36307:return PH;case 35680:case 36300:case 36308:case 36293:return zH;case 36289:case 36303:case 36311:case 36292:return BH}}function IH(n,t){n.uniform1fv(this.addr,t)}function FH(n,t){const e=gp(t,this.size,2);n.uniform2fv(this.addr,e)}function HH(n,t){const e=gp(t,this.size,3);n.uniform3fv(this.addr,e)}function GH(n,t){const e=gp(t,this.size,4);n.uniform4fv(this.addr,e)}function kH(n,t){const e=gp(t,this.size,4);n.uniformMatrix2fv(this.addr,!1,e)}function jH(n,t){const e=gp(t,this.size,9);n.uniformMatrix3fv(this.addr,!1,e)}function XH(n,t){const e=gp(t,this.size,16);n.uniformMatrix4fv(this.addr,!1,e)}function qH(n,t){n.uniform1iv(this.addr,t)}function YH(n,t){n.uniform2iv(this.addr,t)}function WH(n,t){n.uniform3iv(this.addr,t)}function ZH(n,t){n.uniform4iv(this.addr,t)}function KH(n,t){n.uniform1uiv(this.addr,t)}function QH(n,t){n.uniform2uiv(this.addr,t)}function $H(n,t){n.uniform3uiv(this.addr,t)}function JH(n,t){n.uniform4uiv(this.addr,t)}function t6(n,t,e){const i=this.cache,s=t.length,r=iS(e,s);$i(i,r)||(n.uniform1iv(this.addr,r),Ji(i,r));for(let l=0;l!==s;++l)e.setTexture2D(t[l]||YN,r[l])}function e6(n,t,e){const i=this.cache,s=t.length,r=iS(e,s);$i(i,r)||(n.uniform1iv(this.addr,r),Ji(i,r));for(let l=0;l!==s;++l)e.setTexture3D(t[l]||ZN,r[l])}function n6(n,t,e){const i=this.cache,s=t.length,r=iS(e,s);$i(i,r)||(n.uniform1iv(this.addr,r),Ji(i,r));for(let l=0;l!==s;++l)e.setTextureCube(t[l]||KN,r[l])}function i6(n,t,e){const i=this.cache,s=t.length,r=iS(e,s);$i(i,r)||(n.uniform1iv(this.addr,r),Ji(i,r));for(let l=0;l!==s;++l)e.setTexture2DArray(t[l]||WN,r[l])}function s6(n){switch(n){case 5126:return IH;case 35664:return FH;case 35665:return HH;case 35666:return GH;case 35674:return kH;case 35675:return jH;case 35676:return XH;case 5124:case 35670:return qH;case 35667:case 35671:return YH;case 35668:case 35672:return WH;case 35669:case 35673:return ZH;case 5125:return KH;case 36294:return QH;case 36295:return $H;case 36296:return JH;case 35678:case 36198:case 36298:case 36306:case 35682:return t6;case 35679:case 36299:case 36307:return e6;case 35680:case 36300:case 36308:case 36293:return n6;case 36289:case 36303:case 36311:case 36292:return i6}}class a6{constructor(t,e,i){this.id=t,this.addr=i,this.cache=[],this.type=e.type,this.setValue=VH(e.type)}}class r6{constructor(t,e,i){this.id=t,this.addr=i,this.cache=[],this.type=e.type,this.size=e.size,this.setValue=s6(e.type)}}class o6{constructor(t){this.id=t,this.seq=[],this.map={}}setValue(t,e,i){const s=this.seq;for(let r=0,l=s.length;r!==l;++r){const u=s[r];u.setValue(t,e[u.id],i)}}}const j1=/(\w+)(\])?(\[|\.)?/g;function yC(n,t){n.seq.push(t),n.map[t.id]=t}function l6(n,t,e){const i=n.name,s=i.length;for(j1.lastIndex=0;;){const r=j1.exec(i),l=j1.lastIndex;let u=r[1];const h=r[2]==="]",p=r[3];if(h&&(u=u|0),p===void 0||p==="["&&l+2===s){yC(e,p===void 0?new a6(u,n,t):new r6(u,n,t));break}else{let v=e.map[u];v===void 0&&(v=new o6(u),yC(e,v)),e=v}}}class ux{constructor(t,e){this.seq=[],this.map={};const i=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let s=0;s<i;++s){const r=t.getActiveUniform(e,s),l=t.getUniformLocation(e,r.name);l6(r,l,this)}}setValue(t,e,i,s){const r=this.map[e];r!==void 0&&r.setValue(t,i,s)}setOptional(t,e,i){const s=e[i];s!==void 0&&this.setValue(t,i,s)}static upload(t,e,i,s){for(let r=0,l=e.length;r!==l;++r){const u=e[r],h=i[u.id];h.needsUpdate!==!1&&u.setValue(t,h.value,s)}}static seqWithValue(t,e){const i=[];for(let s=0,r=t.length;s!==r;++s){const l=t[s];l.id in e&&i.push(l)}return i}}function xC(n,t,e){const i=n.createShader(t);return n.shaderSource(i,e),n.compileShader(i),i}const c6=37297;let u6=0;function f6(n,t){const e=n.split(`
`),i=[],s=Math.max(t-6,0),r=Math.min(t+6,e.length);for(let l=s;l<r;l++){const u=l+1;i.push(`${u===t?">":" "} ${u}: ${e[l]}`)}return i.join(`
`)}const _C=new qe;function h6(n){yn._getMatrix(_C,yn.workingColorSpace,n);const t=`mat3( ${_C.elements.map(e=>e.toFixed(4))} )`;switch(yn.getTransfer(n)){case Og:return[t,"LinearTransferOETF"];case Vn:return[t,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[t,"LinearTransferOETF"]}}function SC(n,t,e){const i=n.getShaderParameter(t,n.COMPILE_STATUS),s=n.getShaderInfoLog(t).trim();if(i&&s==="")return"";const r=/ERROR: 0:(\d+)/.exec(s);if(r){const l=parseInt(r[1]);return e.toUpperCase()+`

`+s+`

`+f6(n.getShaderSource(t),l)}else return s}function d6(n,t){const e=h6(t);return[`vec4 ${n}( vec4 value ) {`,`	return ${e[1]}( vec4( value.rgb * ${e[0]}, value.a ) );`,"}"].join(`
`)}function p6(n,t){let e;switch(t){case b3:e="Linear";break;case M3:e="Reinhard";break;case T3:e="Cineon";break;case KM:e="ACESFilmic";break;case A3:e="AgX";break;case w3:e="Neutral";break;case E3:e="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),e="Linear"}return"vec3 "+n+"( vec3 color ) { return "+e+"ToneMapping( color ); }"}const Wy=new W;function m6(){yn.getLuminanceCoefficients(Wy);const n=Wy.x.toFixed(4),t=Wy.y.toFixed(4),e=Wy.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${t}, ${e} );`,"	return dot( weights, rgb );","}"].join(`
`)}function g6(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(ig).join(`
`)}function v6(n){const t=[];for(const e in n){const i=n[e];i!==!1&&t.push("#define "+e+" "+i)}return t.join(`
`)}function y6(n,t){const e={},i=n.getProgramParameter(t,n.ACTIVE_ATTRIBUTES);for(let s=0;s<i;s++){const r=n.getActiveAttrib(t,s),l=r.name;let u=1;r.type===n.FLOAT_MAT2&&(u=2),r.type===n.FLOAT_MAT3&&(u=3),r.type===n.FLOAT_MAT4&&(u=4),e[l]={type:r.type,location:n.getAttribLocation(t,l),locationSize:u}}return e}function ig(n){return n!==""}function bC(n,t){const e=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,e).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function MC(n,t){return n.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const x6=/^[ \t]*#include +<([\w\d./]+)>/gm;function $b(n){return n.replace(x6,S6)}const _6=new Map;function S6(n,t){let e=Je[t];if(e===void 0){const i=_6.get(t);if(i!==void 0)e=Je[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,i);else throw new Error("Can not resolve #include <"+t+">")}return $b(e)}const b6=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function TC(n){return n.replace(b6,M6)}function M6(n,t,e,i){let s="";for(let r=parseInt(t);r<parseInt(e);r++)s+=i.replace(/\[\s*i\s*\]/g,"[ "+r+" ]").replace(/UNROLLED_LOOP_INDEX/g,r);return s}function EC(n){let t=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?t+=`
#define HIGH_PRECISION`:n.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function T6(n){let t="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===E_?t="SHADOWMAP_TYPE_PCF":n.shadowMapType===og?t="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===po&&(t="SHADOWMAP_TYPE_VSM"),t}function E6(n){let t="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case fc:case yu:t="ENVMAP_TYPE_CUBE";break;case fp:t="ENVMAP_TYPE_CUBE_UV";break}return t}function A6(n){let t="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case yu:t="ENVMAP_MODE_REFRACTION";break}return t}function w6(n){let t="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case o0:t="ENVMAP_BLENDING_MULTIPLY";break;case _3:t="ENVMAP_BLENDING_MIX";break;case S3:t="ENVMAP_BLENDING_ADD";break}return t}function C6(n){const t=n.envMapCubeUVHeight;if(t===null)return null;const e=Math.log2(t)-2,i=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,e),7*16)),texelHeight:i,maxMip:e}}function R6(n,t,e,i){const s=n.getContext(),r=e.defines;let l=e.vertexShader,u=e.fragmentShader;const h=T6(e),p=E6(e),m=A6(e),v=w6(e),x=C6(e),_=g6(e),T=v6(r),C=s.createProgram();let E,M,R=e.glslVersion?"#version "+e.glslVersion+`
`:"";e.isRawShaderMaterial?(E=["#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,T].filter(ig).join(`
`),E.length>0&&(E+=`
`),M=["#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,T].filter(ig).join(`
`),M.length>0&&(M+=`
`)):(E=[EC(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,T,e.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",e.batching?"#define USE_BATCHING":"",e.batchingColor?"#define USE_BATCHING_COLOR":"",e.instancing?"#define USE_INSTANCING":"",e.instancingColor?"#define USE_INSTANCING_COLOR":"",e.instancingMorph?"#define USE_INSTANCING_MORPH":"",e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+m:"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.displacementMap?"#define USE_DISPLACEMENTMAP":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropy?"#define USE_ANISOTROPY":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.mapUv?"#define MAP_UV "+e.mapUv:"",e.alphaMapUv?"#define ALPHAMAP_UV "+e.alphaMapUv:"",e.lightMapUv?"#define LIGHTMAP_UV "+e.lightMapUv:"",e.aoMapUv?"#define AOMAP_UV "+e.aoMapUv:"",e.emissiveMapUv?"#define EMISSIVEMAP_UV "+e.emissiveMapUv:"",e.bumpMapUv?"#define BUMPMAP_UV "+e.bumpMapUv:"",e.normalMapUv?"#define NORMALMAP_UV "+e.normalMapUv:"",e.displacementMapUv?"#define DISPLACEMENTMAP_UV "+e.displacementMapUv:"",e.metalnessMapUv?"#define METALNESSMAP_UV "+e.metalnessMapUv:"",e.roughnessMapUv?"#define ROUGHNESSMAP_UV "+e.roughnessMapUv:"",e.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+e.anisotropyMapUv:"",e.clearcoatMapUv?"#define CLEARCOATMAP_UV "+e.clearcoatMapUv:"",e.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+e.clearcoatNormalMapUv:"",e.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+e.clearcoatRoughnessMapUv:"",e.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+e.iridescenceMapUv:"",e.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+e.iridescenceThicknessMapUv:"",e.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+e.sheenColorMapUv:"",e.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+e.sheenRoughnessMapUv:"",e.specularMapUv?"#define SPECULARMAP_UV "+e.specularMapUv:"",e.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+e.specularColorMapUv:"",e.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+e.specularIntensityMapUv:"",e.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+e.transmissionMapUv:"",e.thicknessMapUv?"#define THICKNESSMAP_UV "+e.thicknessMapUv:"",e.vertexTangents&&e.flatShading===!1?"#define USE_TANGENT":"",e.vertexColors?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.flatShading?"#define FLAT_SHADED":"",e.skinning?"#define USE_SKINNING":"",e.morphTargets?"#define USE_MORPHTARGETS":"",e.morphNormals&&e.flatShading===!1?"#define USE_MORPHNORMALS":"",e.morphColors?"#define USE_MORPHCOLORS":"",e.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+e.morphTextureStride:"",e.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+e.morphTargetsCount:"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+h:"",e.sizeAttenuation?"#define USE_SIZEATTENUATION":"",e.numLightProbes>0?"#define USE_LIGHT_PROBES":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(ig).join(`
`),M=[EC(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,T,e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",e.map?"#define USE_MAP":"",e.matcap?"#define USE_MATCAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+p:"",e.envMap?"#define "+m:"",e.envMap?"#define "+v:"",x?"#define CUBEUV_TEXEL_WIDTH "+x.texelWidth:"",x?"#define CUBEUV_TEXEL_HEIGHT "+x.texelHeight:"",x?"#define CUBEUV_MAX_MIP "+x.maxMip+".0":"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropy?"#define USE_ANISOTROPY":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoat?"#define USE_CLEARCOAT":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.dispersion?"#define USE_DISPERSION":"",e.iridescence?"#define USE_IRIDESCENCE":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaTest?"#define USE_ALPHATEST":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.sheen?"#define USE_SHEEN":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.vertexTangents&&e.flatShading===!1?"#define USE_TANGENT":"",e.vertexColors||e.instancingColor||e.batchingColor?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.gradientMap?"#define USE_GRADIENTMAP":"",e.flatShading?"#define FLAT_SHADED":"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+h:"",e.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",e.numLightProbes>0?"#define USE_LIGHT_PROBES":"",e.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",e.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",e.toneMapping!==ll?"#define TONE_MAPPING":"",e.toneMapping!==ll?Je.tonemapping_pars_fragment:"",e.toneMapping!==ll?p6("toneMapping",e.toneMapping):"",e.dithering?"#define DITHERING":"",e.opaque?"#define OPAQUE":"",Je.colorspace_pars_fragment,d6("linearToOutputTexel",e.outputColorSpace),m6(),e.useDepthPacking?"#define DEPTH_PACKING "+e.depthPacking:"",`
`].filter(ig).join(`
`)),l=$b(l),l=bC(l,e),l=MC(l,e),u=$b(u),u=bC(u,e),u=MC(u,e),l=TC(l),u=TC(u),e.isRawShaderMaterial!==!0&&(R=`#version 300 es
`,E=[_,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+E,M=["#define varying in",e.glslVersion===kb?"":"layout(location = 0) out highp vec4 pc_fragColor;",e.glslVersion===kb?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+M);const D=R+E+l,L=R+M+u,z=xC(s,s.VERTEX_SHADER,D),B=xC(s,s.FRAGMENT_SHADER,L);s.attachShader(C,z),s.attachShader(C,B),e.index0AttributeName!==void 0?s.bindAttribLocation(C,0,e.index0AttributeName):e.morphTargets===!0&&s.bindAttribLocation(C,0,"position"),s.linkProgram(C);function I(X){if(n.debug.checkShaderErrors){const pt=s.getProgramInfoLog(C).trim(),it=s.getShaderInfoLog(z).trim(),K=s.getShaderInfoLog(B).trim();let lt=!0,J=!0;if(s.getProgramParameter(C,s.LINK_STATUS)===!1)if(lt=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(s,C,z,B);else{const tt=SC(s,z,"vertex"),Q=SC(s,B,"fragment");console.error("THREE.WebGLProgram: Shader Error "+s.getError()+" - VALIDATE_STATUS "+s.getProgramParameter(C,s.VALIDATE_STATUS)+`

Material Name: `+X.name+`
Material Type: `+X.type+`

Program Info Log: `+pt+`
`+tt+`
`+Q)}else pt!==""?console.warn("THREE.WebGLProgram: Program Info Log:",pt):(it===""||K==="")&&(J=!1);J&&(X.diagnostics={runnable:lt,programLog:pt,vertexShader:{log:it,prefix:E},fragmentShader:{log:K,prefix:M}})}s.deleteShader(z),s.deleteShader(B),V=new ux(s,C),U=y6(s,C)}let V;this.getUniforms=function(){return V===void 0&&I(this),V};let U;this.getAttributes=function(){return U===void 0&&I(this),U};let P=e.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return P===!1&&(P=s.getProgramParameter(C,c6)),P},this.destroy=function(){i.releaseStatesOfProgram(this),s.deleteProgram(C),this.program=void 0},this.type=e.shaderType,this.name=e.shaderName,this.id=u6++,this.cacheKey=t,this.usedTimes=1,this.program=C,this.vertexShader=z,this.fragmentShader=B,this}let D6=0;class N6{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const e=t.vertexShader,i=t.fragmentShader,s=this._getShaderStage(e),r=this._getShaderStage(i),l=this._getShaderCacheForMaterial(t);return l.has(s)===!1&&(l.add(s),s.usedTimes++),l.has(r)===!1&&(l.add(r),r.usedTimes++),this}remove(t){const e=this.materialCache.get(t);for(const i of e)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const e=this.materialCache;let i=e.get(t);return i===void 0&&(i=new Set,e.set(t,i)),i}_getShaderStage(t){const e=this.shaderCache;let i=e.get(t);return i===void 0&&(i=new L6(t),e.set(t,i)),i}}class L6{constructor(t){this.id=D6++,this.code=t,this.usedTimes=0}}function U6(n,t,e,i,s,r,l){const u=new ep,h=new N6,p=new Set,m=[],v=s.logarithmicDepthBuffer,x=s.vertexTextures;let _=s.precision;const T={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function C(U){return p.add(U),U===0?"uv":`uv${U}`}function E(U,P,X,pt,it){const K=pt.fog,lt=it.geometry,J=U.isMeshStandardMaterial?pt.environment:null,tt=(U.isMeshStandardMaterial?e:t).get(U.envMap||J),Q=tt&&tt.mapping===fp?tt.image.height:null,_t=T[U.type];U.precision!==null&&(_=s.getMaxPrecision(U.precision),_!==U.precision&&console.warn("THREE.WebGLProgram.getParameters:",U.precision,"not supported, using",_,"instead."));const j=lt.morphAttributes.position||lt.morphAttributes.normal||lt.morphAttributes.color,at=j!==void 0?j.length:0;let At=0;lt.morphAttributes.position!==void 0&&(At=1),lt.morphAttributes.normal!==void 0&&(At=2),lt.morphAttributes.color!==void 0&&(At=3);let zt,st,Et,Ut;if(_t){const hn=mo[_t];zt=hn.vertexShader,st=hn.fragmentShader}else zt=U.vertexShader,st=U.fragmentShader,h.update(U),Et=h.getVertexShaderID(U),Ut=h.getFragmentShaderID(U);const It=n.getRenderTarget(),kt=n.state.buffers.depth.getReversed(),ye=it.isInstancedMesh===!0,qt=it.isBatchedMesh===!0,le=!!U.map,Ot=!!U.matcap,Rt=!!tt,Y=!!U.aoMap,ue=!!U.lightMap,Ht=!!U.bumpMap,$t=!!U.normalMap,Kt=!!U.displacementMap,Se=!!U.emissiveMap,Qt=!!U.metalnessMap,q=!!U.roughnessMap,F=U.anisotropy>0,vt=U.clearcoat>0,wt=U.dispersion>0,Ft=U.iridescence>0,Dt=U.sheen>0,ce=U.transmission>0,ee=F&&!!U.anisotropyMap,fe=vt&&!!U.clearcoatMap,We=vt&&!!U.clearcoatNormalMap,Wt=vt&&!!U.clearcoatRoughnessMap,pe=Ft&&!!U.iridescenceMap,xe=Ft&&!!U.iridescenceThicknessMap,ve=Dt&&!!U.sheenColorMap,he=Dt&&!!U.sheenRoughnessMap,Fe=!!U.specularMap,Me=!!U.specularColorMap,xn=!!U.specularIntensityMap,ct=ce&&!!U.transmissionMap,ie=ce&&!!U.thicknessMap,Tt=!!U.gradientMap,Pt=!!U.alphaMap,te=U.alphaTest>0,ne=!!U.alphaHash,Ne=!!U.extensions;let Pn=ll;U.toneMapped&&(It===null||It.isXRRenderTarget===!0)&&(Pn=n.toneMapping);const Jn={shaderID:_t,shaderType:U.type,shaderName:U.name,vertexShader:zt,fragmentShader:st,defines:U.defines,customVertexShaderID:Et,customFragmentShaderID:Ut,isRawShaderMaterial:U.isRawShaderMaterial===!0,glslVersion:U.glslVersion,precision:_,batching:qt,batchingColor:qt&&it._colorsTexture!==null,instancing:ye,instancingColor:ye&&it.instanceColor!==null,instancingMorph:ye&&it.morphTexture!==null,supportsVertexTextures:x,outputColorSpace:It===null?n.outputColorSpace:It.isXRRenderTarget===!0?It.texture.colorSpace:xu,alphaToCoverage:!!U.alphaToCoverage,map:le,matcap:Ot,envMap:Rt,envMapMode:Rt&&tt.mapping,envMapCubeUVHeight:Q,aoMap:Y,lightMap:ue,bumpMap:Ht,normalMap:$t,displacementMap:x&&Kt,emissiveMap:Se,normalMapObjectSpace:$t&&U.normalMapType===O3,normalMapTangentSpace:$t&&U.normalMapType===Tu,metalnessMap:Qt,roughnessMap:q,anisotropy:F,anisotropyMap:ee,clearcoat:vt,clearcoatMap:fe,clearcoatNormalMap:We,clearcoatRoughnessMap:Wt,dispersion:wt,iridescence:Ft,iridescenceMap:pe,iridescenceThicknessMap:xe,sheen:Dt,sheenColorMap:ve,sheenRoughnessMap:he,specularMap:Fe,specularColorMap:Me,specularIntensityMap:xn,transmission:ce,transmissionMap:ct,thicknessMap:ie,gradientMap:Tt,opaque:U.transparent===!1&&U.blending===Zf&&U.alphaToCoverage===!1,alphaMap:Pt,alphaTest:te,alphaHash:ne,combine:U.combine,mapUv:le&&C(U.map.channel),aoMapUv:Y&&C(U.aoMap.channel),lightMapUv:ue&&C(U.lightMap.channel),bumpMapUv:Ht&&C(U.bumpMap.channel),normalMapUv:$t&&C(U.normalMap.channel),displacementMapUv:Kt&&C(U.displacementMap.channel),emissiveMapUv:Se&&C(U.emissiveMap.channel),metalnessMapUv:Qt&&C(U.metalnessMap.channel),roughnessMapUv:q&&C(U.roughnessMap.channel),anisotropyMapUv:ee&&C(U.anisotropyMap.channel),clearcoatMapUv:fe&&C(U.clearcoatMap.channel),clearcoatNormalMapUv:We&&C(U.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Wt&&C(U.clearcoatRoughnessMap.channel),iridescenceMapUv:pe&&C(U.iridescenceMap.channel),iridescenceThicknessMapUv:xe&&C(U.iridescenceThicknessMap.channel),sheenColorMapUv:ve&&C(U.sheenColorMap.channel),sheenRoughnessMapUv:he&&C(U.sheenRoughnessMap.channel),specularMapUv:Fe&&C(U.specularMap.channel),specularColorMapUv:Me&&C(U.specularColorMap.channel),specularIntensityMapUv:xn&&C(U.specularIntensityMap.channel),transmissionMapUv:ct&&C(U.transmissionMap.channel),thicknessMapUv:ie&&C(U.thicknessMap.channel),alphaMapUv:Pt&&C(U.alphaMap.channel),vertexTangents:!!lt.attributes.tangent&&($t||F),vertexColors:U.vertexColors,vertexAlphas:U.vertexColors===!0&&!!lt.attributes.color&&lt.attributes.color.itemSize===4,pointsUvs:it.isPoints===!0&&!!lt.attributes.uv&&(le||Pt),fog:!!K,useFog:U.fog===!0,fogExp2:!!K&&K.isFogExp2,flatShading:U.flatShading===!0,sizeAttenuation:U.sizeAttenuation===!0,logarithmicDepthBuffer:v,reverseDepthBuffer:kt,skinning:it.isSkinnedMesh===!0,morphTargets:lt.morphAttributes.position!==void 0,morphNormals:lt.morphAttributes.normal!==void 0,morphColors:lt.morphAttributes.color!==void 0,morphTargetsCount:at,morphTextureStride:At,numDirLights:P.directional.length,numPointLights:P.point.length,numSpotLights:P.spot.length,numSpotLightMaps:P.spotLightMap.length,numRectAreaLights:P.rectArea.length,numHemiLights:P.hemi.length,numDirLightShadows:P.directionalShadowMap.length,numPointLightShadows:P.pointShadowMap.length,numSpotLightShadows:P.spotShadowMap.length,numSpotLightShadowsWithMaps:P.numSpotLightShadowsWithMaps,numLightProbes:P.numLightProbes,numClippingPlanes:l.numPlanes,numClipIntersection:l.numIntersection,dithering:U.dithering,shadowMapEnabled:n.shadowMap.enabled&&X.length>0,shadowMapType:n.shadowMap.type,toneMapping:Pn,decodeVideoTexture:le&&U.map.isVideoTexture===!0&&yn.getTransfer(U.map.colorSpace)===Vn,decodeVideoTextureEmissive:Se&&U.emissiveMap.isVideoTexture===!0&&yn.getTransfer(U.emissiveMap.colorSpace)===Vn,premultipliedAlpha:U.premultipliedAlpha,doubleSided:U.side===go,flipSided:U.side===da,useDepthPacking:U.depthPacking>=0,depthPacking:U.depthPacking||0,index0AttributeName:U.index0AttributeName,extensionClipCullDistance:Ne&&U.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Ne&&U.extensions.multiDraw===!0||qt)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:U.customProgramCacheKey()};return Jn.vertexUv1s=p.has(1),Jn.vertexUv2s=p.has(2),Jn.vertexUv3s=p.has(3),p.clear(),Jn}function M(U){const P=[];if(U.shaderID?P.push(U.shaderID):(P.push(U.customVertexShaderID),P.push(U.customFragmentShaderID)),U.defines!==void 0)for(const X in U.defines)P.push(X),P.push(U.defines[X]);return U.isRawShaderMaterial===!1&&(R(P,U),D(P,U),P.push(n.outputColorSpace)),P.push(U.customProgramCacheKey),P.join()}function R(U,P){U.push(P.precision),U.push(P.outputColorSpace),U.push(P.envMapMode),U.push(P.envMapCubeUVHeight),U.push(P.mapUv),U.push(P.alphaMapUv),U.push(P.lightMapUv),U.push(P.aoMapUv),U.push(P.bumpMapUv),U.push(P.normalMapUv),U.push(P.displacementMapUv),U.push(P.emissiveMapUv),U.push(P.metalnessMapUv),U.push(P.roughnessMapUv),U.push(P.anisotropyMapUv),U.push(P.clearcoatMapUv),U.push(P.clearcoatNormalMapUv),U.push(P.clearcoatRoughnessMapUv),U.push(P.iridescenceMapUv),U.push(P.iridescenceThicknessMapUv),U.push(P.sheenColorMapUv),U.push(P.sheenRoughnessMapUv),U.push(P.specularMapUv),U.push(P.specularColorMapUv),U.push(P.specularIntensityMapUv),U.push(P.transmissionMapUv),U.push(P.thicknessMapUv),U.push(P.combine),U.push(P.fogExp2),U.push(P.sizeAttenuation),U.push(P.morphTargetsCount),U.push(P.morphAttributeCount),U.push(P.numDirLights),U.push(P.numPointLights),U.push(P.numSpotLights),U.push(P.numSpotLightMaps),U.push(P.numHemiLights),U.push(P.numRectAreaLights),U.push(P.numDirLightShadows),U.push(P.numPointLightShadows),U.push(P.numSpotLightShadows),U.push(P.numSpotLightShadowsWithMaps),U.push(P.numLightProbes),U.push(P.shadowMapType),U.push(P.toneMapping),U.push(P.numClippingPlanes),U.push(P.numClipIntersection),U.push(P.depthPacking)}function D(U,P){u.disableAll(),P.supportsVertexTextures&&u.enable(0),P.instancing&&u.enable(1),P.instancingColor&&u.enable(2),P.instancingMorph&&u.enable(3),P.matcap&&u.enable(4),P.envMap&&u.enable(5),P.normalMapObjectSpace&&u.enable(6),P.normalMapTangentSpace&&u.enable(7),P.clearcoat&&u.enable(8),P.iridescence&&u.enable(9),P.alphaTest&&u.enable(10),P.vertexColors&&u.enable(11),P.vertexAlphas&&u.enable(12),P.vertexUv1s&&u.enable(13),P.vertexUv2s&&u.enable(14),P.vertexUv3s&&u.enable(15),P.vertexTangents&&u.enable(16),P.anisotropy&&u.enable(17),P.alphaHash&&u.enable(18),P.batching&&u.enable(19),P.dispersion&&u.enable(20),P.batchingColor&&u.enable(21),U.push(u.mask),u.disableAll(),P.fog&&u.enable(0),P.useFog&&u.enable(1),P.flatShading&&u.enable(2),P.logarithmicDepthBuffer&&u.enable(3),P.reverseDepthBuffer&&u.enable(4),P.skinning&&u.enable(5),P.morphTargets&&u.enable(6),P.morphNormals&&u.enable(7),P.morphColors&&u.enable(8),P.premultipliedAlpha&&u.enable(9),P.shadowMapEnabled&&u.enable(10),P.doubleSided&&u.enable(11),P.flipSided&&u.enable(12),P.useDepthPacking&&u.enable(13),P.dithering&&u.enable(14),P.transmission&&u.enable(15),P.sheen&&u.enable(16),P.opaque&&u.enable(17),P.pointsUvs&&u.enable(18),P.decodeVideoTexture&&u.enable(19),P.decodeVideoTextureEmissive&&u.enable(20),P.alphaToCoverage&&u.enable(21),U.push(u.mask)}function L(U){const P=T[U.type];let X;if(P){const pt=mo[P];X=W3.clone(pt.uniforms)}else X=U.uniforms;return X}function z(U,P){let X;for(let pt=0,it=m.length;pt<it;pt++){const K=m[pt];if(K.cacheKey===P){X=K,++X.usedTimes;break}}return X===void 0&&(X=new R6(n,P,U,r),m.push(X)),X}function B(U){if(--U.usedTimes===0){const P=m.indexOf(U);m[P]=m[m.length-1],m.pop(),U.destroy()}}function I(U){h.remove(U)}function V(){h.dispose()}return{getParameters:E,getProgramCacheKey:M,getUniforms:L,acquireProgram:z,releaseProgram:B,releaseShaderCache:I,programs:m,dispose:V}}function O6(){let n=new WeakMap;function t(l){return n.has(l)}function e(l){let u=n.get(l);return u===void 0&&(u={},n.set(l,u)),u}function i(l){n.delete(l)}function s(l,u,h){n.get(l)[u]=h}function r(){n=new WeakMap}return{has:t,get:e,remove:i,update:s,dispose:r}}function P6(n,t){return n.groupOrder!==t.groupOrder?n.groupOrder-t.groupOrder:n.renderOrder!==t.renderOrder?n.renderOrder-t.renderOrder:n.material.id!==t.material.id?n.material.id-t.material.id:n.z!==t.z?n.z-t.z:n.id-t.id}function AC(n,t){return n.groupOrder!==t.groupOrder?n.groupOrder-t.groupOrder:n.renderOrder!==t.renderOrder?n.renderOrder-t.renderOrder:n.z!==t.z?t.z-n.z:n.id-t.id}function wC(){const n=[];let t=0;const e=[],i=[],s=[];function r(){t=0,e.length=0,i.length=0,s.length=0}function l(v,x,_,T,C,E){let M=n[t];return M===void 0?(M={id:v.id,object:v,geometry:x,material:_,groupOrder:T,renderOrder:v.renderOrder,z:C,group:E},n[t]=M):(M.id=v.id,M.object=v,M.geometry=x,M.material=_,M.groupOrder=T,M.renderOrder=v.renderOrder,M.z=C,M.group=E),t++,M}function u(v,x,_,T,C,E){const M=l(v,x,_,T,C,E);_.transmission>0?i.push(M):_.transparent===!0?s.push(M):e.push(M)}function h(v,x,_,T,C,E){const M=l(v,x,_,T,C,E);_.transmission>0?i.unshift(M):_.transparent===!0?s.unshift(M):e.unshift(M)}function p(v,x){e.length>1&&e.sort(v||P6),i.length>1&&i.sort(x||AC),s.length>1&&s.sort(x||AC)}function m(){for(let v=t,x=n.length;v<x;v++){const _=n[v];if(_.id===null)break;_.id=null,_.object=null,_.geometry=null,_.material=null,_.group=null}}return{opaque:e,transmissive:i,transparent:s,init:r,push:u,unshift:h,finish:m,sort:p}}function z6(){let n=new WeakMap;function t(i,s){const r=n.get(i);let l;return r===void 0?(l=new wC,n.set(i,[l])):s>=r.length?(l=new wC,r.push(l)):l=r[s],l}function e(){n=new WeakMap}return{get:t,dispose:e}}function B6(){const n={};return{get:function(t){if(n[t.id]!==void 0)return n[t.id];let e;switch(t.type){case"DirectionalLight":e={direction:new W,color:new de};break;case"SpotLight":e={position:new W,direction:new W,color:new de,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":e={position:new W,color:new de,distance:0,decay:0};break;case"HemisphereLight":e={direction:new W,skyColor:new de,groundColor:new de};break;case"RectAreaLight":e={color:new de,position:new W,halfWidth:new W,halfHeight:new W};break}return n[t.id]=e,e}}}function V6(){const n={};return{get:function(t){if(n[t.id]!==void 0)return n[t.id];let e;switch(t.type){case"DirectionalLight":e={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vt};break;case"SpotLight":e={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vt};break;case"PointLight":e={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vt,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[t.id]=e,e}}}let I6=0;function F6(n,t){return(t.castShadow?2:0)-(n.castShadow?2:0)+(t.map?1:0)-(n.map?1:0)}function H6(n){const t=new B6,e=V6(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let p=0;p<9;p++)i.probe.push(new W);const s=new W,r=new Ie,l=new Ie;function u(p){let m=0,v=0,x=0;for(let U=0;U<9;U++)i.probe[U].set(0,0,0);let _=0,T=0,C=0,E=0,M=0,R=0,D=0,L=0,z=0,B=0,I=0;p.sort(F6);for(let U=0,P=p.length;U<P;U++){const X=p[U],pt=X.color,it=X.intensity,K=X.distance,lt=X.shadow&&X.shadow.map?X.shadow.map.texture:null;if(X.isAmbientLight)m+=pt.r*it,v+=pt.g*it,x+=pt.b*it;else if(X.isLightProbe){for(let J=0;J<9;J++)i.probe[J].addScaledVector(X.sh.coefficients[J],it);I++}else if(X.isDirectionalLight){const J=t.get(X);if(J.color.copy(X.color).multiplyScalar(X.intensity),X.castShadow){const tt=X.shadow,Q=e.get(X);Q.shadowIntensity=tt.intensity,Q.shadowBias=tt.bias,Q.shadowNormalBias=tt.normalBias,Q.shadowRadius=tt.radius,Q.shadowMapSize=tt.mapSize,i.directionalShadow[_]=Q,i.directionalShadowMap[_]=lt,i.directionalShadowMatrix[_]=X.shadow.matrix,R++}i.directional[_]=J,_++}else if(X.isSpotLight){const J=t.get(X);J.position.setFromMatrixPosition(X.matrixWorld),J.color.copy(pt).multiplyScalar(it),J.distance=K,J.coneCos=Math.cos(X.angle),J.penumbraCos=Math.cos(X.angle*(1-X.penumbra)),J.decay=X.decay,i.spot[C]=J;const tt=X.shadow;if(X.map&&(i.spotLightMap[z]=X.map,z++,tt.updateMatrices(X),X.castShadow&&B++),i.spotLightMatrix[C]=tt.matrix,X.castShadow){const Q=e.get(X);Q.shadowIntensity=tt.intensity,Q.shadowBias=tt.bias,Q.shadowNormalBias=tt.normalBias,Q.shadowRadius=tt.radius,Q.shadowMapSize=tt.mapSize,i.spotShadow[C]=Q,i.spotShadowMap[C]=lt,L++}C++}else if(X.isRectAreaLight){const J=t.get(X);J.color.copy(pt).multiplyScalar(it),J.halfWidth.set(X.width*.5,0,0),J.halfHeight.set(0,X.height*.5,0),i.rectArea[E]=J,E++}else if(X.isPointLight){const J=t.get(X);if(J.color.copy(X.color).multiplyScalar(X.intensity),J.distance=X.distance,J.decay=X.decay,X.castShadow){const tt=X.shadow,Q=e.get(X);Q.shadowIntensity=tt.intensity,Q.shadowBias=tt.bias,Q.shadowNormalBias=tt.normalBias,Q.shadowRadius=tt.radius,Q.shadowMapSize=tt.mapSize,Q.shadowCameraNear=tt.camera.near,Q.shadowCameraFar=tt.camera.far,i.pointShadow[T]=Q,i.pointShadowMap[T]=lt,i.pointShadowMatrix[T]=X.shadow.matrix,D++}i.point[T]=J,T++}else if(X.isHemisphereLight){const J=t.get(X);J.skyColor.copy(X.color).multiplyScalar(it),J.groundColor.copy(X.groundColor).multiplyScalar(it),i.hemi[M]=J,M++}}E>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=oe.LTC_FLOAT_1,i.rectAreaLTC2=oe.LTC_FLOAT_2):(i.rectAreaLTC1=oe.LTC_HALF_1,i.rectAreaLTC2=oe.LTC_HALF_2)),i.ambient[0]=m,i.ambient[1]=v,i.ambient[2]=x;const V=i.hash;(V.directionalLength!==_||V.pointLength!==T||V.spotLength!==C||V.rectAreaLength!==E||V.hemiLength!==M||V.numDirectionalShadows!==R||V.numPointShadows!==D||V.numSpotShadows!==L||V.numSpotMaps!==z||V.numLightProbes!==I)&&(i.directional.length=_,i.spot.length=C,i.rectArea.length=E,i.point.length=T,i.hemi.length=M,i.directionalShadow.length=R,i.directionalShadowMap.length=R,i.pointShadow.length=D,i.pointShadowMap.length=D,i.spotShadow.length=L,i.spotShadowMap.length=L,i.directionalShadowMatrix.length=R,i.pointShadowMatrix.length=D,i.spotLightMatrix.length=L+z-B,i.spotLightMap.length=z,i.numSpotLightShadowsWithMaps=B,i.numLightProbes=I,V.directionalLength=_,V.pointLength=T,V.spotLength=C,V.rectAreaLength=E,V.hemiLength=M,V.numDirectionalShadows=R,V.numPointShadows=D,V.numSpotShadows=L,V.numSpotMaps=z,V.numLightProbes=I,i.version=I6++)}function h(p,m){let v=0,x=0,_=0,T=0,C=0;const E=m.matrixWorldInverse;for(let M=0,R=p.length;M<R;M++){const D=p[M];if(D.isDirectionalLight){const L=i.directional[v];L.direction.setFromMatrixPosition(D.matrixWorld),s.setFromMatrixPosition(D.target.matrixWorld),L.direction.sub(s),L.direction.transformDirection(E),v++}else if(D.isSpotLight){const L=i.spot[_];L.position.setFromMatrixPosition(D.matrixWorld),L.position.applyMatrix4(E),L.direction.setFromMatrixPosition(D.matrixWorld),s.setFromMatrixPosition(D.target.matrixWorld),L.direction.sub(s),L.direction.transformDirection(E),_++}else if(D.isRectAreaLight){const L=i.rectArea[T];L.position.setFromMatrixPosition(D.matrixWorld),L.position.applyMatrix4(E),l.identity(),r.copy(D.matrixWorld),r.premultiply(E),l.extractRotation(r),L.halfWidth.set(D.width*.5,0,0),L.halfHeight.set(0,D.height*.5,0),L.halfWidth.applyMatrix4(l),L.halfHeight.applyMatrix4(l),T++}else if(D.isPointLight){const L=i.point[x];L.position.setFromMatrixPosition(D.matrixWorld),L.position.applyMatrix4(E),x++}else if(D.isHemisphereLight){const L=i.hemi[C];L.direction.setFromMatrixPosition(D.matrixWorld),L.direction.transformDirection(E),C++}}}return{setup:u,setupView:h,state:i}}function CC(n){const t=new H6(n),e=[],i=[];function s(m){p.camera=m,e.length=0,i.length=0}function r(m){e.push(m)}function l(m){i.push(m)}function u(){t.setup(e)}function h(m){t.setupView(e,m)}const p={lightsArray:e,shadowsArray:i,camera:null,lights:t,transmissionRenderTarget:{}};return{init:s,state:p,setupLights:u,setupLightsView:h,pushLight:r,pushShadow:l}}function G6(n){let t=new WeakMap;function e(s,r=0){const l=t.get(s);let u;return l===void 0?(u=new CC(n),t.set(s,[u])):r>=l.length?(u=new CC(n),l.push(u)):u=l[r],u}function i(){t=new WeakMap}return{get:e,dispose:i}}const k6=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,j6=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function X6(n,t,e){let i=new f0;const s=new Vt,r=new Vt,l=new Mn,u=new TT({depthPacking:U3}),h=new ET,p={},m=e.maxTextureSize,v={[uc]:da,[da]:uc,[go]:go},x=new _o({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vt},radius:{value:4}},vertexShader:k6,fragmentShader:j6}),_=x.clone();_.defines.HORIZONTAL_PASS=1;const T=new tn;T.setAttribute("position",new jn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const C=new Xi(T,x),E=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=E_;let M=this.type;this.render=function(B,I,V){if(E.enabled===!1||E.autoUpdate===!1&&E.needsUpdate===!1||B.length===0)return;const U=n.getRenderTarget(),P=n.getActiveCubeFace(),X=n.getActiveMipmapLevel(),pt=n.state;pt.setBlending(rc),pt.buffers.color.setClear(1,1,1,1),pt.buffers.depth.setTest(!0),pt.setScissorTest(!1);const it=M!==po&&this.type===po,K=M===po&&this.type!==po;for(let lt=0,J=B.length;lt<J;lt++){const tt=B[lt],Q=tt.shadow;if(Q===void 0){console.warn("THREE.WebGLShadowMap:",tt,"has no shadow.");continue}if(Q.autoUpdate===!1&&Q.needsUpdate===!1)continue;s.copy(Q.mapSize);const _t=Q.getFrameExtents();if(s.multiply(_t),r.copy(Q.mapSize),(s.x>m||s.y>m)&&(s.x>m&&(r.x=Math.floor(m/_t.x),s.x=r.x*_t.x,Q.mapSize.x=r.x),s.y>m&&(r.y=Math.floor(m/_t.y),s.y=r.y*_t.y,Q.mapSize.y=r.y)),Q.map===null||it===!0||K===!0){const at=this.type!==po?{minFilter:Ds,magFilter:Ds}:{};Q.map!==null&&Q.map.dispose(),Q.map=new gl(s.x,s.y,at),Q.map.texture.name=tt.name+".shadowMap",Q.camera.updateProjectionMatrix()}n.setRenderTarget(Q.map),n.clear();const j=Q.getViewportCount();for(let at=0;at<j;at++){const At=Q.getViewport(at);l.set(r.x*At.x,r.y*At.y,r.x*At.z,r.y*At.w),pt.viewport(l),Q.updateMatrices(tt,at),i=Q.getFrustum(),L(I,V,Q.camera,tt,this.type)}Q.isPointLightShadow!==!0&&this.type===po&&R(Q,V),Q.needsUpdate=!1}M=this.type,E.needsUpdate=!1,n.setRenderTarget(U,P,X)};function R(B,I){const V=t.update(C);x.defines.VSM_SAMPLES!==B.blurSamples&&(x.defines.VSM_SAMPLES=B.blurSamples,_.defines.VSM_SAMPLES=B.blurSamples,x.needsUpdate=!0,_.needsUpdate=!0),B.mapPass===null&&(B.mapPass=new gl(s.x,s.y)),x.uniforms.shadow_pass.value=B.map.texture,x.uniforms.resolution.value=B.mapSize,x.uniforms.radius.value=B.radius,n.setRenderTarget(B.mapPass),n.clear(),n.renderBufferDirect(I,null,V,x,C,null),_.uniforms.shadow_pass.value=B.mapPass.texture,_.uniforms.resolution.value=B.mapSize,_.uniforms.radius.value=B.radius,n.setRenderTarget(B.map),n.clear(),n.renderBufferDirect(I,null,V,_,C,null)}function D(B,I,V,U){let P=null;const X=V.isPointLight===!0?B.customDistanceMaterial:B.customDepthMaterial;if(X!==void 0)P=X;else if(P=V.isPointLight===!0?h:u,n.localClippingEnabled&&I.clipShadows===!0&&Array.isArray(I.clippingPlanes)&&I.clippingPlanes.length!==0||I.displacementMap&&I.displacementScale!==0||I.alphaMap&&I.alphaTest>0||I.map&&I.alphaTest>0){const pt=P.uuid,it=I.uuid;let K=p[pt];K===void 0&&(K={},p[pt]=K);let lt=K[it];lt===void 0&&(lt=P.clone(),K[it]=lt,I.addEventListener("dispose",z)),P=lt}if(P.visible=I.visible,P.wireframe=I.wireframe,U===po?P.side=I.shadowSide!==null?I.shadowSide:I.side:P.side=I.shadowSide!==null?I.shadowSide:v[I.side],P.alphaMap=I.alphaMap,P.alphaTest=I.alphaTest,P.map=I.map,P.clipShadows=I.clipShadows,P.clippingPlanes=I.clippingPlanes,P.clipIntersection=I.clipIntersection,P.displacementMap=I.displacementMap,P.displacementScale=I.displacementScale,P.displacementBias=I.displacementBias,P.wireframeLinewidth=I.wireframeLinewidth,P.linewidth=I.linewidth,V.isPointLight===!0&&P.isMeshDistanceMaterial===!0){const pt=n.properties.get(P);pt.light=V}return P}function L(B,I,V,U,P){if(B.visible===!1)return;if(B.layers.test(I.layers)&&(B.isMesh||B.isLine||B.isPoints)&&(B.castShadow||B.receiveShadow&&P===po)&&(!B.frustumCulled||i.intersectsObject(B))){B.modelViewMatrix.multiplyMatrices(V.matrixWorldInverse,B.matrixWorld);const it=t.update(B),K=B.material;if(Array.isArray(K)){const lt=it.groups;for(let J=0,tt=lt.length;J<tt;J++){const Q=lt[J],_t=K[Q.materialIndex];if(_t&&_t.visible){const j=D(B,_t,U,P);B.onBeforeShadow(n,B,I,V,it,j,Q),n.renderBufferDirect(V,null,it,j,B,Q),B.onAfterShadow(n,B,I,V,it,j,Q)}}}else if(K.visible){const lt=D(B,K,U,P);B.onBeforeShadow(n,B,I,V,it,lt,null),n.renderBufferDirect(V,null,it,lt,B,null),B.onAfterShadow(n,B,I,V,it,lt,null)}}const pt=B.children;for(let it=0,K=pt.length;it<K;it++)L(pt[it],I,V,U,P)}function z(B){B.target.removeEventListener("dispose",z);for(const V in p){const U=p[V],P=B.target.uuid;P in U&&(U[P].dispose(),delete U[P])}}}const q6={[Tx]:Ex,[Ax]:Rx,[wx]:Dx,[nh]:Cx,[Ex]:Tx,[Rx]:Ax,[Dx]:wx,[Cx]:nh};function Y6(n,t){function e(){let ct=!1;const ie=new Mn;let Tt=null;const Pt=new Mn(0,0,0,0);return{setMask:function(te){Tt!==te&&!ct&&(n.colorMask(te,te,te,te),Tt=te)},setLocked:function(te){ct=te},setClear:function(te,ne,Ne,Pn,Jn){Jn===!0&&(te*=Pn,ne*=Pn,Ne*=Pn),ie.set(te,ne,Ne,Pn),Pt.equals(ie)===!1&&(n.clearColor(te,ne,Ne,Pn),Pt.copy(ie))},reset:function(){ct=!1,Tt=null,Pt.set(-1,0,0,0)}}}function i(){let ct=!1,ie=!1,Tt=null,Pt=null,te=null;return{setReversed:function(ne){if(ie!==ne){const Ne=t.get("EXT_clip_control");ie?Ne.clipControlEXT(Ne.LOWER_LEFT_EXT,Ne.ZERO_TO_ONE_EXT):Ne.clipControlEXT(Ne.LOWER_LEFT_EXT,Ne.NEGATIVE_ONE_TO_ONE_EXT);const Pn=te;te=null,this.setClear(Pn)}ie=ne},getReversed:function(){return ie},setTest:function(ne){ne?It(n.DEPTH_TEST):kt(n.DEPTH_TEST)},setMask:function(ne){Tt!==ne&&!ct&&(n.depthMask(ne),Tt=ne)},setFunc:function(ne){if(ie&&(ne=q6[ne]),Pt!==ne){switch(ne){case Tx:n.depthFunc(n.NEVER);break;case Ex:n.depthFunc(n.ALWAYS);break;case Ax:n.depthFunc(n.LESS);break;case nh:n.depthFunc(n.LEQUAL);break;case wx:n.depthFunc(n.EQUAL);break;case Cx:n.depthFunc(n.GEQUAL);break;case Rx:n.depthFunc(n.GREATER);break;case Dx:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}Pt=ne}},setLocked:function(ne){ct=ne},setClear:function(ne){te!==ne&&(ie&&(ne=1-ne),n.clearDepth(ne),te=ne)},reset:function(){ct=!1,Tt=null,Pt=null,te=null,ie=!1}}}function s(){let ct=!1,ie=null,Tt=null,Pt=null,te=null,ne=null,Ne=null,Pn=null,Jn=null;return{setTest:function(hn){ct||(hn?It(n.STENCIL_TEST):kt(n.STENCIL_TEST))},setMask:function(hn){ie!==hn&&!ct&&(n.stencilMask(hn),ie=hn)},setFunc:function(hn,ts,es){(Tt!==hn||Pt!==ts||te!==es)&&(n.stencilFunc(hn,ts,es),Tt=hn,Pt=ts,te=es)},setOp:function(hn,ts,es){(ne!==hn||Ne!==ts||Pn!==es)&&(n.stencilOp(hn,ts,es),ne=hn,Ne=ts,Pn=es)},setLocked:function(hn){ct=hn},setClear:function(hn){Jn!==hn&&(n.clearStencil(hn),Jn=hn)},reset:function(){ct=!1,ie=null,Tt=null,Pt=null,te=null,ne=null,Ne=null,Pn=null,Jn=null}}}const r=new e,l=new i,u=new s,h=new WeakMap,p=new WeakMap;let m={},v={},x=new WeakMap,_=[],T=null,C=!1,E=null,M=null,R=null,D=null,L=null,z=null,B=null,I=new de(0,0,0),V=0,U=!1,P=null,X=null,pt=null,it=null,K=null;const lt=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let J=!1,tt=0;const Q=n.getParameter(n.VERSION);Q.indexOf("WebGL")!==-1?(tt=parseFloat(/^WebGL (\d)/.exec(Q)[1]),J=tt>=1):Q.indexOf("OpenGL ES")!==-1&&(tt=parseFloat(/^OpenGL ES (\d)/.exec(Q)[1]),J=tt>=2);let _t=null,j={};const at=n.getParameter(n.SCISSOR_BOX),At=n.getParameter(n.VIEWPORT),zt=new Mn().fromArray(at),st=new Mn().fromArray(At);function Et(ct,ie,Tt,Pt){const te=new Uint8Array(4),ne=n.createTexture();n.bindTexture(ct,ne),n.texParameteri(ct,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(ct,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Ne=0;Ne<Tt;Ne++)ct===n.TEXTURE_3D||ct===n.TEXTURE_2D_ARRAY?n.texImage3D(ie,0,n.RGBA,1,1,Pt,0,n.RGBA,n.UNSIGNED_BYTE,te):n.texImage2D(ie+Ne,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,te);return ne}const Ut={};Ut[n.TEXTURE_2D]=Et(n.TEXTURE_2D,n.TEXTURE_2D,1),Ut[n.TEXTURE_CUBE_MAP]=Et(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),Ut[n.TEXTURE_2D_ARRAY]=Et(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Ut[n.TEXTURE_3D]=Et(n.TEXTURE_3D,n.TEXTURE_3D,1,1),r.setClear(0,0,0,1),l.setClear(1),u.setClear(0),It(n.DEPTH_TEST),l.setFunc(nh),Ht(!1),$t(Bb),It(n.CULL_FACE),Y(rc);function It(ct){m[ct]!==!0&&(n.enable(ct),m[ct]=!0)}function kt(ct){m[ct]!==!1&&(n.disable(ct),m[ct]=!1)}function ye(ct,ie){return v[ct]!==ie?(n.bindFramebuffer(ct,ie),v[ct]=ie,ct===n.DRAW_FRAMEBUFFER&&(v[n.FRAMEBUFFER]=ie),ct===n.FRAMEBUFFER&&(v[n.DRAW_FRAMEBUFFER]=ie),!0):!1}function qt(ct,ie){let Tt=_,Pt=!1;if(ct){Tt=x.get(ie),Tt===void 0&&(Tt=[],x.set(ie,Tt));const te=ct.textures;if(Tt.length!==te.length||Tt[0]!==n.COLOR_ATTACHMENT0){for(let ne=0,Ne=te.length;ne<Ne;ne++)Tt[ne]=n.COLOR_ATTACHMENT0+ne;Tt.length=te.length,Pt=!0}}else Tt[0]!==n.BACK&&(Tt[0]=n.BACK,Pt=!0);Pt&&n.drawBuffers(Tt)}function le(ct){return T!==ct?(n.useProgram(ct),T=ct,!0):!1}const Ot={[mu]:n.FUNC_ADD,[i3]:n.FUNC_SUBTRACT,[s3]:n.FUNC_REVERSE_SUBTRACT};Ot[a3]=n.MIN,Ot[r3]=n.MAX;const Rt={[o3]:n.ZERO,[l3]:n.ONE,[c3]:n.SRC_COLOR,[bx]:n.SRC_ALPHA,[m3]:n.SRC_ALPHA_SATURATE,[d3]:n.DST_COLOR,[f3]:n.DST_ALPHA,[u3]:n.ONE_MINUS_SRC_COLOR,[Mx]:n.ONE_MINUS_SRC_ALPHA,[p3]:n.ONE_MINUS_DST_COLOR,[h3]:n.ONE_MINUS_DST_ALPHA,[g3]:n.CONSTANT_COLOR,[v3]:n.ONE_MINUS_CONSTANT_COLOR,[y3]:n.CONSTANT_ALPHA,[x3]:n.ONE_MINUS_CONSTANT_ALPHA};function Y(ct,ie,Tt,Pt,te,ne,Ne,Pn,Jn,hn){if(ct===rc){C===!0&&(kt(n.BLEND),C=!1);return}if(C===!1&&(It(n.BLEND),C=!0),ct!==n3){if(ct!==E||hn!==U){if((M!==mu||L!==mu)&&(n.blendEquation(n.FUNC_ADD),M=mu,L=mu),hn)switch(ct){case Zf:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case Vb:n.blendFunc(n.ONE,n.ONE);break;case Ib:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case Fb:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ct);break}else switch(ct){case Zf:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case Vb:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case Ib:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case Fb:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ct);break}R=null,D=null,z=null,B=null,I.set(0,0,0),V=0,E=ct,U=hn}return}te=te||ie,ne=ne||Tt,Ne=Ne||Pt,(ie!==M||te!==L)&&(n.blendEquationSeparate(Ot[ie],Ot[te]),M=ie,L=te),(Tt!==R||Pt!==D||ne!==z||Ne!==B)&&(n.blendFuncSeparate(Rt[Tt],Rt[Pt],Rt[ne],Rt[Ne]),R=Tt,D=Pt,z=ne,B=Ne),(Pn.equals(I)===!1||Jn!==V)&&(n.blendColor(Pn.r,Pn.g,Pn.b,Jn),I.copy(Pn),V=Jn),E=ct,U=!1}function ue(ct,ie){ct.side===go?kt(n.CULL_FACE):It(n.CULL_FACE);let Tt=ct.side===da;ie&&(Tt=!Tt),Ht(Tt),ct.blending===Zf&&ct.transparent===!1?Y(rc):Y(ct.blending,ct.blendEquation,ct.blendSrc,ct.blendDst,ct.blendEquationAlpha,ct.blendSrcAlpha,ct.blendDstAlpha,ct.blendColor,ct.blendAlpha,ct.premultipliedAlpha),l.setFunc(ct.depthFunc),l.setTest(ct.depthTest),l.setMask(ct.depthWrite),r.setMask(ct.colorWrite);const Pt=ct.stencilWrite;u.setTest(Pt),Pt&&(u.setMask(ct.stencilWriteMask),u.setFunc(ct.stencilFunc,ct.stencilRef,ct.stencilFuncMask),u.setOp(ct.stencilFail,ct.stencilZFail,ct.stencilZPass)),Se(ct.polygonOffset,ct.polygonOffsetFactor,ct.polygonOffsetUnits),ct.alphaToCoverage===!0?It(n.SAMPLE_ALPHA_TO_COVERAGE):kt(n.SAMPLE_ALPHA_TO_COVERAGE)}function Ht(ct){P!==ct&&(ct?n.frontFace(n.CW):n.frontFace(n.CCW),P=ct)}function $t(ct){ct!==JD?(It(n.CULL_FACE),ct!==X&&(ct===Bb?n.cullFace(n.BACK):ct===t3?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):kt(n.CULL_FACE),X=ct}function Kt(ct){ct!==pt&&(J&&n.lineWidth(ct),pt=ct)}function Se(ct,ie,Tt){ct?(It(n.POLYGON_OFFSET_FILL),(it!==ie||K!==Tt)&&(n.polygonOffset(ie,Tt),it=ie,K=Tt)):kt(n.POLYGON_OFFSET_FILL)}function Qt(ct){ct?It(n.SCISSOR_TEST):kt(n.SCISSOR_TEST)}function q(ct){ct===void 0&&(ct=n.TEXTURE0+lt-1),_t!==ct&&(n.activeTexture(ct),_t=ct)}function F(ct,ie,Tt){Tt===void 0&&(_t===null?Tt=n.TEXTURE0+lt-1:Tt=_t);let Pt=j[Tt];Pt===void 0&&(Pt={type:void 0,texture:void 0},j[Tt]=Pt),(Pt.type!==ct||Pt.texture!==ie)&&(_t!==Tt&&(n.activeTexture(Tt),_t=Tt),n.bindTexture(ct,ie||Ut[ct]),Pt.type=ct,Pt.texture=ie)}function vt(){const ct=j[_t];ct!==void 0&&ct.type!==void 0&&(n.bindTexture(ct.type,null),ct.type=void 0,ct.texture=void 0)}function wt(){try{n.compressedTexImage2D.apply(n,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function Ft(){try{n.compressedTexImage3D.apply(n,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function Dt(){try{n.texSubImage2D.apply(n,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function ce(){try{n.texSubImage3D.apply(n,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function ee(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function fe(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function We(){try{n.texStorage2D.apply(n,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function Wt(){try{n.texStorage3D.apply(n,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function pe(){try{n.texImage2D.apply(n,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function xe(){try{n.texImage3D.apply(n,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function ve(ct){zt.equals(ct)===!1&&(n.scissor(ct.x,ct.y,ct.z,ct.w),zt.copy(ct))}function he(ct){st.equals(ct)===!1&&(n.viewport(ct.x,ct.y,ct.z,ct.w),st.copy(ct))}function Fe(ct,ie){let Tt=p.get(ie);Tt===void 0&&(Tt=new WeakMap,p.set(ie,Tt));let Pt=Tt.get(ct);Pt===void 0&&(Pt=n.getUniformBlockIndex(ie,ct.name),Tt.set(ct,Pt))}function Me(ct,ie){const Pt=p.get(ie).get(ct);h.get(ie)!==Pt&&(n.uniformBlockBinding(ie,Pt,ct.__bindingPointIndex),h.set(ie,Pt))}function xn(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),l.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),m={},_t=null,j={},v={},x=new WeakMap,_=[],T=null,C=!1,E=null,M=null,R=null,D=null,L=null,z=null,B=null,I=new de(0,0,0),V=0,U=!1,P=null,X=null,pt=null,it=null,K=null,zt.set(0,0,n.canvas.width,n.canvas.height),st.set(0,0,n.canvas.width,n.canvas.height),r.reset(),l.reset(),u.reset()}return{buffers:{color:r,depth:l,stencil:u},enable:It,disable:kt,bindFramebuffer:ye,drawBuffers:qt,useProgram:le,setBlending:Y,setMaterial:ue,setFlipSided:Ht,setCullFace:$t,setLineWidth:Kt,setPolygonOffset:Se,setScissorTest:Qt,activeTexture:q,bindTexture:F,unbindTexture:vt,compressedTexImage2D:wt,compressedTexImage3D:Ft,texImage2D:pe,texImage3D:xe,updateUBOMapping:Fe,uniformBlockBinding:Me,texStorage2D:We,texStorage3D:Wt,texSubImage2D:Dt,texSubImage3D:ce,compressedTexSubImage2D:ee,compressedTexSubImage3D:fe,scissor:ve,viewport:he,reset:xn}}function W6(n,t,e,i,s,r,l){const u=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,h=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),p=new Vt,m=new WeakMap;let v;const x=new WeakMap;let _=!1;try{_=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function T(q,F){return _?new OffscreenCanvas(q,F):Bg("canvas")}function C(q,F,vt){let wt=1;const Ft=Qt(q);if((Ft.width>vt||Ft.height>vt)&&(wt=vt/Math.max(Ft.width,Ft.height)),wt<1)if(typeof HTMLImageElement<"u"&&q instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&q instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&q instanceof ImageBitmap||typeof VideoFrame<"u"&&q instanceof VideoFrame){const Dt=Math.floor(wt*Ft.width),ce=Math.floor(wt*Ft.height);v===void 0&&(v=T(Dt,ce));const ee=F?T(Dt,ce):v;return ee.width=Dt,ee.height=ce,ee.getContext("2d").drawImage(q,0,0,Dt,ce),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ft.width+"x"+Ft.height+") to ("+Dt+"x"+ce+")."),ee}else return"data"in q&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ft.width+"x"+Ft.height+")."),q;return q}function E(q){return q.generateMipmaps}function M(q){n.generateMipmap(q)}function R(q){return q.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:q.isWebGL3DRenderTarget?n.TEXTURE_3D:q.isWebGLArrayRenderTarget||q.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function D(q,F,vt,wt,Ft=!1){if(q!==null){if(n[q]!==void 0)return n[q];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+q+"'")}let Dt=F;if(F===n.RED&&(vt===n.FLOAT&&(Dt=n.R32F),vt===n.HALF_FLOAT&&(Dt=n.R16F),vt===n.UNSIGNED_BYTE&&(Dt=n.R8)),F===n.RED_INTEGER&&(vt===n.UNSIGNED_BYTE&&(Dt=n.R8UI),vt===n.UNSIGNED_SHORT&&(Dt=n.R16UI),vt===n.UNSIGNED_INT&&(Dt=n.R32UI),vt===n.BYTE&&(Dt=n.R8I),vt===n.SHORT&&(Dt=n.R16I),vt===n.INT&&(Dt=n.R32I)),F===n.RG&&(vt===n.FLOAT&&(Dt=n.RG32F),vt===n.HALF_FLOAT&&(Dt=n.RG16F),vt===n.UNSIGNED_BYTE&&(Dt=n.RG8)),F===n.RG_INTEGER&&(vt===n.UNSIGNED_BYTE&&(Dt=n.RG8UI),vt===n.UNSIGNED_SHORT&&(Dt=n.RG16UI),vt===n.UNSIGNED_INT&&(Dt=n.RG32UI),vt===n.BYTE&&(Dt=n.RG8I),vt===n.SHORT&&(Dt=n.RG16I),vt===n.INT&&(Dt=n.RG32I)),F===n.RGB_INTEGER&&(vt===n.UNSIGNED_BYTE&&(Dt=n.RGB8UI),vt===n.UNSIGNED_SHORT&&(Dt=n.RGB16UI),vt===n.UNSIGNED_INT&&(Dt=n.RGB32UI),vt===n.BYTE&&(Dt=n.RGB8I),vt===n.SHORT&&(Dt=n.RGB16I),vt===n.INT&&(Dt=n.RGB32I)),F===n.RGBA_INTEGER&&(vt===n.UNSIGNED_BYTE&&(Dt=n.RGBA8UI),vt===n.UNSIGNED_SHORT&&(Dt=n.RGBA16UI),vt===n.UNSIGNED_INT&&(Dt=n.RGBA32UI),vt===n.BYTE&&(Dt=n.RGBA8I),vt===n.SHORT&&(Dt=n.RGBA16I),vt===n.INT&&(Dt=n.RGBA32I)),F===n.RGB&&vt===n.UNSIGNED_INT_5_9_9_9_REV&&(Dt=n.RGB9_E5),F===n.RGBA){const ce=Ft?Og:yn.getTransfer(wt);vt===n.FLOAT&&(Dt=n.RGBA32F),vt===n.HALF_FLOAT&&(Dt=n.RGBA16F),vt===n.UNSIGNED_BYTE&&(Dt=ce===Vn?n.SRGB8_ALPHA8:n.RGBA8),vt===n.UNSIGNED_SHORT_4_4_4_4&&(Dt=n.RGBA4),vt===n.UNSIGNED_SHORT_5_5_5_1&&(Dt=n.RGB5_A1)}return(Dt===n.R16F||Dt===n.R32F||Dt===n.RG16F||Dt===n.RG32F||Dt===n.RGBA16F||Dt===n.RGBA32F)&&t.get("EXT_color_buffer_float"),Dt}function L(q,F){let vt;return q?F===null||F===hc||F===ih?vt=n.DEPTH24_STENCIL8:F===Pa?vt=n.DEPTH32F_STENCIL8:F===Jd&&(vt=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):F===null||F===hc||F===ih?vt=n.DEPTH_COMPONENT24:F===Pa?vt=n.DEPTH_COMPONENT32F:F===Jd&&(vt=n.DEPTH_COMPONENT16),vt}function z(q,F){return E(q)===!0||q.isFramebufferTexture&&q.minFilter!==Ds&&q.minFilter!==Qi?Math.log2(Math.max(F.width,F.height))+1:q.mipmaps!==void 0&&q.mipmaps.length>0?q.mipmaps.length:q.isCompressedTexture&&Array.isArray(q.image)?F.mipmaps.length:1}function B(q){const F=q.target;F.removeEventListener("dispose",B),V(F),F.isVideoTexture&&m.delete(F)}function I(q){const F=q.target;F.removeEventListener("dispose",I),P(F)}function V(q){const F=i.get(q);if(F.__webglInit===void 0)return;const vt=q.source,wt=x.get(vt);if(wt){const Ft=wt[F.__cacheKey];Ft.usedTimes--,Ft.usedTimes===0&&U(q),Object.keys(wt).length===0&&x.delete(vt)}i.remove(q)}function U(q){const F=i.get(q);n.deleteTexture(F.__webglTexture);const vt=q.source,wt=x.get(vt);delete wt[F.__cacheKey],l.memory.textures--}function P(q){const F=i.get(q);if(q.depthTexture&&(q.depthTexture.dispose(),i.remove(q.depthTexture)),q.isWebGLCubeRenderTarget)for(let wt=0;wt<6;wt++){if(Array.isArray(F.__webglFramebuffer[wt]))for(let Ft=0;Ft<F.__webglFramebuffer[wt].length;Ft++)n.deleteFramebuffer(F.__webglFramebuffer[wt][Ft]);else n.deleteFramebuffer(F.__webglFramebuffer[wt]);F.__webglDepthbuffer&&n.deleteRenderbuffer(F.__webglDepthbuffer[wt])}else{if(Array.isArray(F.__webglFramebuffer))for(let wt=0;wt<F.__webglFramebuffer.length;wt++)n.deleteFramebuffer(F.__webglFramebuffer[wt]);else n.deleteFramebuffer(F.__webglFramebuffer);if(F.__webglDepthbuffer&&n.deleteRenderbuffer(F.__webglDepthbuffer),F.__webglMultisampledFramebuffer&&n.deleteFramebuffer(F.__webglMultisampledFramebuffer),F.__webglColorRenderbuffer)for(let wt=0;wt<F.__webglColorRenderbuffer.length;wt++)F.__webglColorRenderbuffer[wt]&&n.deleteRenderbuffer(F.__webglColorRenderbuffer[wt]);F.__webglDepthRenderbuffer&&n.deleteRenderbuffer(F.__webglDepthRenderbuffer)}const vt=q.textures;for(let wt=0,Ft=vt.length;wt<Ft;wt++){const Dt=i.get(vt[wt]);Dt.__webglTexture&&(n.deleteTexture(Dt.__webglTexture),l.memory.textures--),i.remove(vt[wt])}i.remove(q)}let X=0;function pt(){X=0}function it(){const q=X;return q>=s.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+q+" texture units while this GPU supports only "+s.maxTextures),X+=1,q}function K(q){const F=[];return F.push(q.wrapS),F.push(q.wrapT),F.push(q.wrapR||0),F.push(q.magFilter),F.push(q.minFilter),F.push(q.anisotropy),F.push(q.internalFormat),F.push(q.format),F.push(q.type),F.push(q.generateMipmaps),F.push(q.premultiplyAlpha),F.push(q.flipY),F.push(q.unpackAlignment),F.push(q.colorSpace),F.join()}function lt(q,F){const vt=i.get(q);if(q.isVideoTexture&&Kt(q),q.isRenderTargetTexture===!1&&q.version>0&&vt.__version!==q.version){const wt=q.image;if(wt===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(wt.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{st(vt,q,F);return}}e.bindTexture(n.TEXTURE_2D,vt.__webglTexture,n.TEXTURE0+F)}function J(q,F){const vt=i.get(q);if(q.version>0&&vt.__version!==q.version){st(vt,q,F);return}e.bindTexture(n.TEXTURE_2D_ARRAY,vt.__webglTexture,n.TEXTURE0+F)}function tt(q,F){const vt=i.get(q);if(q.version>0&&vt.__version!==q.version){st(vt,q,F);return}e.bindTexture(n.TEXTURE_3D,vt.__webglTexture,n.TEXTURE0+F)}function Q(q,F){const vt=i.get(q);if(q.version>0&&vt.__version!==q.version){Et(vt,q,F);return}e.bindTexture(n.TEXTURE_CUBE_MAP,vt.__webglTexture,n.TEXTURE0+F)}const _t={[Dg]:n.REPEAT,[Cr]:n.CLAMP_TO_EDGE,[Ng]:n.MIRRORED_REPEAT},j={[Ds]:n.NEAREST,[QM]:n.NEAREST_MIPMAP_NEAREST,[Ud]:n.NEAREST_MIPMAP_LINEAR,[Qi]:n.LINEAR,[lg]:n.LINEAR_MIPMAP_NEAREST,[ol]:n.LINEAR_MIPMAP_LINEAR},at={[P3]:n.NEVER,[H3]:n.ALWAYS,[z3]:n.LESS,[lT]:n.LEQUAL,[B3]:n.EQUAL,[F3]:n.GEQUAL,[V3]:n.GREATER,[I3]:n.NOTEQUAL};function At(q,F){if(F.type===Pa&&t.has("OES_texture_float_linear")===!1&&(F.magFilter===Qi||F.magFilter===lg||F.magFilter===Ud||F.magFilter===ol||F.minFilter===Qi||F.minFilter===lg||F.minFilter===Ud||F.minFilter===ol)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(q,n.TEXTURE_WRAP_S,_t[F.wrapS]),n.texParameteri(q,n.TEXTURE_WRAP_T,_t[F.wrapT]),(q===n.TEXTURE_3D||q===n.TEXTURE_2D_ARRAY)&&n.texParameteri(q,n.TEXTURE_WRAP_R,_t[F.wrapR]),n.texParameteri(q,n.TEXTURE_MAG_FILTER,j[F.magFilter]),n.texParameteri(q,n.TEXTURE_MIN_FILTER,j[F.minFilter]),F.compareFunction&&(n.texParameteri(q,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(q,n.TEXTURE_COMPARE_FUNC,at[F.compareFunction])),t.has("EXT_texture_filter_anisotropic")===!0){if(F.magFilter===Ds||F.minFilter!==Ud&&F.minFilter!==ol||F.type===Pa&&t.has("OES_texture_float_linear")===!1)return;if(F.anisotropy>1||i.get(F).__currentAnisotropy){const vt=t.get("EXT_texture_filter_anisotropic");n.texParameterf(q,vt.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(F.anisotropy,s.getMaxAnisotropy())),i.get(F).__currentAnisotropy=F.anisotropy}}}function zt(q,F){let vt=!1;q.__webglInit===void 0&&(q.__webglInit=!0,F.addEventListener("dispose",B));const wt=F.source;let Ft=x.get(wt);Ft===void 0&&(Ft={},x.set(wt,Ft));const Dt=K(F);if(Dt!==q.__cacheKey){Ft[Dt]===void 0&&(Ft[Dt]={texture:n.createTexture(),usedTimes:0},l.memory.textures++,vt=!0),Ft[Dt].usedTimes++;const ce=Ft[q.__cacheKey];ce!==void 0&&(Ft[q.__cacheKey].usedTimes--,ce.usedTimes===0&&U(F)),q.__cacheKey=Dt,q.__webglTexture=Ft[Dt].texture}return vt}function st(q,F,vt){let wt=n.TEXTURE_2D;(F.isDataArrayTexture||F.isCompressedArrayTexture)&&(wt=n.TEXTURE_2D_ARRAY),F.isData3DTexture&&(wt=n.TEXTURE_3D);const Ft=zt(q,F),Dt=F.source;e.bindTexture(wt,q.__webglTexture,n.TEXTURE0+vt);const ce=i.get(Dt);if(Dt.version!==ce.__version||Ft===!0){e.activeTexture(n.TEXTURE0+vt);const ee=yn.getPrimaries(yn.workingColorSpace),fe=F.colorSpace===ic?null:yn.getPrimaries(F.colorSpace),We=F.colorSpace===ic||ee===fe?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,F.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,F.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,F.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,We);let Wt=C(F.image,!1,s.maxTextureSize);Wt=Se(F,Wt);const pe=r.convert(F.format,F.colorSpace),xe=r.convert(F.type);let ve=D(F.internalFormat,pe,xe,F.colorSpace,F.isVideoTexture);At(wt,F);let he;const Fe=F.mipmaps,Me=F.isVideoTexture!==!0,xn=ce.__version===void 0||Ft===!0,ct=Dt.dataReady,ie=z(F,Wt);if(F.isDepthTexture)ve=L(F.format===sh,F.type),xn&&(Me?e.texStorage2D(n.TEXTURE_2D,1,ve,Wt.width,Wt.height):e.texImage2D(n.TEXTURE_2D,0,ve,Wt.width,Wt.height,0,pe,xe,null));else if(F.isDataTexture)if(Fe.length>0){Me&&xn&&e.texStorage2D(n.TEXTURE_2D,ie,ve,Fe[0].width,Fe[0].height);for(let Tt=0,Pt=Fe.length;Tt<Pt;Tt++)he=Fe[Tt],Me?ct&&e.texSubImage2D(n.TEXTURE_2D,Tt,0,0,he.width,he.height,pe,xe,he.data):e.texImage2D(n.TEXTURE_2D,Tt,ve,he.width,he.height,0,pe,xe,he.data);F.generateMipmaps=!1}else Me?(xn&&e.texStorage2D(n.TEXTURE_2D,ie,ve,Wt.width,Wt.height),ct&&e.texSubImage2D(n.TEXTURE_2D,0,0,0,Wt.width,Wt.height,pe,xe,Wt.data)):e.texImage2D(n.TEXTURE_2D,0,ve,Wt.width,Wt.height,0,pe,xe,Wt.data);else if(F.isCompressedTexture)if(F.isCompressedArrayTexture){Me&&xn&&e.texStorage3D(n.TEXTURE_2D_ARRAY,ie,ve,Fe[0].width,Fe[0].height,Wt.depth);for(let Tt=0,Pt=Fe.length;Tt<Pt;Tt++)if(he=Fe[Tt],F.format!==Ys)if(pe!==null)if(Me){if(ct)if(F.layerUpdates.size>0){const te=Kb(he.width,he.height,F.format,F.type);for(const ne of F.layerUpdates){const Ne=he.data.subarray(ne*te/he.data.BYTES_PER_ELEMENT,(ne+1)*te/he.data.BYTES_PER_ELEMENT);e.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Tt,0,0,ne,he.width,he.height,1,pe,Ne)}F.clearLayerUpdates()}else e.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Tt,0,0,0,he.width,he.height,Wt.depth,pe,he.data)}else e.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Tt,ve,he.width,he.height,Wt.depth,0,he.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Me?ct&&e.texSubImage3D(n.TEXTURE_2D_ARRAY,Tt,0,0,0,he.width,he.height,Wt.depth,pe,xe,he.data):e.texImage3D(n.TEXTURE_2D_ARRAY,Tt,ve,he.width,he.height,Wt.depth,0,pe,xe,he.data)}else{Me&&xn&&e.texStorage2D(n.TEXTURE_2D,ie,ve,Fe[0].width,Fe[0].height);for(let Tt=0,Pt=Fe.length;Tt<Pt;Tt++)he=Fe[Tt],F.format!==Ys?pe!==null?Me?ct&&e.compressedTexSubImage2D(n.TEXTURE_2D,Tt,0,0,he.width,he.height,pe,he.data):e.compressedTexImage2D(n.TEXTURE_2D,Tt,ve,he.width,he.height,0,he.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Me?ct&&e.texSubImage2D(n.TEXTURE_2D,Tt,0,0,he.width,he.height,pe,xe,he.data):e.texImage2D(n.TEXTURE_2D,Tt,ve,he.width,he.height,0,pe,xe,he.data)}else if(F.isDataArrayTexture)if(Me){if(xn&&e.texStorage3D(n.TEXTURE_2D_ARRAY,ie,ve,Wt.width,Wt.height,Wt.depth),ct)if(F.layerUpdates.size>0){const Tt=Kb(Wt.width,Wt.height,F.format,F.type);for(const Pt of F.layerUpdates){const te=Wt.data.subarray(Pt*Tt/Wt.data.BYTES_PER_ELEMENT,(Pt+1)*Tt/Wt.data.BYTES_PER_ELEMENT);e.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,Pt,Wt.width,Wt.height,1,pe,xe,te)}F.clearLayerUpdates()}else e.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Wt.width,Wt.height,Wt.depth,pe,xe,Wt.data)}else e.texImage3D(n.TEXTURE_2D_ARRAY,0,ve,Wt.width,Wt.height,Wt.depth,0,pe,xe,Wt.data);else if(F.isData3DTexture)Me?(xn&&e.texStorage3D(n.TEXTURE_3D,ie,ve,Wt.width,Wt.height,Wt.depth),ct&&e.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Wt.width,Wt.height,Wt.depth,pe,xe,Wt.data)):e.texImage3D(n.TEXTURE_3D,0,ve,Wt.width,Wt.height,Wt.depth,0,pe,xe,Wt.data);else if(F.isFramebufferTexture){if(xn)if(Me)e.texStorage2D(n.TEXTURE_2D,ie,ve,Wt.width,Wt.height);else{let Tt=Wt.width,Pt=Wt.height;for(let te=0;te<ie;te++)e.texImage2D(n.TEXTURE_2D,te,ve,Tt,Pt,0,pe,xe,null),Tt>>=1,Pt>>=1}}else if(Fe.length>0){if(Me&&xn){const Tt=Qt(Fe[0]);e.texStorage2D(n.TEXTURE_2D,ie,ve,Tt.width,Tt.height)}for(let Tt=0,Pt=Fe.length;Tt<Pt;Tt++)he=Fe[Tt],Me?ct&&e.texSubImage2D(n.TEXTURE_2D,Tt,0,0,pe,xe,he):e.texImage2D(n.TEXTURE_2D,Tt,ve,pe,xe,he);F.generateMipmaps=!1}else if(Me){if(xn){const Tt=Qt(Wt);e.texStorage2D(n.TEXTURE_2D,ie,ve,Tt.width,Tt.height)}ct&&e.texSubImage2D(n.TEXTURE_2D,0,0,0,pe,xe,Wt)}else e.texImage2D(n.TEXTURE_2D,0,ve,pe,xe,Wt);E(F)&&M(wt),ce.__version=Dt.version,F.onUpdate&&F.onUpdate(F)}q.__version=F.version}function Et(q,F,vt){if(F.image.length!==6)return;const wt=zt(q,F),Ft=F.source;e.bindTexture(n.TEXTURE_CUBE_MAP,q.__webglTexture,n.TEXTURE0+vt);const Dt=i.get(Ft);if(Ft.version!==Dt.__version||wt===!0){e.activeTexture(n.TEXTURE0+vt);const ce=yn.getPrimaries(yn.workingColorSpace),ee=F.colorSpace===ic?null:yn.getPrimaries(F.colorSpace),fe=F.colorSpace===ic||ce===ee?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,F.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,F.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,F.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,fe);const We=F.isCompressedTexture||F.image[0].isCompressedTexture,Wt=F.image[0]&&F.image[0].isDataTexture,pe=[];for(let Pt=0;Pt<6;Pt++)!We&&!Wt?pe[Pt]=C(F.image[Pt],!0,s.maxCubemapSize):pe[Pt]=Wt?F.image[Pt].image:F.image[Pt],pe[Pt]=Se(F,pe[Pt]);const xe=pe[0],ve=r.convert(F.format,F.colorSpace),he=r.convert(F.type),Fe=D(F.internalFormat,ve,he,F.colorSpace),Me=F.isVideoTexture!==!0,xn=Dt.__version===void 0||wt===!0,ct=Ft.dataReady;let ie=z(F,xe);At(n.TEXTURE_CUBE_MAP,F);let Tt;if(We){Me&&xn&&e.texStorage2D(n.TEXTURE_CUBE_MAP,ie,Fe,xe.width,xe.height);for(let Pt=0;Pt<6;Pt++){Tt=pe[Pt].mipmaps;for(let te=0;te<Tt.length;te++){const ne=Tt[te];F.format!==Ys?ve!==null?Me?ct&&e.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Pt,te,0,0,ne.width,ne.height,ve,ne.data):e.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Pt,te,Fe,ne.width,ne.height,0,ne.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Me?ct&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Pt,te,0,0,ne.width,ne.height,ve,he,ne.data):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Pt,te,Fe,ne.width,ne.height,0,ve,he,ne.data)}}}else{if(Tt=F.mipmaps,Me&&xn){Tt.length>0&&ie++;const Pt=Qt(pe[0]);e.texStorage2D(n.TEXTURE_CUBE_MAP,ie,Fe,Pt.width,Pt.height)}for(let Pt=0;Pt<6;Pt++)if(Wt){Me?ct&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Pt,0,0,0,pe[Pt].width,pe[Pt].height,ve,he,pe[Pt].data):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Pt,0,Fe,pe[Pt].width,pe[Pt].height,0,ve,he,pe[Pt].data);for(let te=0;te<Tt.length;te++){const Ne=Tt[te].image[Pt].image;Me?ct&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Pt,te+1,0,0,Ne.width,Ne.height,ve,he,Ne.data):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Pt,te+1,Fe,Ne.width,Ne.height,0,ve,he,Ne.data)}}else{Me?ct&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Pt,0,0,0,ve,he,pe[Pt]):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Pt,0,Fe,ve,he,pe[Pt]);for(let te=0;te<Tt.length;te++){const ne=Tt[te];Me?ct&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Pt,te+1,0,0,ve,he,ne.image[Pt]):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Pt,te+1,Fe,ve,he,ne.image[Pt])}}}E(F)&&M(n.TEXTURE_CUBE_MAP),Dt.__version=Ft.version,F.onUpdate&&F.onUpdate(F)}q.__version=F.version}function Ut(q,F,vt,wt,Ft,Dt){const ce=r.convert(vt.format,vt.colorSpace),ee=r.convert(vt.type),fe=D(vt.internalFormat,ce,ee,vt.colorSpace),We=i.get(F),Wt=i.get(vt);if(Wt.__renderTarget=F,!We.__hasExternalTextures){const pe=Math.max(1,F.width>>Dt),xe=Math.max(1,F.height>>Dt);Ft===n.TEXTURE_3D||Ft===n.TEXTURE_2D_ARRAY?e.texImage3D(Ft,Dt,fe,pe,xe,F.depth,0,ce,ee,null):e.texImage2D(Ft,Dt,fe,pe,xe,0,ce,ee,null)}e.bindFramebuffer(n.FRAMEBUFFER,q),$t(F)?u.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,wt,Ft,Wt.__webglTexture,0,Ht(F)):(Ft===n.TEXTURE_2D||Ft>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Ft<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,wt,Ft,Wt.__webglTexture,Dt),e.bindFramebuffer(n.FRAMEBUFFER,null)}function It(q,F,vt){if(n.bindRenderbuffer(n.RENDERBUFFER,q),F.depthBuffer){const wt=F.depthTexture,Ft=wt&&wt.isDepthTexture?wt.type:null,Dt=L(F.stencilBuffer,Ft),ce=F.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ee=Ht(F);$t(F)?u.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ee,Dt,F.width,F.height):vt?n.renderbufferStorageMultisample(n.RENDERBUFFER,ee,Dt,F.width,F.height):n.renderbufferStorage(n.RENDERBUFFER,Dt,F.width,F.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,ce,n.RENDERBUFFER,q)}else{const wt=F.textures;for(let Ft=0;Ft<wt.length;Ft++){const Dt=wt[Ft],ce=r.convert(Dt.format,Dt.colorSpace),ee=r.convert(Dt.type),fe=D(Dt.internalFormat,ce,ee,Dt.colorSpace),We=Ht(F);vt&&$t(F)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,We,fe,F.width,F.height):$t(F)?u.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,We,fe,F.width,F.height):n.renderbufferStorage(n.RENDERBUFFER,fe,F.width,F.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function kt(q,F){if(F&&F.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(n.FRAMEBUFFER,q),!(F.depthTexture&&F.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const wt=i.get(F.depthTexture);wt.__renderTarget=F,(!wt.__webglTexture||F.depthTexture.image.width!==F.width||F.depthTexture.image.height!==F.height)&&(F.depthTexture.image.width=F.width,F.depthTexture.image.height=F.height,F.depthTexture.needsUpdate=!0),lt(F.depthTexture,0);const Ft=wt.__webglTexture,Dt=Ht(F);if(F.depthTexture.format===Kf)$t(F)?u.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ft,0,Dt):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ft,0);else if(F.depthTexture.format===sh)$t(F)?u.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ft,0,Dt):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ft,0);else throw new Error("Unknown depthTexture format")}function ye(q){const F=i.get(q),vt=q.isWebGLCubeRenderTarget===!0;if(F.__boundDepthTexture!==q.depthTexture){const wt=q.depthTexture;if(F.__depthDisposeCallback&&F.__depthDisposeCallback(),wt){const Ft=()=>{delete F.__boundDepthTexture,delete F.__depthDisposeCallback,wt.removeEventListener("dispose",Ft)};wt.addEventListener("dispose",Ft),F.__depthDisposeCallback=Ft}F.__boundDepthTexture=wt}if(q.depthTexture&&!F.__autoAllocateDepthBuffer){if(vt)throw new Error("target.depthTexture not supported in Cube render targets");kt(F.__webglFramebuffer,q)}else if(vt){F.__webglDepthbuffer=[];for(let wt=0;wt<6;wt++)if(e.bindFramebuffer(n.FRAMEBUFFER,F.__webglFramebuffer[wt]),F.__webglDepthbuffer[wt]===void 0)F.__webglDepthbuffer[wt]=n.createRenderbuffer(),It(F.__webglDepthbuffer[wt],q,!1);else{const Ft=q.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Dt=F.__webglDepthbuffer[wt];n.bindRenderbuffer(n.RENDERBUFFER,Dt),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ft,n.RENDERBUFFER,Dt)}}else if(e.bindFramebuffer(n.FRAMEBUFFER,F.__webglFramebuffer),F.__webglDepthbuffer===void 0)F.__webglDepthbuffer=n.createRenderbuffer(),It(F.__webglDepthbuffer,q,!1);else{const wt=q.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ft=F.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,Ft),n.framebufferRenderbuffer(n.FRAMEBUFFER,wt,n.RENDERBUFFER,Ft)}e.bindFramebuffer(n.FRAMEBUFFER,null)}function qt(q,F,vt){const wt=i.get(q);F!==void 0&&Ut(wt.__webglFramebuffer,q,q.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),vt!==void 0&&ye(q)}function le(q){const F=q.texture,vt=i.get(q),wt=i.get(F);q.addEventListener("dispose",I);const Ft=q.textures,Dt=q.isWebGLCubeRenderTarget===!0,ce=Ft.length>1;if(ce||(wt.__webglTexture===void 0&&(wt.__webglTexture=n.createTexture()),wt.__version=F.version,l.memory.textures++),Dt){vt.__webglFramebuffer=[];for(let ee=0;ee<6;ee++)if(F.mipmaps&&F.mipmaps.length>0){vt.__webglFramebuffer[ee]=[];for(let fe=0;fe<F.mipmaps.length;fe++)vt.__webglFramebuffer[ee][fe]=n.createFramebuffer()}else vt.__webglFramebuffer[ee]=n.createFramebuffer()}else{if(F.mipmaps&&F.mipmaps.length>0){vt.__webglFramebuffer=[];for(let ee=0;ee<F.mipmaps.length;ee++)vt.__webglFramebuffer[ee]=n.createFramebuffer()}else vt.__webglFramebuffer=n.createFramebuffer();if(ce)for(let ee=0,fe=Ft.length;ee<fe;ee++){const We=i.get(Ft[ee]);We.__webglTexture===void 0&&(We.__webglTexture=n.createTexture(),l.memory.textures++)}if(q.samples>0&&$t(q)===!1){vt.__webglMultisampledFramebuffer=n.createFramebuffer(),vt.__webglColorRenderbuffer=[],e.bindFramebuffer(n.FRAMEBUFFER,vt.__webglMultisampledFramebuffer);for(let ee=0;ee<Ft.length;ee++){const fe=Ft[ee];vt.__webglColorRenderbuffer[ee]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,vt.__webglColorRenderbuffer[ee]);const We=r.convert(fe.format,fe.colorSpace),Wt=r.convert(fe.type),pe=D(fe.internalFormat,We,Wt,fe.colorSpace,q.isXRRenderTarget===!0),xe=Ht(q);n.renderbufferStorageMultisample(n.RENDERBUFFER,xe,pe,q.width,q.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ee,n.RENDERBUFFER,vt.__webglColorRenderbuffer[ee])}n.bindRenderbuffer(n.RENDERBUFFER,null),q.depthBuffer&&(vt.__webglDepthRenderbuffer=n.createRenderbuffer(),It(vt.__webglDepthRenderbuffer,q,!0)),e.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Dt){e.bindTexture(n.TEXTURE_CUBE_MAP,wt.__webglTexture),At(n.TEXTURE_CUBE_MAP,F);for(let ee=0;ee<6;ee++)if(F.mipmaps&&F.mipmaps.length>0)for(let fe=0;fe<F.mipmaps.length;fe++)Ut(vt.__webglFramebuffer[ee][fe],q,F,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ee,fe);else Ut(vt.__webglFramebuffer[ee],q,F,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ee,0);E(F)&&M(n.TEXTURE_CUBE_MAP),e.unbindTexture()}else if(ce){for(let ee=0,fe=Ft.length;ee<fe;ee++){const We=Ft[ee],Wt=i.get(We);e.bindTexture(n.TEXTURE_2D,Wt.__webglTexture),At(n.TEXTURE_2D,We),Ut(vt.__webglFramebuffer,q,We,n.COLOR_ATTACHMENT0+ee,n.TEXTURE_2D,0),E(We)&&M(n.TEXTURE_2D)}e.unbindTexture()}else{let ee=n.TEXTURE_2D;if((q.isWebGL3DRenderTarget||q.isWebGLArrayRenderTarget)&&(ee=q.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),e.bindTexture(ee,wt.__webglTexture),At(ee,F),F.mipmaps&&F.mipmaps.length>0)for(let fe=0;fe<F.mipmaps.length;fe++)Ut(vt.__webglFramebuffer[fe],q,F,n.COLOR_ATTACHMENT0,ee,fe);else Ut(vt.__webglFramebuffer,q,F,n.COLOR_ATTACHMENT0,ee,0);E(F)&&M(ee),e.unbindTexture()}q.depthBuffer&&ye(q)}function Ot(q){const F=q.textures;for(let vt=0,wt=F.length;vt<wt;vt++){const Ft=F[vt];if(E(Ft)){const Dt=R(q),ce=i.get(Ft).__webglTexture;e.bindTexture(Dt,ce),M(Dt),e.unbindTexture()}}}const Rt=[],Y=[];function ue(q){if(q.samples>0){if($t(q)===!1){const F=q.textures,vt=q.width,wt=q.height;let Ft=n.COLOR_BUFFER_BIT;const Dt=q.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ce=i.get(q),ee=F.length>1;if(ee)for(let fe=0;fe<F.length;fe++)e.bindFramebuffer(n.FRAMEBUFFER,ce.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+fe,n.RENDERBUFFER,null),e.bindFramebuffer(n.FRAMEBUFFER,ce.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+fe,n.TEXTURE_2D,null,0);e.bindFramebuffer(n.READ_FRAMEBUFFER,ce.__webglMultisampledFramebuffer),e.bindFramebuffer(n.DRAW_FRAMEBUFFER,ce.__webglFramebuffer);for(let fe=0;fe<F.length;fe++){if(q.resolveDepthBuffer&&(q.depthBuffer&&(Ft|=n.DEPTH_BUFFER_BIT),q.stencilBuffer&&q.resolveStencilBuffer&&(Ft|=n.STENCIL_BUFFER_BIT)),ee){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,ce.__webglColorRenderbuffer[fe]);const We=i.get(F[fe]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,We,0)}n.blitFramebuffer(0,0,vt,wt,0,0,vt,wt,Ft,n.NEAREST),h===!0&&(Rt.length=0,Y.length=0,Rt.push(n.COLOR_ATTACHMENT0+fe),q.depthBuffer&&q.resolveDepthBuffer===!1&&(Rt.push(Dt),Y.push(Dt),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,Y)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Rt))}if(e.bindFramebuffer(n.READ_FRAMEBUFFER,null),e.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),ee)for(let fe=0;fe<F.length;fe++){e.bindFramebuffer(n.FRAMEBUFFER,ce.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+fe,n.RENDERBUFFER,ce.__webglColorRenderbuffer[fe]);const We=i.get(F[fe]).__webglTexture;e.bindFramebuffer(n.FRAMEBUFFER,ce.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+fe,n.TEXTURE_2D,We,0)}e.bindFramebuffer(n.DRAW_FRAMEBUFFER,ce.__webglMultisampledFramebuffer)}else if(q.depthBuffer&&q.resolveDepthBuffer===!1&&h){const F=q.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[F])}}}function Ht(q){return Math.min(s.maxSamples,q.samples)}function $t(q){const F=i.get(q);return q.samples>0&&t.has("WEBGL_multisampled_render_to_texture")===!0&&F.__useRenderToTexture!==!1}function Kt(q){const F=l.render.frame;m.get(q)!==F&&(m.set(q,F),q.update())}function Se(q,F){const vt=q.colorSpace,wt=q.format,Ft=q.type;return q.isCompressedTexture===!0||q.isVideoTexture===!0||vt!==xu&&vt!==ic&&(yn.getTransfer(vt)===Vn?(wt!==Ys||Ft!==xo)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",vt)),F}function Qt(q){return typeof HTMLImageElement<"u"&&q instanceof HTMLImageElement?(p.width=q.naturalWidth||q.width,p.height=q.naturalHeight||q.height):typeof VideoFrame<"u"&&q instanceof VideoFrame?(p.width=q.displayWidth,p.height=q.displayHeight):(p.width=q.width,p.height=q.height),p}this.allocateTextureUnit=it,this.resetTextureUnits=pt,this.setTexture2D=lt,this.setTexture2DArray=J,this.setTexture3D=tt,this.setTextureCube=Q,this.rebindTextures=qt,this.setupRenderTarget=le,this.updateRenderTargetMipmap=Ot,this.updateMultisampleRenderTarget=ue,this.setupDepthRenderbuffer=ye,this.setupFrameBufferTexture=Ut,this.useMultisampledRTT=$t}function QN(n,t){function e(i,s=ic){let r;const l=yn.getTransfer(s);if(i===xo)return n.UNSIGNED_BYTE;if(i===C_)return n.UNSIGNED_SHORT_4_4_4_4;if(i===R_)return n.UNSIGNED_SHORT_5_5_5_1;if(i===tT)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===$M)return n.BYTE;if(i===JM)return n.SHORT;if(i===Jd)return n.UNSIGNED_SHORT;if(i===w_)return n.INT;if(i===hc)return n.UNSIGNED_INT;if(i===Pa)return n.FLOAT;if(i===hp)return n.HALF_FLOAT;if(i===eT)return n.ALPHA;if(i===nT)return n.RGB;if(i===Ys)return n.RGBA;if(i===iT)return n.LUMINANCE;if(i===sT)return n.LUMINANCE_ALPHA;if(i===Kf)return n.DEPTH_COMPONENT;if(i===sh)return n.DEPTH_STENCIL;if(i===D_)return n.RED;if(i===l0)return n.RED_INTEGER;if(i===aT)return n.RG;if(i===N_)return n.RG_INTEGER;if(i===L_)return n.RGBA_INTEGER;if(i===cg||i===ug||i===fg||i===hg)if(l===Vn)if(r=t.get("WEBGL_compressed_texture_s3tc_srgb"),r!==null){if(i===cg)return r.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===ug)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===fg)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===hg)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(r=t.get("WEBGL_compressed_texture_s3tc"),r!==null){if(i===cg)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===ug)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===fg)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===hg)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===Nx||i===Lx||i===Ux||i===Ox)if(r=t.get("WEBGL_compressed_texture_pvrtc"),r!==null){if(i===Nx)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===Lx)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===Ux)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===Ox)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===Px||i===zx||i===Bx)if(r=t.get("WEBGL_compressed_texture_etc"),r!==null){if(i===Px||i===zx)return l===Vn?r.COMPRESSED_SRGB8_ETC2:r.COMPRESSED_RGB8_ETC2;if(i===Bx)return l===Vn?r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===Vx||i===Ix||i===Fx||i===Hx||i===Gx||i===kx||i===jx||i===Xx||i===qx||i===Yx||i===Wx||i===Zx||i===Kx||i===Qx)if(r=t.get("WEBGL_compressed_texture_astc"),r!==null){if(i===Vx)return l===Vn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:r.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===Ix)return l===Vn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:r.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===Fx)return l===Vn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:r.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===Hx)return l===Vn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:r.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===Gx)return l===Vn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:r.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===kx)return l===Vn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:r.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===jx)return l===Vn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:r.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===Xx)return l===Vn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:r.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===qx)return l===Vn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:r.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===Yx)return l===Vn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:r.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===Wx)return l===Vn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:r.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===Zx)return l===Vn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:r.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===Kx)return l===Vn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:r.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===Qx)return l===Vn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:r.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===dg||i===$x||i===Jx)if(r=t.get("EXT_texture_compression_bptc"),r!==null){if(i===dg)return l===Vn?r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:r.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===$x)return r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===Jx)return r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===rT||i===t_||i===e_||i===n_)if(r=t.get("EXT_texture_compression_rgtc"),r!==null){if(i===dg)return r.COMPRESSED_RED_RGTC1_EXT;if(i===t_)return r.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===e_)return r.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===n_)return r.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===ih?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:e}}const Z6=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,K6=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Q6{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(t,e,i){if(this.texture===null){const s=new Ni,r=t.properties.get(s);r.__webglTexture=e.texture,(e.depthNear!==i.depthNear||e.depthFar!==i.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=s}}getMesh(t){if(this.texture!==null&&this.mesh===null){const e=t.cameras[0].viewport,i=new _o({vertexShader:Z6,fragmentShader:K6,uniforms:{depthColor:{value:this.texture},depthWidth:{value:e.z},depthHeight:{value:e.w}}});this.mesh=new Xi(new mp(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class $6 extends yl{constructor(t,e){super();const i=this;let s=null,r=1,l=null,u="local-floor",h=1,p=null,m=null,v=null,x=null,_=null,T=null;const C=new Q6,E=e.getContextAttributes();let M=null,R=null;const D=[],L=[],z=new Vt;let B=null;const I=new ji;I.viewport=new Mn;const V=new ji;V.viewport=new Mn;const U=[I,V],P=new FN;let X=null,pt=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(st){let Et=D[st];return Et===void 0&&(Et=new cx,D[st]=Et),Et.getTargetRaySpace()},this.getControllerGrip=function(st){let Et=D[st];return Et===void 0&&(Et=new cx,D[st]=Et),Et.getGripSpace()},this.getHand=function(st){let Et=D[st];return Et===void 0&&(Et=new cx,D[st]=Et),Et.getHandSpace()};function it(st){const Et=L.indexOf(st.inputSource);if(Et===-1)return;const Ut=D[Et];Ut!==void 0&&(Ut.update(st.inputSource,st.frame,p||l),Ut.dispatchEvent({type:st.type,data:st.inputSource}))}function K(){s.removeEventListener("select",it),s.removeEventListener("selectstart",it),s.removeEventListener("selectend",it),s.removeEventListener("squeeze",it),s.removeEventListener("squeezestart",it),s.removeEventListener("squeezeend",it),s.removeEventListener("end",K),s.removeEventListener("inputsourceschange",lt);for(let st=0;st<D.length;st++){const Et=L[st];Et!==null&&(L[st]=null,D[st].disconnect(Et))}X=null,pt=null,C.reset(),t.setRenderTarget(M),_=null,x=null,v=null,s=null,R=null,zt.stop(),i.isPresenting=!1,t.setPixelRatio(B),t.setSize(z.width,z.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(st){r=st,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(st){u=st,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return p||l},this.setReferenceSpace=function(st){p=st},this.getBaseLayer=function(){return x!==null?x:_},this.getBinding=function(){return v},this.getFrame=function(){return T},this.getSession=function(){return s},this.setSession=async function(st){if(s=st,s!==null){if(M=t.getRenderTarget(),s.addEventListener("select",it),s.addEventListener("selectstart",it),s.addEventListener("selectend",it),s.addEventListener("squeeze",it),s.addEventListener("squeezestart",it),s.addEventListener("squeezeend",it),s.addEventListener("end",K),s.addEventListener("inputsourceschange",lt),E.xrCompatible!==!0&&await e.makeXRCompatible(),B=t.getPixelRatio(),t.getSize(z),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let Ut=null,It=null,kt=null;E.depth&&(kt=E.stencil?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT24,Ut=E.stencil?sh:Kf,It=E.stencil?ih:hc);const ye={colorFormat:e.RGBA8,depthFormat:kt,scaleFactor:r};v=new XRWebGLBinding(s,e),x=v.createProjectionLayer(ye),s.updateRenderState({layers:[x]}),t.setPixelRatio(1),t.setSize(x.textureWidth,x.textureHeight,!1),R=new gl(x.textureWidth,x.textureHeight,{format:Ys,type:xo,depthTexture:new gT(x.textureWidth,x.textureHeight,It,void 0,void 0,void 0,void 0,void 0,void 0,Ut),stencilBuffer:E.stencil,colorSpace:t.outputColorSpace,samples:E.antialias?4:0,resolveDepthBuffer:x.ignoreDepthValues===!1})}else{const Ut={antialias:E.antialias,alpha:!0,depth:E.depth,stencil:E.stencil,framebufferScaleFactor:r};_=new XRWebGLLayer(s,e,Ut),s.updateRenderState({baseLayer:_}),t.setPixelRatio(1),t.setSize(_.framebufferWidth,_.framebufferHeight,!1),R=new gl(_.framebufferWidth,_.framebufferHeight,{format:Ys,type:xo,colorSpace:t.outputColorSpace,stencilBuffer:E.stencil})}R.isXRRenderTarget=!0,this.setFoveation(h),p=null,l=await s.requestReferenceSpace(u),zt.setContext(s),zt.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(s!==null)return s.environmentBlendMode},this.getDepthTexture=function(){return C.getDepthTexture()};function lt(st){for(let Et=0;Et<st.removed.length;Et++){const Ut=st.removed[Et],It=L.indexOf(Ut);It>=0&&(L[It]=null,D[It].disconnect(Ut))}for(let Et=0;Et<st.added.length;Et++){const Ut=st.added[Et];let It=L.indexOf(Ut);if(It===-1){for(let ye=0;ye<D.length;ye++)if(ye>=L.length){L.push(Ut),It=ye;break}else if(L[ye]===null){L[ye]=Ut,It=ye;break}if(It===-1)break}const kt=D[It];kt&&kt.connect(Ut)}}const J=new W,tt=new W;function Q(st,Et,Ut){J.setFromMatrixPosition(Et.matrixWorld),tt.setFromMatrixPosition(Ut.matrixWorld);const It=J.distanceTo(tt),kt=Et.projectionMatrix.elements,ye=Ut.projectionMatrix.elements,qt=kt[14]/(kt[10]-1),le=kt[14]/(kt[10]+1),Ot=(kt[9]+1)/kt[5],Rt=(kt[9]-1)/kt[5],Y=(kt[8]-1)/kt[0],ue=(ye[8]+1)/ye[0],Ht=qt*Y,$t=qt*ue,Kt=It/(-Y+ue),Se=Kt*-Y;if(Et.matrixWorld.decompose(st.position,st.quaternion,st.scale),st.translateX(Se),st.translateZ(Kt),st.matrixWorld.compose(st.position,st.quaternion,st.scale),st.matrixWorldInverse.copy(st.matrixWorld).invert(),kt[10]===-1)st.projectionMatrix.copy(Et.projectionMatrix),st.projectionMatrixInverse.copy(Et.projectionMatrixInverse);else{const Qt=qt+Kt,q=le+Kt,F=Ht-Se,vt=$t+(It-Se),wt=Ot*le/q*Qt,Ft=Rt*le/q*Qt;st.projectionMatrix.makePerspective(F,vt,wt,Ft,Qt,q),st.projectionMatrixInverse.copy(st.projectionMatrix).invert()}}function _t(st,Et){Et===null?st.matrixWorld.copy(st.matrix):st.matrixWorld.multiplyMatrices(Et.matrixWorld,st.matrix),st.matrixWorldInverse.copy(st.matrixWorld).invert()}this.updateCamera=function(st){if(s===null)return;let Et=st.near,Ut=st.far;C.texture!==null&&(C.depthNear>0&&(Et=C.depthNear),C.depthFar>0&&(Ut=C.depthFar)),P.near=V.near=I.near=Et,P.far=V.far=I.far=Ut,(X!==P.near||pt!==P.far)&&(s.updateRenderState({depthNear:P.near,depthFar:P.far}),X=P.near,pt=P.far),I.layers.mask=st.layers.mask|2,V.layers.mask=st.layers.mask|4,P.layers.mask=I.layers.mask|V.layers.mask;const It=st.parent,kt=P.cameras;_t(P,It);for(let ye=0;ye<kt.length;ye++)_t(kt[ye],It);kt.length===2?Q(P,I,V):P.projectionMatrix.copy(I.projectionMatrix),j(st,P,It)};function j(st,Et,Ut){Ut===null?st.matrix.copy(Et.matrixWorld):(st.matrix.copy(Ut.matrixWorld),st.matrix.invert(),st.matrix.multiply(Et.matrixWorld)),st.matrix.decompose(st.position,st.quaternion,st.scale),st.updateMatrixWorld(!0),st.projectionMatrix.copy(Et.projectionMatrix),st.projectionMatrixInverse.copy(Et.projectionMatrixInverse),st.isPerspectiveCamera&&(st.fov=tp*2*Math.atan(1/st.projectionMatrix.elements[5]),st.zoom=1)}this.getCamera=function(){return P},this.getFoveation=function(){if(!(x===null&&_===null))return h},this.setFoveation=function(st){h=st,x!==null&&(x.fixedFoveation=st),_!==null&&_.fixedFoveation!==void 0&&(_.fixedFoveation=st)},this.hasDepthSensing=function(){return C.texture!==null},this.getDepthSensingMesh=function(){return C.getMesh(P)};let at=null;function At(st,Et){if(m=Et.getViewerPose(p||l),T=Et,m!==null){const Ut=m.views;_!==null&&(t.setRenderTargetFramebuffer(R,_.framebuffer),t.setRenderTarget(R));let It=!1;Ut.length!==P.cameras.length&&(P.cameras.length=0,It=!0);for(let qt=0;qt<Ut.length;qt++){const le=Ut[qt];let Ot=null;if(_!==null)Ot=_.getViewport(le);else{const Y=v.getViewSubImage(x,le);Ot=Y.viewport,qt===0&&(t.setRenderTargetTextures(R,Y.colorTexture,x.ignoreDepthValues?void 0:Y.depthStencilTexture),t.setRenderTarget(R))}let Rt=U[qt];Rt===void 0&&(Rt=new ji,Rt.layers.enable(qt),Rt.viewport=new Mn,U[qt]=Rt),Rt.matrix.fromArray(le.transform.matrix),Rt.matrix.decompose(Rt.position,Rt.quaternion,Rt.scale),Rt.projectionMatrix.fromArray(le.projectionMatrix),Rt.projectionMatrixInverse.copy(Rt.projectionMatrix).invert(),Rt.viewport.set(Ot.x,Ot.y,Ot.width,Ot.height),qt===0&&(P.matrix.copy(Rt.matrix),P.matrix.decompose(P.position,P.quaternion,P.scale)),It===!0&&P.cameras.push(Rt)}const kt=s.enabledFeatures;if(kt&&kt.includes("depth-sensing")&&s.depthUsage=="gpu-optimized"&&v){const qt=v.getDepthInformation(Ut[0]);qt&&qt.isValid&&qt.texture&&C.init(t,qt,s.renderState)}}for(let Ut=0;Ut<D.length;Ut++){const It=L[Ut],kt=D[Ut];It!==null&&kt!==void 0&&kt.update(It,Et,p||l)}at&&at(st,Et),Et.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:Et}),T=null}const zt=new qN;zt.setAnimationLoop(At),this.setAnimationLoop=function(st){at=st},this.dispose=function(){}}}const Lf=new ar,J6=new Ie;function tG(n,t){function e(E,M){E.matrixAutoUpdate===!0&&E.updateMatrix(),M.value.copy(E.matrix)}function i(E,M){M.color.getRGB(E.fogColor.value,Y3(n)),M.isFog?(E.fogNear.value=M.near,E.fogFar.value=M.far):M.isFogExp2&&(E.fogDensity.value=M.density)}function s(E,M,R,D,L){M.isMeshBasicMaterial||M.isMeshLambertMaterial?r(E,M):M.isMeshToonMaterial?(r(E,M),v(E,M)):M.isMeshPhongMaterial?(r(E,M),m(E,M)):M.isMeshStandardMaterial?(r(E,M),x(E,M),M.isMeshPhysicalMaterial&&_(E,M,L)):M.isMeshMatcapMaterial?(r(E,M),T(E,M)):M.isMeshDepthMaterial?r(E,M):M.isMeshDistanceMaterial?(r(E,M),C(E,M)):M.isMeshNormalMaterial?r(E,M):M.isLineBasicMaterial?(l(E,M),M.isLineDashedMaterial&&u(E,M)):M.isPointsMaterial?h(E,M,R,D):M.isSpriteMaterial?p(E,M):M.isShadowMaterial?(E.color.value.copy(M.color),E.opacity.value=M.opacity):M.isShaderMaterial&&(M.uniformsNeedUpdate=!1)}function r(E,M){E.opacity.value=M.opacity,M.color&&E.diffuse.value.copy(M.color),M.emissive&&E.emissive.value.copy(M.emissive).multiplyScalar(M.emissiveIntensity),M.map&&(E.map.value=M.map,e(M.map,E.mapTransform)),M.alphaMap&&(E.alphaMap.value=M.alphaMap,e(M.alphaMap,E.alphaMapTransform)),M.bumpMap&&(E.bumpMap.value=M.bumpMap,e(M.bumpMap,E.bumpMapTransform),E.bumpScale.value=M.bumpScale,M.side===da&&(E.bumpScale.value*=-1)),M.normalMap&&(E.normalMap.value=M.normalMap,e(M.normalMap,E.normalMapTransform),E.normalScale.value.copy(M.normalScale),M.side===da&&E.normalScale.value.negate()),M.displacementMap&&(E.displacementMap.value=M.displacementMap,e(M.displacementMap,E.displacementMapTransform),E.displacementScale.value=M.displacementScale,E.displacementBias.value=M.displacementBias),M.emissiveMap&&(E.emissiveMap.value=M.emissiveMap,e(M.emissiveMap,E.emissiveMapTransform)),M.specularMap&&(E.specularMap.value=M.specularMap,e(M.specularMap,E.specularMapTransform)),M.alphaTest>0&&(E.alphaTest.value=M.alphaTest);const R=t.get(M),D=R.envMap,L=R.envMapRotation;D&&(E.envMap.value=D,Lf.copy(L),Lf.x*=-1,Lf.y*=-1,Lf.z*=-1,D.isCubeTexture&&D.isRenderTargetTexture===!1&&(Lf.y*=-1,Lf.z*=-1),E.envMapRotation.value.setFromMatrix4(J6.makeRotationFromEuler(Lf)),E.flipEnvMap.value=D.isCubeTexture&&D.isRenderTargetTexture===!1?-1:1,E.reflectivity.value=M.reflectivity,E.ior.value=M.ior,E.refractionRatio.value=M.refractionRatio),M.lightMap&&(E.lightMap.value=M.lightMap,E.lightMapIntensity.value=M.lightMapIntensity,e(M.lightMap,E.lightMapTransform)),M.aoMap&&(E.aoMap.value=M.aoMap,E.aoMapIntensity.value=M.aoMapIntensity,e(M.aoMap,E.aoMapTransform))}function l(E,M){E.diffuse.value.copy(M.color),E.opacity.value=M.opacity,M.map&&(E.map.value=M.map,e(M.map,E.mapTransform))}function u(E,M){E.dashSize.value=M.dashSize,E.totalSize.value=M.dashSize+M.gapSize,E.scale.value=M.scale}function h(E,M,R,D){E.diffuse.value.copy(M.color),E.opacity.value=M.opacity,E.size.value=M.size*R,E.scale.value=D*.5,M.map&&(E.map.value=M.map,e(M.map,E.uvTransform)),M.alphaMap&&(E.alphaMap.value=M.alphaMap,e(M.alphaMap,E.alphaMapTransform)),M.alphaTest>0&&(E.alphaTest.value=M.alphaTest)}function p(E,M){E.diffuse.value.copy(M.color),E.opacity.value=M.opacity,E.rotation.value=M.rotation,M.map&&(E.map.value=M.map,e(M.map,E.mapTransform)),M.alphaMap&&(E.alphaMap.value=M.alphaMap,e(M.alphaMap,E.alphaMapTransform)),M.alphaTest>0&&(E.alphaTest.value=M.alphaTest)}function m(E,M){E.specular.value.copy(M.specular),E.shininess.value=Math.max(M.shininess,1e-4)}function v(E,M){M.gradientMap&&(E.gradientMap.value=M.gradientMap)}function x(E,M){E.metalness.value=M.metalness,M.metalnessMap&&(E.metalnessMap.value=M.metalnessMap,e(M.metalnessMap,E.metalnessMapTransform)),E.roughness.value=M.roughness,M.roughnessMap&&(E.roughnessMap.value=M.roughnessMap,e(M.roughnessMap,E.roughnessMapTransform)),M.envMap&&(E.envMapIntensity.value=M.envMapIntensity)}function _(E,M,R){E.ior.value=M.ior,M.sheen>0&&(E.sheenColor.value.copy(M.sheenColor).multiplyScalar(M.sheen),E.sheenRoughness.value=M.sheenRoughness,M.sheenColorMap&&(E.sheenColorMap.value=M.sheenColorMap,e(M.sheenColorMap,E.sheenColorMapTransform)),M.sheenRoughnessMap&&(E.sheenRoughnessMap.value=M.sheenRoughnessMap,e(M.sheenRoughnessMap,E.sheenRoughnessMapTransform))),M.clearcoat>0&&(E.clearcoat.value=M.clearcoat,E.clearcoatRoughness.value=M.clearcoatRoughness,M.clearcoatMap&&(E.clearcoatMap.value=M.clearcoatMap,e(M.clearcoatMap,E.clearcoatMapTransform)),M.clearcoatRoughnessMap&&(E.clearcoatRoughnessMap.value=M.clearcoatRoughnessMap,e(M.clearcoatRoughnessMap,E.clearcoatRoughnessMapTransform)),M.clearcoatNormalMap&&(E.clearcoatNormalMap.value=M.clearcoatNormalMap,e(M.clearcoatNormalMap,E.clearcoatNormalMapTransform),E.clearcoatNormalScale.value.copy(M.clearcoatNormalScale),M.side===da&&E.clearcoatNormalScale.value.negate())),M.dispersion>0&&(E.dispersion.value=M.dispersion),M.iridescence>0&&(E.iridescence.value=M.iridescence,E.iridescenceIOR.value=M.iridescenceIOR,E.iridescenceThicknessMinimum.value=M.iridescenceThicknessRange[0],E.iridescenceThicknessMaximum.value=M.iridescenceThicknessRange[1],M.iridescenceMap&&(E.iridescenceMap.value=M.iridescenceMap,e(M.iridescenceMap,E.iridescenceMapTransform)),M.iridescenceThicknessMap&&(E.iridescenceThicknessMap.value=M.iridescenceThicknessMap,e(M.iridescenceThicknessMap,E.iridescenceThicknessMapTransform))),M.transmission>0&&(E.transmission.value=M.transmission,E.transmissionSamplerMap.value=R.texture,E.transmissionSamplerSize.value.set(R.width,R.height),M.transmissionMap&&(E.transmissionMap.value=M.transmissionMap,e(M.transmissionMap,E.transmissionMapTransform)),E.thickness.value=M.thickness,M.thicknessMap&&(E.thicknessMap.value=M.thicknessMap,e(M.thicknessMap,E.thicknessMapTransform)),E.attenuationDistance.value=M.attenuationDistance,E.attenuationColor.value.copy(M.attenuationColor)),M.anisotropy>0&&(E.anisotropyVector.value.set(M.anisotropy*Math.cos(M.anisotropyRotation),M.anisotropy*Math.sin(M.anisotropyRotation)),M.anisotropyMap&&(E.anisotropyMap.value=M.anisotropyMap,e(M.anisotropyMap,E.anisotropyMapTransform))),E.specularIntensity.value=M.specularIntensity,E.specularColor.value.copy(M.specularColor),M.specularColorMap&&(E.specularColorMap.value=M.specularColorMap,e(M.specularColorMap,E.specularColorMapTransform)),M.specularIntensityMap&&(E.specularIntensityMap.value=M.specularIntensityMap,e(M.specularIntensityMap,E.specularIntensityMapTransform))}function T(E,M){M.matcap&&(E.matcap.value=M.matcap)}function C(E,M){const R=t.get(M).light;E.referencePosition.value.setFromMatrixPosition(R.matrixWorld),E.nearDistance.value=R.shadow.camera.near,E.farDistance.value=R.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:s}}function eG(n,t,e,i){let s={},r={},l=[];const u=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function h(R,D){const L=D.program;i.uniformBlockBinding(R,L)}function p(R,D){let L=s[R.id];L===void 0&&(T(R),L=m(R),s[R.id]=L,R.addEventListener("dispose",E));const z=D.program;i.updateUBOMapping(R,z);const B=t.render.frame;r[R.id]!==B&&(x(R),r[R.id]=B)}function m(R){const D=v();R.__bindingPointIndex=D;const L=n.createBuffer(),z=R.__size,B=R.usage;return n.bindBuffer(n.UNIFORM_BUFFER,L),n.bufferData(n.UNIFORM_BUFFER,z,B),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,D,L),L}function v(){for(let R=0;R<u;R++)if(l.indexOf(R)===-1)return l.push(R),R;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function x(R){const D=s[R.id],L=R.uniforms,z=R.__cache;n.bindBuffer(n.UNIFORM_BUFFER,D);for(let B=0,I=L.length;B<I;B++){const V=Array.isArray(L[B])?L[B]:[L[B]];for(let U=0,P=V.length;U<P;U++){const X=V[U];if(_(X,B,U,z)===!0){const pt=X.__offset,it=Array.isArray(X.value)?X.value:[X.value];let K=0;for(let lt=0;lt<it.length;lt++){const J=it[lt],tt=C(J);typeof J=="number"||typeof J=="boolean"?(X.__data[0]=J,n.bufferSubData(n.UNIFORM_BUFFER,pt+K,X.__data)):J.isMatrix3?(X.__data[0]=J.elements[0],X.__data[1]=J.elements[1],X.__data[2]=J.elements[2],X.__data[3]=0,X.__data[4]=J.elements[3],X.__data[5]=J.elements[4],X.__data[6]=J.elements[5],X.__data[7]=0,X.__data[8]=J.elements[6],X.__data[9]=J.elements[7],X.__data[10]=J.elements[8],X.__data[11]=0):(J.toArray(X.__data,K),K+=tt.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,pt,X.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function _(R,D,L,z){const B=R.value,I=D+"_"+L;if(z[I]===void 0)return typeof B=="number"||typeof B=="boolean"?z[I]=B:z[I]=B.clone(),!0;{const V=z[I];if(typeof B=="number"||typeof B=="boolean"){if(V!==B)return z[I]=B,!0}else if(V.equals(B)===!1)return V.copy(B),!0}return!1}function T(R){const D=R.uniforms;let L=0;const z=16;for(let I=0,V=D.length;I<V;I++){const U=Array.isArray(D[I])?D[I]:[D[I]];for(let P=0,X=U.length;P<X;P++){const pt=U[P],it=Array.isArray(pt.value)?pt.value:[pt.value];for(let K=0,lt=it.length;K<lt;K++){const J=it[K],tt=C(J),Q=L%z,_t=Q%tt.boundary,j=Q+_t;L+=_t,j!==0&&z-j<tt.storage&&(L+=z-j),pt.__data=new Float32Array(tt.storage/Float32Array.BYTES_PER_ELEMENT),pt.__offset=L,L+=tt.storage}}}const B=L%z;return B>0&&(L+=z-B),R.__size=L,R.__cache={},this}function C(R){const D={boundary:0,storage:0};return typeof R=="number"||typeof R=="boolean"?(D.boundary=4,D.storage=4):R.isVector2?(D.boundary=8,D.storage=8):R.isVector3||R.isColor?(D.boundary=16,D.storage=12):R.isVector4?(D.boundary=16,D.storage=16):R.isMatrix3?(D.boundary=48,D.storage=48):R.isMatrix4?(D.boundary=64,D.storage=64):R.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",R),D}function E(R){const D=R.target;D.removeEventListener("dispose",E);const L=l.indexOf(D.__bindingPointIndex);l.splice(L,1),n.deleteBuffer(s[D.id]),delete s[D.id],delete r[D.id]}function M(){for(const R in s)n.deleteBuffer(s[R]);l=[],s={},r={}}return{bind:h,update:p,dispose:M}}class $N{constructor(t={}){const{canvas:e=j3(),context:i=null,depth:s=!0,stencil:r=!1,alpha:l=!1,antialias:u=!1,premultipliedAlpha:h=!0,preserveDrawingBuffer:p=!1,powerPreference:m="default",failIfMajorPerformanceCaveat:v=!1,reverseDepthBuffer:x=!1}=t;this.isWebGLRenderer=!0;let _;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");_=i.getContextAttributes().alpha}else _=l;const T=new Uint32Array(4),C=new Int32Array(4);let E=null,M=null;const R=[],D=[];this.domElement=e,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=qs,this.toneMapping=ll,this.toneMappingExposure=1;const L=this;let z=!1,B=0,I=0,V=null,U=-1,P=null;const X=new Mn,pt=new Mn;let it=null;const K=new de(0);let lt=0,J=e.width,tt=e.height,Q=1,_t=null,j=null;const at=new Mn(0,0,J,tt),At=new Mn(0,0,J,tt);let zt=!1;const st=new f0;let Et=!1,Ut=!1;this.transmissionResolutionScale=1;const It=new Ie,kt=new Ie,ye=new W,qt=new Mn,le={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Ot=!1;function Rt(){return V===null?Q:1}let Y=i;function ue(H,rt){return e.getContext(H,rt)}try{const H={alpha:!0,depth:s,stencil:r,antialias:u,premultipliedAlpha:h,preserveDrawingBuffer:p,powerPreference:m,failIfMajorPerformanceCaveat:v};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${T_}`),e.addEventListener("webglcontextlost",Pt,!1),e.addEventListener("webglcontextrestored",te,!1),e.addEventListener("webglcontextcreationerror",ne,!1),Y===null){const rt="webgl2";if(Y=ue(rt,H),Y===null)throw ue(rt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(H){throw console.error("THREE.WebGLRenderer: "+H.message),H}let Ht,$t,Kt,Se,Qt,q,F,vt,wt,Ft,Dt,ce,ee,fe,We,Wt,pe,xe,ve,he,Fe,Me,xn,ct;function ie(){Ht=new dH(Y),Ht.init(),Me=new QN(Y,Ht),$t=new oH(Y,Ht,t,Me),Kt=new Y6(Y,Ht),$t.reverseDepthBuffer&&x&&Kt.buffers.depth.setReversed(!0),Se=new gH(Y),Qt=new O6,q=new W6(Y,Ht,Kt,Qt,$t,Me,Se),F=new cH(L),vt=new hH(L),wt=new MI(Y),xn=new aH(Y,wt),Ft=new pH(Y,wt,Se,xn),Dt=new yH(Y,Ft,wt,Se),ve=new vH(Y,$t,q),Wt=new lH(Qt),ce=new U6(L,F,vt,Ht,$t,xn,Wt),ee=new tG(L,Qt),fe=new z6,We=new G6(Ht),xe=new sH(L,F,vt,Kt,Dt,_,h),pe=new X6(L,Dt,$t),ct=new eG(Y,Se,$t,Kt),he=new rH(Y,Ht,Se),Fe=new mH(Y,Ht,Se),Se.programs=ce.programs,L.capabilities=$t,L.extensions=Ht,L.properties=Qt,L.renderLists=fe,L.shadowMap=pe,L.state=Kt,L.info=Se}ie();const Tt=new $6(L,Y);this.xr=Tt,this.getContext=function(){return Y},this.getContextAttributes=function(){return Y.getContextAttributes()},this.forceContextLoss=function(){const H=Ht.get("WEBGL_lose_context");H&&H.loseContext()},this.forceContextRestore=function(){const H=Ht.get("WEBGL_lose_context");H&&H.restoreContext()},this.getPixelRatio=function(){return Q},this.setPixelRatio=function(H){H!==void 0&&(Q=H,this.setSize(J,tt,!1))},this.getSize=function(H){return H.set(J,tt)},this.setSize=function(H,rt,xt=!0){if(Tt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}J=H,tt=rt,e.width=Math.floor(H*Q),e.height=Math.floor(rt*Q),xt===!0&&(e.style.width=H+"px",e.style.height=rt+"px"),this.setViewport(0,0,H,rt)},this.getDrawingBufferSize=function(H){return H.set(J*Q,tt*Q).floor()},this.setDrawingBufferSize=function(H,rt,xt){J=H,tt=rt,Q=xt,e.width=Math.floor(H*xt),e.height=Math.floor(rt*xt),this.setViewport(0,0,H,rt)},this.getCurrentViewport=function(H){return H.copy(X)},this.getViewport=function(H){return H.copy(at)},this.setViewport=function(H,rt,xt,gt){H.isVector4?at.set(H.x,H.y,H.z,H.w):at.set(H,rt,xt,gt),Kt.viewport(X.copy(at).multiplyScalar(Q).round())},this.getScissor=function(H){return H.copy(At)},this.setScissor=function(H,rt,xt,gt){H.isVector4?At.set(H.x,H.y,H.z,H.w):At.set(H,rt,xt,gt),Kt.scissor(pt.copy(At).multiplyScalar(Q).round())},this.getScissorTest=function(){return zt},this.setScissorTest=function(H){Kt.setScissorTest(zt=H)},this.setOpaqueSort=function(H){_t=H},this.setTransparentSort=function(H){j=H},this.getClearColor=function(H){return H.copy(xe.getClearColor())},this.setClearColor=function(){xe.setClearColor.apply(xe,arguments)},this.getClearAlpha=function(){return xe.getClearAlpha()},this.setClearAlpha=function(){xe.setClearAlpha.apply(xe,arguments)},this.clear=function(H=!0,rt=!0,xt=!0){let gt=0;if(H){let ft=!1;if(V!==null){const Gt=V.texture.format;ft=Gt===L_||Gt===N_||Gt===l0}if(ft){const Gt=V.texture.type,Jt=Gt===xo||Gt===hc||Gt===Jd||Gt===ih||Gt===C_||Gt===R_,ae=xe.getClearColor(),se=xe.getClearAlpha(),Le=ae.r,Ue=ae.g,Ae=ae.b;Jt?(T[0]=Le,T[1]=Ue,T[2]=Ae,T[3]=se,Y.clearBufferuiv(Y.COLOR,0,T)):(C[0]=Le,C[1]=Ue,C[2]=Ae,C[3]=se,Y.clearBufferiv(Y.COLOR,0,C))}else gt|=Y.COLOR_BUFFER_BIT}rt&&(gt|=Y.DEPTH_BUFFER_BIT),xt&&(gt|=Y.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Y.clear(gt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Pt,!1),e.removeEventListener("webglcontextrestored",te,!1),e.removeEventListener("webglcontextcreationerror",ne,!1),xe.dispose(),fe.dispose(),We.dispose(),Qt.dispose(),F.dispose(),vt.dispose(),Dt.dispose(),xn.dispose(),ct.dispose(),ce.dispose(),Tt.dispose(),Tt.removeEventListener("sessionstart",Du),Tt.removeEventListener("sessionend",_l),ga.stop()};function Pt(H){H.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),z=!0}function te(){console.log("THREE.WebGLRenderer: Context Restored."),z=!1;const H=Se.autoReset,rt=pe.enabled,xt=pe.autoUpdate,gt=pe.needsUpdate,ft=pe.type;ie(),Se.autoReset=H,pe.enabled=rt,pe.autoUpdate=xt,pe.needsUpdate=gt,pe.type=ft}function ne(H){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",H.statusMessage)}function Ne(H){const rt=H.target;rt.removeEventListener("dispose",Ne),Pn(rt)}function Pn(H){Jn(H),Qt.remove(H)}function Jn(H){const rt=Qt.get(H).programs;rt!==void 0&&(rt.forEach(function(xt){ce.releaseProgram(xt)}),H.isShaderMaterial&&ce.releaseShaderCache(H))}this.renderBufferDirect=function(H,rt,xt,gt,ft,Gt){rt===null&&(rt=le);const Jt=ft.isMesh&&ft.matrixWorld.determinant()<0,ae=dh(H,rt,xt,gt,ft);Kt.setMaterial(gt,Jt);let se=xt.index,Le=1;if(gt.wireframe===!0){if(se=Ft.getWireframeAttribute(xt),se===void 0)return;Le=2}const Ue=xt.drawRange,Ae=xt.attributes.position;let on=Ue.start*Le,ln=(Ue.start+Ue.count)*Le;Gt!==null&&(on=Math.max(on,Gt.start*Le),ln=Math.min(ln,(Gt.start+Gt.count)*Le)),se!==null?(on=Math.max(on,0),ln=Math.min(ln,se.count)):Ae!=null&&(on=Math.max(on,0),ln=Math.min(ln,Ae.count));const Fn=ln-on;if(Fn<0||Fn===1/0)return;xn.setup(ft,gt,ae,xt,se);let dn,Be=he;if(se!==null&&(dn=wt.get(se),Be=Fe,Be.setIndex(dn)),ft.isMesh)gt.wireframe===!0?(Kt.setLineWidth(gt.wireframeLinewidth*Rt()),Be.setMode(Y.LINES)):Be.setMode(Y.TRIANGLES);else if(ft.isLine){let we=gt.linewidth;we===void 0&&(we=1),Kt.setLineWidth(we*Rt()),ft.isLineSegments?Be.setMode(Y.LINES):ft.isLineLoop?Be.setMode(Y.LINE_LOOP):Be.setMode(Y.LINE_STRIP)}else ft.isPoints?Be.setMode(Y.POINTS):ft.isSprite&&Be.setMode(Y.TRIANGLES);if(ft.isBatchedMesh)if(ft._multiDrawInstances!==null)Be.renderMultiDrawInstances(ft._multiDrawStarts,ft._multiDrawCounts,ft._multiDrawCount,ft._multiDrawInstances);else if(Ht.get("WEBGL_multi_draw"))Be.renderMultiDraw(ft._multiDrawStarts,ft._multiDrawCounts,ft._multiDrawCount);else{const we=ft._multiDrawStarts,yi=ft._multiDrawCounts,cn=ft._multiDrawCount,vs=se?wt.get(se).bytesPerElement:1,$s=Qt.get(gt).currentProgram.getUniforms();for(let ns=0;ns<cn;ns++)$s.setValue(Y,"_gl_DrawID",ns),Be.render(we[ns]/vs,yi[ns])}else if(ft.isInstancedMesh)Be.renderInstances(on,Fn,ft.count);else if(xt.isInstancedBufferGeometry){const we=xt._maxInstanceCount!==void 0?xt._maxInstanceCount:1/0,yi=Math.min(xt.instanceCount,we);Be.renderInstances(on,Fn,yi)}else Be.render(on,Fn)};function hn(H,rt,xt){H.transparent===!0&&H.side===go&&H.forceSinglePass===!1?(H.side=da,H.needsUpdate=!0,Ze(H,rt,xt),H.side=uc,H.needsUpdate=!0,Ze(H,rt,xt),H.side=go):Ze(H,rt,xt)}this.compile=function(H,rt,xt=null){xt===null&&(xt=H),M=We.get(xt),M.init(rt),D.push(M),xt.traverseVisible(function(ft){ft.isLight&&ft.layers.test(rt.layers)&&(M.pushLight(ft),ft.castShadow&&M.pushShadow(ft))}),H!==xt&&H.traverseVisible(function(ft){ft.isLight&&ft.layers.test(rt.layers)&&(M.pushLight(ft),ft.castShadow&&M.pushShadow(ft))}),M.setupLights();const gt=new Set;return H.traverse(function(ft){if(!(ft.isMesh||ft.isPoints||ft.isLine||ft.isSprite))return;const Gt=ft.material;if(Gt)if(Array.isArray(Gt))for(let Jt=0;Jt<Gt.length;Jt++){const ae=Gt[Jt];hn(ae,xt,ft),gt.add(ae)}else hn(Gt,xt,ft),gt.add(Gt)}),D.pop(),M=null,gt},this.compileAsync=function(H,rt,xt=null){const gt=this.compile(H,rt,xt);return new Promise(ft=>{function Gt(){if(gt.forEach(function(Jt){Qt.get(Jt).currentProgram.isReady()&&gt.delete(Jt)}),gt.size===0){ft(H);return}setTimeout(Gt,10)}Ht.get("KHR_parallel_shader_compile")!==null?Gt():setTimeout(Gt,10)})};let ts=null;function es(H){ts&&ts(H)}function Du(){ga.stop()}function _l(){ga.start()}const ga=new qN;ga.setAnimationLoop(es),typeof self<"u"&&ga.setContext(self),this.setAnimationLoop=function(H){ts=H,Tt.setAnimationLoop(H),H===null?ga.stop():ga.start()},Tt.addEventListener("sessionstart",Du),Tt.addEventListener("sessionend",_l),this.render=function(H,rt){if(rt!==void 0&&rt.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(z===!0)return;if(H.matrixWorldAutoUpdate===!0&&H.updateMatrixWorld(),rt.parent===null&&rt.matrixWorldAutoUpdate===!0&&rt.updateMatrixWorld(),Tt.enabled===!0&&Tt.isPresenting===!0&&(Tt.cameraAutoUpdate===!0&&Tt.updateCamera(rt),rt=Tt.getCamera()),H.isScene===!0&&H.onBeforeRender(L,H,rt,V),M=We.get(H,D.length),M.init(rt),D.push(M),kt.multiplyMatrices(rt.projectionMatrix,rt.matrixWorldInverse),st.setFromProjectionMatrix(kt),Ut=this.localClippingEnabled,Et=Wt.init(this.clippingPlanes,Ut),E=fe.get(H,R.length),E.init(),R.push(E),Tt.enabled===!0&&Tt.isPresenting===!0){const Gt=L.xr.getDepthSensingMesh();Gt!==null&&Qs(Gt,rt,-1/0,L.sortObjects)}Qs(H,rt,0,L.sortObjects),E.finish(),L.sortObjects===!0&&E.sort(_t,j),Ot=Tt.enabled===!1||Tt.isPresenting===!1||Tt.hasDepthSensing()===!1,Ot&&xe.addToRenderList(E,H),this.info.render.frame++,Et===!0&&Wt.beginShadows();const xt=M.state.shadowsArray;pe.render(xt,H,rt),Et===!0&&Wt.endShadows(),this.info.autoReset===!0&&this.info.reset();const gt=E.opaque,ft=E.transmissive;if(M.setupLights(),rt.isArrayCamera){const Gt=rt.cameras;if(ft.length>0)for(let Jt=0,ae=Gt.length;Jt<ae;Jt++){const se=Gt[Jt];Fa(gt,ft,H,se)}Ot&&xe.render(H);for(let Jt=0,ae=Gt.length;Jt<ae;Jt++){const se=Gt[Jt];gc(E,H,se,se.viewport)}}else ft.length>0&&Fa(gt,ft,H,rt),Ot&&xe.render(H),gc(E,H,rt);V!==null&&I===0&&(q.updateMultisampleRenderTarget(V),q.updateRenderTargetMipmap(V)),H.isScene===!0&&H.onAfterRender(L,H,rt),xn.resetDefaultState(),U=-1,P=null,D.pop(),D.length>0?(M=D[D.length-1],Et===!0&&Wt.setGlobalState(L.clippingPlanes,M.state.camera)):M=null,R.pop(),R.length>0?E=R[R.length-1]:E=null};function Qs(H,rt,xt,gt){if(H.visible===!1)return;if(H.layers.test(rt.layers)){if(H.isGroup)xt=H.renderOrder;else if(H.isLOD)H.autoUpdate===!0&&H.update(rt);else if(H.isLight)M.pushLight(H),H.castShadow&&M.pushShadow(H);else if(H.isSprite){if(!H.frustumCulled||st.intersectsSprite(H)){gt&&qt.setFromMatrixPosition(H.matrixWorld).applyMatrix4(kt);const Jt=Dt.update(H),ae=H.material;ae.visible&&E.push(H,Jt,ae,xt,qt.z,null)}}else if((H.isMesh||H.isLine||H.isPoints)&&(!H.frustumCulled||st.intersectsObject(H))){const Jt=Dt.update(H),ae=H.material;if(gt&&(H.boundingSphere!==void 0?(H.boundingSphere===null&&H.computeBoundingSphere(),qt.copy(H.boundingSphere.center)):(Jt.boundingSphere===null&&Jt.computeBoundingSphere(),qt.copy(Jt.boundingSphere.center)),qt.applyMatrix4(H.matrixWorld).applyMatrix4(kt)),Array.isArray(ae)){const se=Jt.groups;for(let Le=0,Ue=se.length;Le<Ue;Le++){const Ae=se[Le],on=ae[Ae.materialIndex];on&&on.visible&&E.push(H,Jt,on,xt,qt.z,Ae)}}else ae.visible&&E.push(H,Jt,ae,xt,qt.z,null)}}const Gt=H.children;for(let Jt=0,ae=Gt.length;Jt<ae;Jt++)Qs(Gt[Jt],rt,xt,gt)}function gc(H,rt,xt,gt){const ft=H.opaque,Gt=H.transmissive,Jt=H.transparent;M.setupLightsView(xt),Et===!0&&Wt.setGlobalState(L.clippingPlanes,xt),gt&&Kt.viewport(X.copy(gt)),ft.length>0&&ai(ft,rt,xt),Gt.length>0&&ai(Gt,rt,xt),Jt.length>0&&ai(Jt,rt,xt),Kt.buffers.depth.setTest(!0),Kt.buffers.depth.setMask(!0),Kt.buffers.color.setMask(!0),Kt.setPolygonOffset(!1)}function Fa(H,rt,xt,gt){if((xt.isScene===!0?xt.overrideMaterial:null)!==null)return;M.state.transmissionRenderTarget[gt.id]===void 0&&(M.state.transmissionRenderTarget[gt.id]=new gl(1,1,{generateMipmaps:!0,type:Ht.has("EXT_color_buffer_half_float")||Ht.has("EXT_color_buffer_float")?hp:xo,minFilter:ol,samples:4,stencilBuffer:r,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:yn.workingColorSpace}));const Gt=M.state.transmissionRenderTarget[gt.id],Jt=gt.viewport||X;Gt.setSize(Jt.z*L.transmissionResolutionScale,Jt.w*L.transmissionResolutionScale);const ae=L.getRenderTarget();L.setRenderTarget(Gt),L.getClearColor(K),lt=L.getClearAlpha(),lt<1&&L.setClearColor(16777215,.5),L.clear(),Ot&&xe.render(xt);const se=L.toneMapping;L.toneMapping=ll;const Le=gt.viewport;if(gt.viewport!==void 0&&(gt.viewport=void 0),M.setupLightsView(gt),Et===!0&&Wt.setGlobalState(L.clippingPlanes,gt),ai(H,xt,gt),q.updateMultisampleRenderTarget(Gt),q.updateRenderTargetMipmap(Gt),Ht.has("WEBGL_multisampled_render_to_texture")===!1){let Ue=!1;for(let Ae=0,on=rt.length;Ae<on;Ae++){const ln=rt[Ae],Fn=ln.object,dn=ln.geometry,Be=ln.material,we=ln.group;if(Be.side===go&&Fn.layers.test(gt.layers)){const yi=Be.side;Be.side=da,Be.needsUpdate=!0,ei(Fn,xt,gt,dn,Be,we),Be.side=yi,Be.needsUpdate=!0,Ue=!0}}Ue===!0&&(q.updateMultisampleRenderTarget(Gt),q.updateRenderTargetMipmap(Gt))}L.setRenderTarget(ae),L.setClearColor(K,lt),Le!==void 0&&(gt.viewport=Le),L.toneMapping=se}function ai(H,rt,xt){const gt=rt.isScene===!0?rt.overrideMaterial:null;for(let ft=0,Gt=H.length;ft<Gt;ft++){const Jt=H[ft],ae=Jt.object,se=Jt.geometry,Le=gt===null?Jt.material:gt,Ue=Jt.group;ae.layers.test(xt.layers)&&ei(ae,rt,xt,se,Le,Ue)}}function ei(H,rt,xt,gt,ft,Gt){H.onBeforeRender(L,rt,xt,gt,ft,Gt),H.modelViewMatrix.multiplyMatrices(xt.matrixWorldInverse,H.matrixWorld),H.normalMatrix.getNormalMatrix(H.modelViewMatrix),ft.onBeforeRender(L,rt,xt,gt,H,Gt),ft.transparent===!0&&ft.side===go&&ft.forceSinglePass===!1?(ft.side=da,ft.needsUpdate=!0,L.renderBufferDirect(xt,rt,gt,ft,H,Gt),ft.side=uc,ft.needsUpdate=!0,L.renderBufferDirect(xt,rt,gt,ft,H,Gt),ft.side=go):L.renderBufferDirect(xt,rt,gt,ft,H,Gt),H.onAfterRender(L,rt,xt,gt,ft,Gt)}function Ze(H,rt,xt){rt.isScene!==!0&&(rt=le);const gt=Qt.get(H),ft=M.state.lights,Gt=M.state.shadowsArray,Jt=ft.state.version,ae=ce.getParameters(H,ft.state,Gt,rt,xt),se=ce.getProgramCacheKey(ae);let Le=gt.programs;gt.environment=H.isMeshStandardMaterial?rt.environment:null,gt.fog=rt.fog,gt.envMap=(H.isMeshStandardMaterial?vt:F).get(H.envMap||gt.environment),gt.envMapRotation=gt.environment!==null&&H.envMap===null?rt.environmentRotation:H.envMapRotation,Le===void 0&&(H.addEventListener("dispose",Ne),Le=new Map,gt.programs=Le);let Ue=Le.get(se);if(Ue!==void 0){if(gt.currentProgram===Ue&&gt.lightsStateVersion===Jt)return To(H,ae),Ue}else ae.uniforms=ce.getUniforms(H),H.onBeforeCompile(ae,L),Ue=ce.acquireProgram(ae,se),Le.set(se,Ue),gt.uniforms=ae.uniforms;const Ae=gt.uniforms;return(!H.isShaderMaterial&&!H.isRawShaderMaterial||H.clipping===!0)&&(Ae.clippingPlanes=Wt.uniform),To(H,ae),gt.needsLights=mh(H),gt.lightsStateVersion=Jt,gt.needsLights&&(Ae.ambientLightColor.value=ft.state.ambient,Ae.lightProbe.value=ft.state.probe,Ae.directionalLights.value=ft.state.directional,Ae.directionalLightShadows.value=ft.state.directionalShadow,Ae.spotLights.value=ft.state.spot,Ae.spotLightShadows.value=ft.state.spotShadow,Ae.rectAreaLights.value=ft.state.rectArea,Ae.ltc_1.value=ft.state.rectAreaLTC1,Ae.ltc_2.value=ft.state.rectAreaLTC2,Ae.pointLights.value=ft.state.point,Ae.pointLightShadows.value=ft.state.pointShadow,Ae.hemisphereLights.value=ft.state.hemi,Ae.directionalShadowMap.value=ft.state.directionalShadowMap,Ae.directionalShadowMatrix.value=ft.state.directionalShadowMatrix,Ae.spotShadowMap.value=ft.state.spotShadowMap,Ae.spotLightMatrix.value=ft.state.spotLightMatrix,Ae.spotLightMap.value=ft.state.spotLightMap,Ae.pointShadowMap.value=ft.state.pointShadowMap,Ae.pointShadowMatrix.value=ft.state.pointShadowMatrix),gt.currentProgram=Ue,gt.uniformsList=null,Ue}function Ha(H){if(H.uniformsList===null){const rt=H.currentProgram.getUniforms();H.uniformsList=ux.seqWithValue(rt.seq,H.uniforms)}return H.uniformsList}function To(H,rt){const xt=Qt.get(H);xt.outputColorSpace=rt.outputColorSpace,xt.batching=rt.batching,xt.batchingColor=rt.batchingColor,xt.instancing=rt.instancing,xt.instancingColor=rt.instancingColor,xt.instancingMorph=rt.instancingMorph,xt.skinning=rt.skinning,xt.morphTargets=rt.morphTargets,xt.morphNormals=rt.morphNormals,xt.morphColors=rt.morphColors,xt.morphTargetsCount=rt.morphTargetsCount,xt.numClippingPlanes=rt.numClippingPlanes,xt.numIntersection=rt.numClipIntersection,xt.vertexAlphas=rt.vertexAlphas,xt.vertexTangents=rt.vertexTangents,xt.toneMapping=rt.toneMapping}function dh(H,rt,xt,gt,ft){rt.isScene!==!0&&(rt=le),q.resetTextureUnits();const Gt=rt.fog,Jt=gt.isMeshStandardMaterial?rt.environment:null,ae=V===null?L.outputColorSpace:V.isXRRenderTarget===!0?V.texture.colorSpace:xu,se=(gt.isMeshStandardMaterial?vt:F).get(gt.envMap||Jt),Le=gt.vertexColors===!0&&!!xt.attributes.color&&xt.attributes.color.itemSize===4,Ue=!!xt.attributes.tangent&&(!!gt.normalMap||gt.anisotropy>0),Ae=!!xt.morphAttributes.position,on=!!xt.morphAttributes.normal,ln=!!xt.morphAttributes.color;let Fn=ll;gt.toneMapped&&(V===null||V.isXRRenderTarget===!0)&&(Fn=L.toneMapping);const dn=xt.morphAttributes.position||xt.morphAttributes.normal||xt.morphAttributes.color,Be=dn!==void 0?dn.length:0,we=Qt.get(gt),yi=M.state.lights;if(Et===!0&&(Ut===!0||H!==P)){const ni=H===P&&gt.id===U;Wt.setState(gt,H,ni)}let cn=!1;gt.version===we.__version?(we.needsLights&&we.lightsStateVersion!==yi.state.version||we.outputColorSpace!==ae||ft.isBatchedMesh&&we.batching===!1||!ft.isBatchedMesh&&we.batching===!0||ft.isBatchedMesh&&we.batchingColor===!0&&ft.colorTexture===null||ft.isBatchedMesh&&we.batchingColor===!1&&ft.colorTexture!==null||ft.isInstancedMesh&&we.instancing===!1||!ft.isInstancedMesh&&we.instancing===!0||ft.isSkinnedMesh&&we.skinning===!1||!ft.isSkinnedMesh&&we.skinning===!0||ft.isInstancedMesh&&we.instancingColor===!0&&ft.instanceColor===null||ft.isInstancedMesh&&we.instancingColor===!1&&ft.instanceColor!==null||ft.isInstancedMesh&&we.instancingMorph===!0&&ft.morphTexture===null||ft.isInstancedMesh&&we.instancingMorph===!1&&ft.morphTexture!==null||we.envMap!==se||gt.fog===!0&&we.fog!==Gt||we.numClippingPlanes!==void 0&&(we.numClippingPlanes!==Wt.numPlanes||we.numIntersection!==Wt.numIntersection)||we.vertexAlphas!==Le||we.vertexTangents!==Ue||we.morphTargets!==Ae||we.morphNormals!==on||we.morphColors!==ln||we.toneMapping!==Fn||we.morphTargetsCount!==Be)&&(cn=!0):(cn=!0,we.__version=gt.version);let vs=we.currentProgram;cn===!0&&(vs=Ze(gt,rt,ft));let $s=!1,ns=!1,Li=!1;const wn=vs.getUniforms(),is=we.uniforms;if(Kt.useProgram(vs.program)&&($s=!0,ns=!0,Li=!0),gt.id!==U&&(U=gt.id,ns=!0),$s||P!==H){Kt.buffers.depth.getReversed()?(It.copy(H.projectionMatrix),XB(It),qB(It),wn.setValue(Y,"projectionMatrix",It)):wn.setValue(Y,"projectionMatrix",H.projectionMatrix),wn.setValue(Y,"viewMatrix",H.matrixWorldInverse);const Vi=wn.map.cameraPosition;Vi!==void 0&&Vi.setValue(Y,ye.setFromMatrixPosition(H.matrixWorld)),$t.logarithmicDepthBuffer&&wn.setValue(Y,"logDepthBufFC",2/(Math.log(H.far+1)/Math.LN2)),(gt.isMeshPhongMaterial||gt.isMeshToonMaterial||gt.isMeshLambertMaterial||gt.isMeshBasicMaterial||gt.isMeshStandardMaterial||gt.isShaderMaterial)&&wn.setValue(Y,"isOrthographic",H.isOrthographicCamera===!0),P!==H&&(P=H,ns=!0,Li=!0)}if(ft.isSkinnedMesh){wn.setOptional(Y,ft,"bindMatrix"),wn.setOptional(Y,ft,"bindMatrixInverse");const ni=ft.skeleton;ni&&(ni.boneTexture===null&&ni.computeBoneTexture(),wn.setValue(Y,"boneTexture",ni.boneTexture,q))}ft.isBatchedMesh&&(wn.setOptional(Y,ft,"batchingTexture"),wn.setValue(Y,"batchingTexture",ft._matricesTexture,q),wn.setOptional(Y,ft,"batchingIdTexture"),wn.setValue(Y,"batchingIdTexture",ft._indirectTexture,q),wn.setOptional(Y,ft,"batchingColorTexture"),ft._colorsTexture!==null&&wn.setValue(Y,"batchingColorTexture",ft._colorsTexture,q));const qi=xt.morphAttributes;if((qi.position!==void 0||qi.normal!==void 0||qi.color!==void 0)&&ve.update(ft,xt,vs),(ns||we.receiveShadow!==ft.receiveShadow)&&(we.receiveShadow=ft.receiveShadow,wn.setValue(Y,"receiveShadow",ft.receiveShadow)),gt.isMeshGouraudMaterial&&gt.envMap!==null&&(is.envMap.value=se,is.flipEnvMap.value=se.isCubeTexture&&se.isRenderTargetTexture===!1?-1:1),gt.isMeshStandardMaterial&&gt.envMap===null&&rt.environment!==null&&(is.envMapIntensity.value=rt.environmentIntensity),ns&&(wn.setValue(Y,"toneMappingExposure",L.toneMappingExposure),we.needsLights&&ph(is,Li),Gt&&gt.fog===!0&&ee.refreshFogUniforms(is,Gt),ee.refreshMaterialUniforms(is,gt,Q,tt,M.state.transmissionRenderTarget[H.id]),ux.upload(Y,Ha(we),is,q)),gt.isShaderMaterial&&gt.uniformsNeedUpdate===!0&&(ux.upload(Y,Ha(we),is,q),gt.uniformsNeedUpdate=!1),gt.isSpriteMaterial&&wn.setValue(Y,"center",ft.center),wn.setValue(Y,"modelViewMatrix",ft.modelViewMatrix),wn.setValue(Y,"normalMatrix",ft.normalMatrix),wn.setValue(Y,"modelMatrix",ft.matrixWorld),gt.isShaderMaterial||gt.isRawShaderMaterial){const ni=gt.uniformsGroups;for(let Vi=0,ka=ni.length;Vi<ka;Vi++){const ys=ni[Vi];ct.update(ys,vs),ct.bind(ys,vs)}}return vs}function ph(H,rt){H.ambientLightColor.needsUpdate=rt,H.lightProbe.needsUpdate=rt,H.directionalLights.needsUpdate=rt,H.directionalLightShadows.needsUpdate=rt,H.pointLights.needsUpdate=rt,H.pointLightShadows.needsUpdate=rt,H.spotLights.needsUpdate=rt,H.spotLightShadows.needsUpdate=rt,H.rectAreaLights.needsUpdate=rt,H.hemisphereLights.needsUpdate=rt}function mh(H){return H.isMeshLambertMaterial||H.isMeshToonMaterial||H.isMeshPhongMaterial||H.isMeshStandardMaterial||H.isShadowMaterial||H.isShaderMaterial&&H.lights===!0}this.getActiveCubeFace=function(){return B},this.getActiveMipmapLevel=function(){return I},this.getRenderTarget=function(){return V},this.setRenderTargetTextures=function(H,rt,xt){Qt.get(H.texture).__webglTexture=rt,Qt.get(H.depthTexture).__webglTexture=xt;const gt=Qt.get(H);gt.__hasExternalTextures=!0,gt.__autoAllocateDepthBuffer=xt===void 0,gt.__autoAllocateDepthBuffer||Ht.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),gt.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(H,rt){const xt=Qt.get(H);xt.__webglFramebuffer=rt,xt.__useDefaultFramebuffer=rt===void 0};const Rr=Y.createFramebuffer();this.setRenderTarget=function(H,rt=0,xt=0){V=H,B=rt,I=xt;let gt=!0,ft=null,Gt=!1,Jt=!1;if(H){const se=Qt.get(H);if(se.__useDefaultFramebuffer!==void 0)Kt.bindFramebuffer(Y.FRAMEBUFFER,null),gt=!1;else if(se.__webglFramebuffer===void 0)q.setupRenderTarget(H);else if(se.__hasExternalTextures)q.rebindTextures(H,Qt.get(H.texture).__webglTexture,Qt.get(H.depthTexture).__webglTexture);else if(H.depthBuffer){const Ae=H.depthTexture;if(se.__boundDepthTexture!==Ae){if(Ae!==null&&Qt.has(Ae)&&(H.width!==Ae.image.width||H.height!==Ae.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");q.setupDepthRenderbuffer(H)}}const Le=H.texture;(Le.isData3DTexture||Le.isDataArrayTexture||Le.isCompressedArrayTexture)&&(Jt=!0);const Ue=Qt.get(H).__webglFramebuffer;H.isWebGLCubeRenderTarget?(Array.isArray(Ue[rt])?ft=Ue[rt][xt]:ft=Ue[rt],Gt=!0):H.samples>0&&q.useMultisampledRTT(H)===!1?ft=Qt.get(H).__webglMultisampledFramebuffer:Array.isArray(Ue)?ft=Ue[xt]:ft=Ue,X.copy(H.viewport),pt.copy(H.scissor),it=H.scissorTest}else X.copy(at).multiplyScalar(Q).floor(),pt.copy(At).multiplyScalar(Q).floor(),it=zt;if(xt!==0&&(ft=Rr),Kt.bindFramebuffer(Y.FRAMEBUFFER,ft)&&gt&&Kt.drawBuffers(H,ft),Kt.viewport(X),Kt.scissor(pt),Kt.setScissorTest(it),Gt){const se=Qt.get(H.texture);Y.framebufferTexture2D(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_CUBE_MAP_POSITIVE_X+rt,se.__webglTexture,xt)}else if(Jt){const se=Qt.get(H.texture),Le=rt;Y.framebufferTextureLayer(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,se.__webglTexture,xt,Le)}else if(H!==null&&xt!==0){const se=Qt.get(H.texture);Y.framebufferTexture2D(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_2D,se.__webglTexture,xt)}U=-1},this.readRenderTargetPixels=function(H,rt,xt,gt,ft,Gt,Jt){if(!(H&&H.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ae=Qt.get(H).__webglFramebuffer;if(H.isWebGLCubeRenderTarget&&Jt!==void 0&&(ae=ae[Jt]),ae){Kt.bindFramebuffer(Y.FRAMEBUFFER,ae);try{const se=H.texture,Le=se.format,Ue=se.type;if(!$t.textureFormatReadable(Le)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!$t.textureTypeReadable(Ue)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}rt>=0&&rt<=H.width-gt&&xt>=0&&xt<=H.height-ft&&Y.readPixels(rt,xt,gt,ft,Me.convert(Le),Me.convert(Ue),Gt)}finally{const se=V!==null?Qt.get(V).__webglFramebuffer:null;Kt.bindFramebuffer(Y.FRAMEBUFFER,se)}}},this.readRenderTargetPixelsAsync=async function(H,rt,xt,gt,ft,Gt,Jt){if(!(H&&H.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let ae=Qt.get(H).__webglFramebuffer;if(H.isWebGLCubeRenderTarget&&Jt!==void 0&&(ae=ae[Jt]),ae){const se=H.texture,Le=se.format,Ue=se.type;if(!$t.textureFormatReadable(Le))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!$t.textureTypeReadable(Ue))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(rt>=0&&rt<=H.width-gt&&xt>=0&&xt<=H.height-ft){Kt.bindFramebuffer(Y.FRAMEBUFFER,ae);const Ae=Y.createBuffer();Y.bindBuffer(Y.PIXEL_PACK_BUFFER,Ae),Y.bufferData(Y.PIXEL_PACK_BUFFER,Gt.byteLength,Y.STREAM_READ),Y.readPixels(rt,xt,gt,ft,Me.convert(Le),Me.convert(Ue),0);const on=V!==null?Qt.get(V).__webglFramebuffer:null;Kt.bindFramebuffer(Y.FRAMEBUFFER,on);const ln=Y.fenceSync(Y.SYNC_GPU_COMMANDS_COMPLETE,0);return Y.flush(),await jB(Y,ln,4),Y.bindBuffer(Y.PIXEL_PACK_BUFFER,Ae),Y.getBufferSubData(Y.PIXEL_PACK_BUFFER,0,Gt),Y.deleteBuffer(Ae),Y.deleteSync(ln),Gt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(H,rt=null,xt=0){H.isTexture!==!0&&(Ld("WebGLRenderer: copyFramebufferToTexture function signature has changed."),rt=arguments[0]||null,H=arguments[1]);const gt=Math.pow(2,-xt),ft=Math.floor(H.image.width*gt),Gt=Math.floor(H.image.height*gt),Jt=rt!==null?rt.x:0,ae=rt!==null?rt.y:0;q.setTexture2D(H,0),Y.copyTexSubImage2D(Y.TEXTURE_2D,xt,0,0,Jt,ae,ft,Gt),Kt.unbindTexture()};const Sl=Y.createFramebuffer(),Ga=Y.createFramebuffer();this.copyTextureToTexture=function(H,rt,xt=null,gt=null,ft=0,Gt=null){H.isTexture!==!0&&(Ld("WebGLRenderer: copyTextureToTexture function signature has changed."),gt=arguments[0]||null,H=arguments[1],rt=arguments[2],Gt=arguments[3]||0,xt=null),Gt===null&&(ft!==0?(Ld("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Gt=ft,ft=0):Gt=0);let Jt,ae,se,Le,Ue,Ae,on,ln,Fn;const dn=H.isCompressedTexture?H.mipmaps[Gt]:H.image;if(xt!==null)Jt=xt.max.x-xt.min.x,ae=xt.max.y-xt.min.y,se=xt.isBox3?xt.max.z-xt.min.z:1,Le=xt.min.x,Ue=xt.min.y,Ae=xt.isBox3?xt.min.z:0;else{const qi=Math.pow(2,-ft);Jt=Math.floor(dn.width*qi),ae=Math.floor(dn.height*qi),H.isDataArrayTexture?se=dn.depth:H.isData3DTexture?se=Math.floor(dn.depth*qi):se=1,Le=0,Ue=0,Ae=0}gt!==null?(on=gt.x,ln=gt.y,Fn=gt.z):(on=0,ln=0,Fn=0);const Be=Me.convert(rt.format),we=Me.convert(rt.type);let yi;rt.isData3DTexture?(q.setTexture3D(rt,0),yi=Y.TEXTURE_3D):rt.isDataArrayTexture||rt.isCompressedArrayTexture?(q.setTexture2DArray(rt,0),yi=Y.TEXTURE_2D_ARRAY):(q.setTexture2D(rt,0),yi=Y.TEXTURE_2D),Y.pixelStorei(Y.UNPACK_FLIP_Y_WEBGL,rt.flipY),Y.pixelStorei(Y.UNPACK_PREMULTIPLY_ALPHA_WEBGL,rt.premultiplyAlpha),Y.pixelStorei(Y.UNPACK_ALIGNMENT,rt.unpackAlignment);const cn=Y.getParameter(Y.UNPACK_ROW_LENGTH),vs=Y.getParameter(Y.UNPACK_IMAGE_HEIGHT),$s=Y.getParameter(Y.UNPACK_SKIP_PIXELS),ns=Y.getParameter(Y.UNPACK_SKIP_ROWS),Li=Y.getParameter(Y.UNPACK_SKIP_IMAGES);Y.pixelStorei(Y.UNPACK_ROW_LENGTH,dn.width),Y.pixelStorei(Y.UNPACK_IMAGE_HEIGHT,dn.height),Y.pixelStorei(Y.UNPACK_SKIP_PIXELS,Le),Y.pixelStorei(Y.UNPACK_SKIP_ROWS,Ue),Y.pixelStorei(Y.UNPACK_SKIP_IMAGES,Ae);const wn=H.isDataArrayTexture||H.isData3DTexture,is=rt.isDataArrayTexture||rt.isData3DTexture;if(H.isDepthTexture){const qi=Qt.get(H),ni=Qt.get(rt),Vi=Qt.get(qi.__renderTarget),ka=Qt.get(ni.__renderTarget);Kt.bindFramebuffer(Y.READ_FRAMEBUFFER,Vi.__webglFramebuffer),Kt.bindFramebuffer(Y.DRAW_FRAMEBUFFER,ka.__webglFramebuffer);for(let ys=0;ys<se;ys++)wn&&(Y.framebufferTextureLayer(Y.READ_FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Qt.get(H).__webglTexture,ft,Ae+ys),Y.framebufferTextureLayer(Y.DRAW_FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Qt.get(rt).__webglTexture,Gt,Fn+ys)),Y.blitFramebuffer(Le,Ue,Jt,ae,on,ln,Jt,ae,Y.DEPTH_BUFFER_BIT,Y.NEAREST);Kt.bindFramebuffer(Y.READ_FRAMEBUFFER,null),Kt.bindFramebuffer(Y.DRAW_FRAMEBUFFER,null)}else if(ft!==0||H.isRenderTargetTexture||Qt.has(H)){const qi=Qt.get(H),ni=Qt.get(rt);Kt.bindFramebuffer(Y.READ_FRAMEBUFFER,Sl),Kt.bindFramebuffer(Y.DRAW_FRAMEBUFFER,Ga);for(let Vi=0;Vi<se;Vi++)wn?Y.framebufferTextureLayer(Y.READ_FRAMEBUFFER,Y.COLOR_ATTACHMENT0,qi.__webglTexture,ft,Ae+Vi):Y.framebufferTexture2D(Y.READ_FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_2D,qi.__webglTexture,ft),is?Y.framebufferTextureLayer(Y.DRAW_FRAMEBUFFER,Y.COLOR_ATTACHMENT0,ni.__webglTexture,Gt,Fn+Vi):Y.framebufferTexture2D(Y.DRAW_FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_2D,ni.__webglTexture,Gt),ft!==0?Y.blitFramebuffer(Le,Ue,Jt,ae,on,ln,Jt,ae,Y.COLOR_BUFFER_BIT,Y.NEAREST):is?Y.copyTexSubImage3D(yi,Gt,on,ln,Fn+Vi,Le,Ue,Jt,ae):Y.copyTexSubImage2D(yi,Gt,on,ln,Le,Ue,Jt,ae);Kt.bindFramebuffer(Y.READ_FRAMEBUFFER,null),Kt.bindFramebuffer(Y.DRAW_FRAMEBUFFER,null)}else is?H.isDataTexture||H.isData3DTexture?Y.texSubImage3D(yi,Gt,on,ln,Fn,Jt,ae,se,Be,we,dn.data):rt.isCompressedArrayTexture?Y.compressedTexSubImage3D(yi,Gt,on,ln,Fn,Jt,ae,se,Be,dn.data):Y.texSubImage3D(yi,Gt,on,ln,Fn,Jt,ae,se,Be,we,dn):H.isDataTexture?Y.texSubImage2D(Y.TEXTURE_2D,Gt,on,ln,Jt,ae,Be,we,dn.data):H.isCompressedTexture?Y.compressedTexSubImage2D(Y.TEXTURE_2D,Gt,on,ln,dn.width,dn.height,Be,dn.data):Y.texSubImage2D(Y.TEXTURE_2D,Gt,on,ln,Jt,ae,Be,we,dn);Y.pixelStorei(Y.UNPACK_ROW_LENGTH,cn),Y.pixelStorei(Y.UNPACK_IMAGE_HEIGHT,vs),Y.pixelStorei(Y.UNPACK_SKIP_PIXELS,$s),Y.pixelStorei(Y.UNPACK_SKIP_ROWS,ns),Y.pixelStorei(Y.UNPACK_SKIP_IMAGES,Li),Gt===0&&rt.generateMipmaps&&Y.generateMipmap(yi),Kt.unbindTexture()},this.copyTextureToTexture3D=function(H,rt,xt=null,gt=null,ft=0){return H.isTexture!==!0&&(Ld("WebGLRenderer: copyTextureToTexture3D function signature has changed."),xt=arguments[0]||null,gt=arguments[1]||null,H=arguments[2],rt=arguments[3],ft=arguments[4]||0),Ld('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(H,rt,xt,gt,ft)},this.initRenderTarget=function(H){Qt.get(H).__webglFramebuffer===void 0&&q.setupRenderTarget(H)},this.initTexture=function(H){H.isCubeTexture?q.setTextureCube(H,0):H.isData3DTexture?q.setTexture3D(H,0):H.isDataArrayTexture||H.isCompressedArrayTexture?q.setTexture2DArray(H,0):q.setTexture2D(H,0),Kt.unbindTexture()},this.resetState=function(){B=0,I=0,V=null,Kt.reset(),xn.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return vo}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(t){this._outputColorSpace=t;const e=this.getContext();e.drawingBufferColorspace=yn._getDrawingBufferColorSpace(t),e.unpackColorSpace=yn._getUnpackColorSpace()}}const nG=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:KM,AddEquation:mu,AddOperation:S3,AdditiveAnimationBlendMode:oT,AdditiveBlending:Vb,AgXToneMapping:A3,AlphaFormat:eT,AlwaysCompare:H3,AlwaysDepth:Ex,AlwaysStencilFunc:Gb,AmbientLight:ON,AnimationAction:kN,AnimationClip:jg,AnimationLoader:g4,AnimationMixer:X4,AnimationObjectGroup:k4,AnimationUtils:h4,ArcCurve:rN,ArrayCamera:FN,ArrowHelper:pI,AttachedBindMode:Hb,Audio:HN,AudioAnalyser:U4,AudioContext:NT,AudioListener:D4,AudioLoader:w4,AxesHelper:mI,BackSide:da,BasicDepthPacking:L3,BasicShadowMap:e3,BatchedMesh:nN,Bone:pT,BooleanKeyframeTrack:ch,Box2:tI,Box3:pa,Box3Helper:hI,BoxGeometry:lh,BoxHelper:fI,BufferAttribute:jn,BufferGeometry:tn,BufferGeometryLoader:IN,ByteType:$M,Cache:ac,Camera:z_,CameraHelper:uI,CanvasTexture:zV,CapsuleGeometry:k_,CatmullRomCurve3:oN,CineonToneMapping:T3,CircleGeometry:j_,ClampToEdgeWrapping:Cr,Clock:LT,Color:de,ColorKeyframeTrack:CT,ColorManagement:yn,CompressedArrayTexture:OV,CompressedCubeTexture:PV,CompressedTexture:H_,CompressedTextureLoader:v4,ConeGeometry:X_,ConstantAlphaFactor:y3,ConstantColorFactor:g3,Controls:vI,CubeCamera:Z3,CubeReflectionMapping:fc,CubeRefractionMapping:yu,CubeTexture:u0,CubeTextureLoader:y4,CubeUVReflectionMapping:fp,CubicBezierCurve:yT,CubicBezierCurve3:lN,CubicInterpolant:wN,CullFaceBack:Bb,CullFaceFront:t3,CullFaceFrontBack:qz,CullFaceNone:JD,Curve:bo,CurvePath:uN,CustomBlending:n3,CustomToneMapping:E3,CylinderGeometry:pp,Cylindrical:J4,Data3DTexture:P_,DataArrayTexture:c0,DataTexture:cl,DataTextureLoader:x4,DataUtils:oV,DecrementStencilOp:rB,DecrementWrapStencilOp:lB,DefaultLoadingManager:Bd,DepthFormat:Kf,DepthStencilFormat:sh,DepthTexture:gT,DetachedBindMode:C3,DirectionalLight:UN,DirectionalLightHelper:cI,DiscreteInterpolant:CN,DodecahedronGeometry:q_,DoubleSide:go,DstAlphaFactor:f3,DstColorFactor:d3,DynamicCopyUsage:MB,DynamicDrawUsage:vB,DynamicReadUsage:_B,EdgesGeometry:fN,EllipseCurve:G_,EqualCompare:B3,EqualDepth:wx,EqualStencilFunc:hB,EquirectangularReflectionMapping:Cg,EquirectangularRefractionMapping:Rg,Euler:ar,EventDispatcher:yl,ExtrudeGeometry:W_,FileLoader:dc,Float16BufferAttribute:pV,Float32BufferAttribute:be,FloatType:Pa,Fog:V_,FogExp2:B_,FramebufferTexture:UV,FrontSide:uc,Frustum:f0,GLBufferAttribute:Q4,GLSL1:EB,GLSL3:kb,GreaterCompare:V3,GreaterDepth:Rx,GreaterEqualCompare:F3,GreaterEqualDepth:Cx,GreaterEqualStencilFunc:gB,GreaterStencilFunc:pB,GridHelper:oI,Group:Pd,HalfFloatType:hp,HemisphereLight:DN,HemisphereLightHelper:rI,IcosahedronGeometry:Z_,ImageBitmapLoader:A4,ImageLoader:Xg,ImageUtils:X3,IncrementStencilOp:aB,IncrementWrapStencilOp:oB,InstancedBufferAttribute:ip,InstancedBufferGeometry:VN,InstancedInterleavedBuffer:K4,InstancedMesh:eN,Int16BufferAttribute:hV,Int32BufferAttribute:dV,Int8BufferAttribute:cV,IntType:w_,InterleavedBuffer:I_,InterleavedBufferAttribute:ah,Interpolant:m0,InterpolateDiscrete:Lg,InterpolateLinear:i_,InterpolateSmooth:lx,InvertStencilOp:cB,KeepStencilOp:Bf,KeyframeTrack:Mo,LOD:J3,LatheGeometry:h0,Layers:ep,LessCompare:z3,LessDepth:Ax,LessEqualCompare:lT,LessEqualDepth:nh,LessEqualStencilFunc:dB,LessStencilFunc:fB,Light:wu,LightProbe:BN,Line:_u,Line3:eI,LineBasicMaterial:ma,LineCurve:xT,LineCurve3:cN,LineDashedMaterial:TN,LineLoop:iN,LineSegments:xl,LinearFilter:Qi,LinearInterpolant:wT,LinearMipMapLinearFilter:Kz,LinearMipMapNearestFilter:Zz,LinearMipmapLinearFilter:ol,LinearMipmapNearestFilter:lg,LinearSRGBColorSpace:xu,LinearToneMapping:b3,LinearTransfer:Og,Loader:Ia,LoaderUtils:Wb,LoadingManager:RT,LoopOnce:R3,LoopPingPong:N3,LoopRepeat:D3,LuminanceAlphaFormat:sT,LuminanceFormat:iT,MOUSE:jz,Material:Ks,MaterialLoader:nS,MathUtils:G3,Matrix2:zT,Matrix3:qe,Matrix4:Ie,MaxEquation:r3,Mesh:Xi,MeshBasicMaterial:Eu,MeshDepthMaterial:TT,MeshDistanceMaterial:ET,MeshLambertMaterial:bN,MeshMatcapMaterial:MN,MeshNormalMaterial:SN,MeshPhongMaterial:xN,MeshPhysicalMaterial:yN,MeshStandardMaterial:MT,MeshToonMaterial:_N,MinEquation:a3,MirroredRepeatWrapping:Ng,MixOperation:_3,MultiplyBlending:Fb,MultiplyOperation:o0,NearestFilter:Ds,NearestMipMapLinearFilter:Wz,NearestMipMapNearestFilter:Yz,NearestMipmapLinearFilter:Ud,NearestMipmapNearestFilter:QM,NeutralToneMapping:w3,NeverCompare:P3,NeverDepth:Tx,NeverStencilFunc:uB,NoBlending:rc,NoColorSpace:ic,NoToneMapping:ll,NormalAnimationBlendMode:U_,NormalBlending:Zf,NotEqualCompare:I3,NotEqualDepth:Dx,NotEqualStencilFunc:mB,NumberKeyframeTrack:Gg,Object3D:Tn,ObjectLoader:T4,ObjectSpaceNormalMap:O3,OctahedronGeometry:d0,OneFactor:l3,OneMinusConstantAlphaFactor:x3,OneMinusConstantColorFactor:v3,OneMinusDstAlphaFactor:h3,OneMinusDstColorFactor:p3,OneMinusSrcAlphaFactor:Mx,OneMinusSrcColorFactor:u3,OrthographicCamera:fh,PCFShadowMap:E_,PCFSoftShadowMap:og,PMREMGenerator:Qb,Path:Vg,PerspectiveCamera:ji,Plane:pu,PlaneGeometry:mp,PlaneHelper:dI,PointLight:LN,PointLightHelper:sI,Points:sN,PointsMaterial:mT,PolarGridHelper:lI,PolyhedronGeometry:Au,PositionalAudio:L4,PropertyBinding:bn,PropertyMixer:GN,QuadraticBezierCurve:_T,QuadraticBezierCurve3:ST,Quaternion:Ba,QuaternionKeyframeTrack:g0,QuaternionLinearInterpolant:RN,RED_GREEN_RGTC2_Format:e_,RED_RGTC1_Format:rT,REVISION:T_,RGBADepthPacking:U3,RGBAFormat:Ys,RGBAIntegerFormat:L_,RGBA_ASTC_10x10_Format:Zx,RGBA_ASTC_10x5_Format:qx,RGBA_ASTC_10x6_Format:Yx,RGBA_ASTC_10x8_Format:Wx,RGBA_ASTC_12x10_Format:Kx,RGBA_ASTC_12x12_Format:Qx,RGBA_ASTC_4x4_Format:Vx,RGBA_ASTC_5x4_Format:Ix,RGBA_ASTC_5x5_Format:Fx,RGBA_ASTC_6x5_Format:Hx,RGBA_ASTC_6x6_Format:Gx,RGBA_ASTC_8x5_Format:kx,RGBA_ASTC_8x6_Format:jx,RGBA_ASTC_8x8_Format:Xx,RGBA_BPTC_Format:dg,RGBA_ETC2_EAC_Format:Bx,RGBA_PVRTC_2BPPV1_Format:Ox,RGBA_PVRTC_4BPPV1_Format:Ux,RGBA_S3TC_DXT1_Format:ug,RGBA_S3TC_DXT3_Format:fg,RGBA_S3TC_DXT5_Format:hg,RGBDepthPacking:eB,RGBFormat:nT,RGBIntegerFormat:Qz,RGB_BPTC_SIGNED_Format:$x,RGB_BPTC_UNSIGNED_Format:Jx,RGB_ETC1_Format:Px,RGB_ETC2_Format:zx,RGB_PVRTC_2BPPV1_Format:Lx,RGB_PVRTC_4BPPV1_Format:Nx,RGB_S3TC_DXT1_Format:cg,RGDepthPacking:nB,RGFormat:aT,RGIntegerFormat:N_,RawShaderMaterial:vN,Ray:dp,Raycaster:jN,RectAreaLight:PN,RedFormat:D_,RedIntegerFormat:l0,ReinhardToneMapping:M3,RenderTarget:O_,RenderTarget3D:q4,RenderTargetArray:Y4,RepeatWrapping:Dg,ReplaceStencilOp:sB,ReverseSubtractEquation:s3,RingGeometry:K_,SIGNED_RED_GREEN_RGTC2_Format:n_,SIGNED_RED_RGTC1_Format:t_,SRGBColorSpace:qs,SRGBTransfer:Vn,Scene:hT,ShaderChunk:Je,ShaderLib:mo,ShaderMaterial:_o,ShadowMaterial:gN,Shape:$f,ShapeGeometry:Q_,ShapePath:gI,ShapeUtils:ul,ShortType:JM,Skeleton:F_,SkeletonHelper:iI,SkinnedMesh:tN,Source:jf,Sphere:Zs,SphereGeometry:p0,Spherical:$4,SphericalHarmonics3:zN,SplineCurve:bT,SpotLight:NN,SpotLightHelper:nI,Sprite:$3,SpriteMaterial:dT,SrcAlphaFactor:bx,SrcAlphaSaturateFactor:m3,SrcColorFactor:c3,StaticCopyUsage:bB,StaticDrawUsage:Pg,StaticReadUsage:xB,StereoCamera:C4,StreamCopyUsage:TB,StreamDrawUsage:yB,StreamReadUsage:SB,StringKeyframeTrack:uh,SubtractEquation:i3,SubtractiveBlending:Ib,TOUCH:Xz,TangentSpaceNormalMap:Tu,TetrahedronGeometry:$_,Texture:Ni,TextureLoader:_4,TextureUtils:bI,TimestampQuery:AB,TorusGeometry:J_,TorusKnotGeometry:tS,Triangle:Oa,TriangleFanDrawMode:tB,TriangleStripDrawMode:Jz,TrianglesDrawMode:$z,TubeGeometry:eS,UVMapping:A_,Uint16BufferAttribute:uT,Uint32BufferAttribute:fT,Uint8BufferAttribute:uV,Uint8ClampedBufferAttribute:fV,Uniform:PT,UniformsGroup:Z4,UniformsLib:oe,UniformsUtils:W3,UnsignedByteType:xo,UnsignedInt248Type:ih,UnsignedInt5999Type:tT,UnsignedIntType:hc,UnsignedShort4444Type:C_,UnsignedShort5551Type:R_,UnsignedShortType:Jd,VSMShadowMap:po,Vector2:Vt,Vector3:W,Vector4:Mn,VectorKeyframeTrack:kg,VideoFrameTexture:LV,VideoTexture:aN,WebGL3DRenderTarget:QB,WebGLArrayRenderTarget:KB,WebGLCoordinateSystem:vo,WebGLCubeRenderTarget:K3,WebGLRenderTarget:gl,WebGLRenderer:$N,WebGLUtils:QN,WebGPUCoordinateSystem:zg,WebXRController:cx,WireframeGeometry:mN,WrapAroundEnding:Ug,ZeroCurvatureEnding:Gf,ZeroFactor:o3,ZeroSlopeEnding:kf,ZeroStencilOp:iB,createCanvasElement:j3},Symbol.toStringTag,{value:"Module"}));var X1={exports:{}},ec={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RC;function iG(){return RC||(RC=1,ec.ConcurrentRoot=1,ec.ContinuousEventPriority=8,ec.DefaultEventPriority=32,ec.DiscreteEventPriority=2,ec.IdleEventPriority=268435456,ec.LegacyRoot=0,ec.NoEventPriority=0),ec}var DC;function sG(){return DC||(DC=1,X1.exports=iG()),X1.exports}var fx=sG(),q1={exports:{}},Y1={},W1={exports:{}},Z1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NC;function aG(){if(NC)return Z1;NC=1;var n=up();function t(v,x){return v===x&&(v!==0||1/v===1/x)||v!==v&&x!==x}var e=typeof Object.is=="function"?Object.is:t,i=n.useState,s=n.useEffect,r=n.useLayoutEffect,l=n.useDebugValue;function u(v,x){var _=x(),T=i({inst:{value:_,getSnapshot:x}}),C=T[0].inst,E=T[1];return r(function(){C.value=_,C.getSnapshot=x,h(C)&&E({inst:C})},[v,_,x]),s(function(){return h(C)&&E({inst:C}),v(function(){h(C)&&E({inst:C})})},[v]),l(_),_}function h(v){var x=v.getSnapshot;v=v.value;try{var _=x();return!e(v,_)}catch{return!0}}function p(v,x){return x()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:u;return Z1.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:m,Z1}var LC;function rG(){return LC||(LC=1,W1.exports=aG()),W1.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UC;function oG(){if(UC)return Y1;UC=1;var n=up(),t=rG();function e(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var i=typeof Object.is=="function"?Object.is:e,s=t.useSyncExternalStore,r=n.useRef,l=n.useEffect,u=n.useMemo,h=n.useDebugValue;return Y1.useSyncExternalStoreWithSelector=function(p,m,v,x,_){var T=r(null);if(T.current===null){var C={hasValue:!1,value:null};T.current=C}else C=T.current;T=u(function(){function M(B){if(!R){if(R=!0,D=B,B=x(B),_!==void 0&&C.hasValue){var I=C.value;if(_(I,B))return L=I}return L=B}if(I=L,i(D,B))return I;var V=x(B);return _!==void 0&&_(I,V)?(D=B,I):(D=B,L=V)}var R=!1,D,L,z=v===void 0?null:v;return[function(){return M(m())},z===null?void 0:function(){return M(z())}]},[m,v,x,_]);var E=s(p,T[0],T[1]);return l(function(){C.hasValue=!0,C.value=E},[E]),h(E),E},Y1}var OC;function lG(){return OC||(OC=1,q1.exports=oG()),q1.exports}var cG=lG();const uG=r0(cG),PC=n=>{let t;const e=new Set,i=(p,m)=>{const v=typeof p=="function"?p(t):p;if(!Object.is(v,t)){const x=t;t=m??(typeof v!="object"||v===null)?v:Object.assign({},t,v),e.forEach(_=>_(t,x))}},s=()=>t,u={setState:i,getState:s,getInitialState:()=>h,subscribe:p=>(e.add(p),()=>e.delete(p))},h=t=n(i,s,u);return u},JN=n=>n?PC(n):PC,{useSyncExternalStoreWithSelector:fG}=uG,hG=n=>n;function dG(n,t=hG,e){const i=fG(n.subscribe,n.getState,n.getInitialState,t,e);return zb.useDebugValue(i),i}const zC=(n,t)=>{const e=JN(n),i=(s,r=t)=>dG(e,s,r);return Object.assign(i,e),i},pG=(n,t)=>n?zC(n,t):zC;var K1={exports:{}},Q1={exports:{}};/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BC;function mG(){return BC||(BC=1,function(n){n.exports=function(t){function e(c,f,y,b){return new $0(c,f,y,b)}function i(){}function s(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)f+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(c){return c===null||typeof c!="object"?null:(c=Cn&&c[Cn]||c["@@iterator"],typeof c=="function"?c:null)}function l(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===Si?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case Fo:return"Fragment";case fr:return"Portal";case Ho:return"Profiler";case Ul:return"StrictMode";case Xr:return"Suspense";case rf:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case Go:return(c.displayName||"Context")+".Provider";case Qp:return(c._context.displayName||"Context")+".Consumer";case Bh:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case Oc:return f=c.displayName||null,f!==null?f:l(c.type)||"Memo";case qr:f=c._payload,c=c._init;try{return l(c(f))}catch{}}return null}function u(c){if(ko===void 0)try{throw Error()}catch(y){var f=y.stack.trim().match(/\n( *(at )?)/);ko=f&&f[1]||"",jo=-1<y.stack.indexOf(`
    at`)?" (<anonymous>)":-1<y.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ko+c+jo}function h(c,f){if(!c||Pc)return"";Pc=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(f){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(ke){var Yt=ke}Reflect.construct(c,[],re)}else{try{re.call()}catch(ke){Yt=ke}c.call(re.prototype)}}else{try{throw Error()}catch(ke){Yt=ke}(re=c())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(ke){if(ke&&Yt&&typeof ke.stack=="string")return[ke.stack,Yt.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=b.DetermineComponentFrameRoot(),k=N[0],et=N[1];if(k&&et){var mt=k.split(`
`),Nt=et.split(`
`);for(w=b=0;b<mt.length&&!mt[b].includes("DetermineComponentFrameRoot");)b++;for(;w<Nt.length&&!Nt[w].includes("DetermineComponentFrameRoot");)w++;if(b===mt.length||w===Nt.length)for(b=mt.length-1,w=Nt.length-1;1<=b&&0<=w&&mt[b]!==Nt[w];)w--;for(;1<=b&&0<=w;b--,w--)if(mt[b]!==Nt[w]){if(b!==1||w!==1)do if(b--,w--,0>w||mt[b]!==Nt[w]){var Zt=`
`+mt[b].replace(" at new "," at ");return c.displayName&&Zt.includes("<anonymous>")&&(Zt=Zt.replace("<anonymous>",c.displayName)),Zt}while(1<=b&&0<=w);break}}}finally{Pc=!1,Error.prepareStackTrace=y}return(y=c?c.displayName||c.name:"")?u(y):""}function p(c){switch(c.tag){case 26:case 27:case 5:return u(c.type);case 16:return u("Lazy");case 13:return u("Suspense");case 19:return u("SuspenseList");case 0:case 15:return c=h(c.type,!1),c;case 11:return c=h(c.type.render,!1),c;case 1:return c=h(c.type,!0),c;default:return""}}function m(c){try{var f="";do f+=p(c),c=c.return;while(c);return f}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}function v(c){var f=c,y=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,f.flags&4098&&(y=f.return),c=f.return;while(c)}return f.tag===3?y:null}function x(c){if(v(c)!==c)throw Error(s(188))}function _(c){var f=c.alternate;if(!f){if(f=v(c),f===null)throw Error(s(188));return f!==c?null:c}for(var y=c,b=f;;){var w=y.return;if(w===null)break;var N=w.alternate;if(N===null){if(b=w.return,b!==null){y=b;continue}break}if(w.child===N.child){for(N=w.child;N;){if(N===y)return x(w),c;if(N===b)return x(w),f;N=N.sibling}throw Error(s(188))}if(y.return!==b.return)y=w,b=N;else{for(var k=!1,et=w.child;et;){if(et===y){k=!0,y=w,b=N;break}if(et===b){k=!0,b=w,y=N;break}et=et.sibling}if(!k){for(et=N.child;et;){if(et===y){k=!0,y=N,b=w;break}if(et===b){k=!0,b=N,y=w;break}et=et.sibling}if(!k)throw Error(s(189))}}if(y.alternate!==b)throw Error(s(190))}if(y.tag!==3)throw Error(s(188));return y.stateNode.current===y?c:f}function T(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c;for(c=c.child;c!==null;){if(f=T(c),f!==null)return f;c=c.sibling}return null}function C(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c;for(c=c.child;c!==null;){if(c.tag!==4&&(f=C(c),f!==null))return f;c=c.sibling}return null}function E(c){return{current:c}}function M(c){0>Wo||(c.current=Kh[Wo],Kh[Wo]=null,Wo--)}function R(c,f){Wo++,Kh[Wo]=c.current,c.current=f}function D(c){return c>>>=0,c===0?32:31-(Sm(c)/CS|0)|0}function L(c){var f=c&42;if(f!==0)return f;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function z(c,f){var y=c.pendingLanes;if(y===0)return 0;var b=0,w=c.suspendedLanes,N=c.pingedLanes,k=c.warmLanes;c=c.finishedLanes!==0;var et=y&134217727;return et!==0?(y=et&~w,y!==0?b=L(y):(N&=et,N!==0?b=L(N):c||(k=et&~k,k!==0&&(b=L(k))))):(et=y&~w,et!==0?b=L(et):N!==0?b=L(N):c||(k=y&~k,k!==0&&(b=L(k)))),b===0?0:f!==0&&f!==b&&!(f&w)&&(w=b&-b,k=f&-f,w>=k||w===32&&(k&4194176)!==0)?f:b}function B(c,f){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&f)===0}function I(c,f){switch(c){case 1:case 2:case 4:case 8:return f+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function V(){var c=uf;return uf<<=1,!(uf&4194176)&&(uf=128),c}function U(){var c=Fc;return Fc<<=1,!(Fc&62914560)&&(Fc=4194304),c}function P(c){for(var f=[],y=0;31>y;y++)f.push(c);return f}function X(c,f){c.pendingLanes|=f,f!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function pt(c,f,y,b,w,N){var k=c.pendingLanes;c.pendingLanes=y,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=y,c.entangledLanes&=y,c.errorRecoveryDisabledLanes&=y,c.shellSuspendCounter=0;var et=c.entanglements,mt=c.expirationTimes,Nt=c.hiddenUpdates;for(y=k&~y;0<y;){var Zt=31-li(y),re=1<<Zt;et[Zt]=0,mt[Zt]=-1;var Yt=Nt[Zt];if(Yt!==null)for(Nt[Zt]=null,Zt=0;Zt<Yt.length;Zt++){var ke=Yt[Zt];ke!==null&&(ke.lane&=-536870913)}y&=~re}b!==0&&it(c,b,0),N!==0&&w===0&&c.tag!==0&&(c.suspendedLanes|=N&~(k&~f))}function it(c,f,y){c.pendingLanes|=f,c.suspendedLanes&=~f;var b=31-li(f);c.entangledLanes|=f,c.entanglements[b]=c.entanglements[b]|1073741824|y&4194218}function K(c,f){var y=c.entangledLanes|=f;for(c=c.entanglements;y;){var b=31-li(y),w=1<<b;w&f|c[b]&f&&(c[b]|=f),y&=~w}}function lt(c){return c&=-c,2<c?8<c?c&134217727?32:268435456:8:2}function J(c){if(bi&&typeof bi.onCommitFiberRoot=="function")try{bi.onCommitFiberRoot(Gc,c,void 0,(c.current.flags&128)===128)}catch{}}function tt(c){if(typeof rs=="function"&&$h(c),bi&&typeof bi.setStrictMode=="function")try{bi.setStrictMode(Gc,c)}catch{}}function Q(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}function _t(c,f){if(typeof c=="object"&&c!==null){var y=Jh.get(c);return y!==void 0?y:(f={value:c,source:f,stack:m(f)},Jh.set(c,f),f)}return{value:c,source:f,stack:m(f)}}function j(c,f){ia[sa++]=kc,ia[sa++]=Ko,Ko=c,kc=f}function at(c,f,y){Vs[os++]=mr,Vs[os++]=gr,Vs[os++]=Wa,Wa=c;var b=mr;c=gr;var w=32-li(b)-1;b&=~(1<<w),y+=1;var N=32-li(f)+w;if(30<N){var k=w-w%5;N=(b&(1<<k)-1).toString(32),b>>=k,w-=k,mr=1<<32-li(f)+w|y<<w|b,gr=N+c}else mr=1<<N|y<<w|b,gr=c}function At(c){c.return!==null&&(j(c,1),at(c,1,0))}function zt(c){for(;c===Ko;)Ko=ia[--sa],ia[sa]=null,kc=ia[--sa],ia[sa]=null;for(;c===Wa;)Wa=Vs[--os],Vs[os]=null,gr=Vs[--os],Vs[os]=null,mr=Vs[--os],Vs[os]=null}function st(c,f){R(Qr,f),R(Sa,c),R(ci,null),c=$p(f),M(ci),R(ci,c)}function Et(){M(ci),M(Sa),M(Qr)}function Ut(c){c.memoizedState!==null&&R(hf,c);var f=ci.current,y=J0(f,c.type);f!==y&&(R(Sa,c),R(ci,y))}function It(c){Sa.current===c&&(M(ci),M(Sa)),hf.current===c&&(M(hf),Xa?Wr._currentValue=Pl:Wr._currentValue2=Pl)}function kt(c){var f=Error(s(418,""));throw Rt(_t(f,c)),df}function ye(c,f){if(!Bs)throw Error(s(175));Vl(c.stateNode,c.type,c.memoizedProps,f,c)||kt(c)}function qt(c){for(ui=c.return;ui;)switch(ui.tag){case 3:case 27:Za=!0;return;case 5:case 13:Za=!1;return;default:ui=ui.return}}function le(c){if(!Bs||c!==ui)return!1;if(!gn)return qt(c),gn=!0,!1;var f=!1;if(Fi?c.tag!==3&&c.tag!==27&&(c.tag!==5||fm(c.type)&&!Ki(c.type,c.memoizedProps))&&(f=!0):c.tag!==3&&(c.tag!==5||fm(c.type)&&!Ki(c.type,c.memoizedProps))&&(f=!0),f&&Nn&&kt(c),qt(c),c.tag===13){if(!Bs)throw Error(s(316));if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));Nn=Nv(c)}else Nn=ui?Yo(c.stateNode):null;return!0}function Ot(){Bs&&(Nn=ui=null,gn=!1)}function Rt(c){ba===null?ba=[c]:ba.push(c)}function Y(){for(var c=$r,f=Ka=$r=0;f<c;){var y=Is[f];Is[f++]=null;var b=Is[f];Is[f++]=null;var w=Is[f];Is[f++]=null;var N=Is[f];if(Is[f++]=null,b!==null&&w!==null){var k=b.pending;k===null?w.next=w:(w.next=k.next,k.next=w),b.pending=w}N!==0&&Kt(y,w,N)}}function ue(c,f,y,b){Is[$r++]=c,Is[$r++]=f,Is[$r++]=y,Is[$r++]=b,Ka|=b,c.lanes|=b,c=c.alternate,c!==null&&(c.lanes|=b)}function Ht(c,f,y,b){return ue(c,f,y,b),Se(c)}function $t(c,f){return ue(c,null,null,f),Se(c)}function Kt(c,f,y){c.lanes|=y;var b=c.alternate;b!==null&&(b.lanes|=y);for(var w=!1,N=c.return;N!==null;)N.childLanes|=y,b=N.alternate,b!==null&&(b.childLanes|=y),N.tag===22&&(c=N.stateNode,c===null||c._visibility&1||(w=!0)),c=N,N=N.return;w&&f!==null&&c.tag===3&&(N=c.stateNode,w=31-li(y),N=N.hiddenUpdates,c=N[w],c===null?N[w]=[f]:c.push(f),f.lane=y|536870912)}function Se(c){if(50<ql)throw ql=0,Am=null,Error(s(185));for(var f=c.return;f!==null;)c=f,f=c.return;return c.tag===3?c.stateNode:null}function Qt(c){c!==Qo&&c.next===null&&(Qo===null?Xn=Qo=c:Qo=Qo.next=c),fi=!0,td||(td=!0,Dt(F))}function q(c,f){if(!ed&&fi){ed=!0;do for(var y=!1,b=Xn;b!==null;){if(c!==0){var w=b.pendingLanes;if(w===0)var N=0;else{var k=b.suspendedLanes,et=b.pingedLanes;N=(1<<31-li(42|c)+1)-1,N&=w&~(k&~et),N=N&201326677?N&201326677|1:N?N|2:0}N!==0&&(y=!0,Ft(b,N))}else N=rn,N=z(b,b===Un?N:0),!(N&3)||B(b,N)||(y=!0,Ft(b,N));b=b.next}while(y);ed=!1}}function F(){fi=td=!1;var c=0;jc!==0&&(iv()&&(c=jc),jc=0);for(var f=na(),y=null,b=Xn;b!==null;){var w=b.next,N=vt(b,f);N===0?(b.next=null,y===null?Xn=w:y.next=w,w===null&&(Qo=y)):(y=b,(c!==0||N&3)&&(fi=!0)),b=w}q(c)}function vt(c,f){for(var y=c.suspendedLanes,b=c.pingedLanes,w=c.expirationTimes,N=c.pendingLanes&-62914561;0<N;){var k=31-li(N),et=1<<k,mt=w[k];mt===-1?(!(et&y)||et&b)&&(w[k]=I(et,f)):mt<=f&&(c.expiredLanes|=et),N&=~et}if(f=Un,y=rn,y=z(c,c===f?y:0),b=c.callbackNode,y===0||c===f&&Rn===2||c.cancelPendingCommit!==null)return b!==null&&b!==null&&Ya(b),c.callbackNode=null,c.callbackPriority=0;if(!(y&3)||B(c,y)){if(f=y&-y,f===c.callbackPriority)return f;switch(b!==null&&Ya(b),lt(y)){case 2:case 8:y=ff;break;case 32:y=Hc;break;case 268435456:y=Fl;break;default:y=Hc}return b=wt.bind(null,c),y=pr(y,b),c.callbackPriority=f,c.callbackNode=y,f}return b!==null&&b!==null&&Ya(b),c.callbackPriority=2,c.callbackNode=null,2}function wt(c,f){var y=c.callbackNode;if(zo()&&c.callbackNode!==y)return null;var b=rn;return b=z(c,c===Un?b:0),b===0?null:(Js(c,b,f),vt(c,na()),c.callbackNode!=null&&c.callbackNode===y?wt.bind(null,c):null)}function Ft(c,f){if(zo())return null;Js(c,f,!0)}function Dt(c){ov?lv(function(){an&6?pr(Qh,c):c()}):pr(Qh,c)}function ce(){return jc===0&&(jc=V()),jc}function ee(c,f){if(Xc===null){var y=Xc=[];nd=0,qn=ce(),Hi={status:"pending",value:void 0,then:function(b){y.push(b)}}}return nd++,f.then(fe,fe),f}function fe(){if(--nd===0&&Xc!==null){Hi!==null&&(Hi.status="fulfilled");var c=Xc;Xc=null,qn=0,Hi=null;for(var f=0;f<c.length;f++)(0,c[f])()}}function We(c,f){var y=[],b={status:"pending",value:null,reason:null,then:function(w){y.push(w)}};return c.then(function(){b.status="fulfilled",b.value=f;for(var w=0;w<y.length;w++)(0,y[w])(f)},function(w){for(b.status="rejected",b.reason=w,w=0;w<y.length;w++)(0,y[w])(void 0)}),b}function Wt(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pe(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function xe(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function ve(c,f,y){var b=c.updateQueue;if(b===null)return null;if(b=b.shared,an&2){var w=b.pending;return w===null?f.next=f:(f.next=w.next,w.next=f),b.pending=f,f=Se(c),Kt(c,null,y),f}return ue(c,b,f,y),Se(c)}function he(c,f,y){if(f=f.updateQueue,f!==null&&(f=f.shared,(y&4194176)!==0)){var b=f.lanes;b&=c.pendingLanes,y|=b,f.lanes=y,K(c,y)}}function Fe(c,f){var y=c.updateQueue,b=c.alternate;if(b!==null&&(b=b.updateQueue,y===b)){var w=null,N=null;if(y=y.firstBaseUpdate,y!==null){do{var k={lane:y.lane,tag:y.tag,payload:y.payload,callback:null,next:null};N===null?w=N=k:N=N.next=k,y=y.next}while(y!==null);N===null?w=N=f:N=N.next=f}else w=N=f;y={baseState:b.baseState,firstBaseUpdate:w,lastBaseUpdate:N,shared:b.shared,callbacks:b.callbacks},c.updateQueue=y;return}c=y.lastBaseUpdate,c===null?y.firstBaseUpdate=f:c.next=f,y.lastBaseUpdate=f}function Me(){if(id){var c=Hi;if(c!==null)throw c}}function xn(c,f,y,b){id=!1;var w=c.updateQueue;ls=!1;var N=w.firstBaseUpdate,k=w.lastBaseUpdate,et=w.shared.pending;if(et!==null){w.shared.pending=null;var mt=et,Nt=mt.next;mt.next=null,k===null?N=Nt:k.next=Nt,k=mt;var Zt=c.alternate;Zt!==null&&(Zt=Zt.updateQueue,et=Zt.lastBaseUpdate,et!==k&&(et===null?Zt.firstBaseUpdate=Nt:et.next=Nt,Zt.lastBaseUpdate=mt))}if(N!==null){var re=w.baseState;k=0,Zt=Nt=mt=null,et=N;do{var Yt=et.lane&-536870913,ke=Yt!==et.lane;if(ke?(rn&Yt)===Yt:(b&Yt)===Yt){Yt!==0&&Yt===qn&&(id=!0),Zt!==null&&(Zt=Zt.next={lane:0,tag:et.tag,payload:et.payload,callback:null,next:null});t:{var Da=c,Qc=et;Yt=f;var Yl=y;switch(Qc.tag){case 1:if(Da=Qc.payload,typeof Da=="function"){re=Da.call(Yl,re,Yt);break t}re=Da;break t;case 3:Da.flags=Da.flags&-65537|128;case 0:if(Da=Qc.payload,Yt=typeof Da=="function"?Da.call(Yl,re,Yt):Da,Yt==null)break t;re=ri({},re,Yt);break t;case 2:ls=!0}}Yt=et.callback,Yt!==null&&(c.flags|=64,ke&&(c.flags|=8192),ke=w.callbacks,ke===null?w.callbacks=[Yt]:ke.push(Yt))}else ke={lane:Yt,tag:et.tag,payload:et.payload,callback:et.callback,next:null},Zt===null?(Nt=Zt=ke,mt=re):Zt=Zt.next=ke,k|=Yt;if(et=et.next,et===null){if(et=w.shared.pending,et===null)break;ke=et,et=ke.next,ke.next=null,w.lastBaseUpdate=ke,w.shared.pending=null}}while(!0);Zt===null&&(mt=re),w.baseState=mt,w.firstBaseUpdate=Nt,w.lastBaseUpdate=Zt,N===null&&(w.shared.lanes=0),Ca|=k,c.lanes=k,c.memoizedState=re}}function ct(c,f){if(typeof c!="function")throw Error(s(191,c));c.call(f)}function ie(c,f){var y=c.callbacks;if(y!==null)for(c.callbacks=null,c=0;c<y.length;c++)ct(y[c],f)}function Tt(c,f){if(bs(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var y=Object.keys(c),b=Object.keys(f);if(y.length!==b.length)return!1;for(b=0;b<y.length;b++){var w=y[b];if(!Iv.call(f,w)||!bs(c[w],f[w]))return!1}return!0}function Pt(c){return c=c.status,c==="fulfilled"||c==="rejected"}function te(){}function ne(c,f,y){switch(y=c[y],y===void 0?c.push(f):y!==f&&(f.then(te,te),f=y),f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,c===pf?Error(s(483)):c;default:if(typeof f.status=="string")f.then(te,te);else{if(c=Un,c!==null&&100<c.shellSuspendCounter)throw Error(s(482));c=f,c.status="pending",c.then(function(b){if(f.status==="pending"){var w=f;w.status="fulfilled",w.value=b}},function(b){if(f.status==="pending"){var w=f;w.status="rejected",w.reason=b}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,c===pf?Error(s(483)):c}throw cs=f,pf}}function Ne(){if(cs===null)throw Error(s(459));var c=cs;return cs=null,c}function Pn(c){var f=us;return us+=1,Hl===null&&(Hl=[]),ne(Hl,c,f)}function Jn(c,f){f=f.props.ref,c.ref=f!==void 0?f:null}function hn(c,f){throw f.$$typeof===Kp?Error(s(525)):(c=Object.prototype.toString.call(f),Error(s(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c)))}function ts(c){var f=c._init;return f(c._payload)}function es(c){function f(St,ht){if(c){var Mt=St.deletions;Mt===null?(St.deletions=[ht],St.flags|=16):Mt.push(ht)}}function y(St,ht){if(!c)return null;for(;ht!==null;)f(St,ht),ht=ht.sibling;return null}function b(St){for(var ht=new Map;St!==null;)St.key!==null?ht.set(St.key,St):ht.set(St.index,St),St=St.sibling;return ht}function w(St,ht){return St=Gr(St,ht),St.index=0,St.sibling=null,St}function N(St,ht,Mt){return St.index=Mt,c?(Mt=St.alternate,Mt!==null?(Mt=Mt.index,Mt<ht?(St.flags|=33554434,ht):Mt):(St.flags|=33554434,ht)):(St.flags|=1048576,ht)}function k(St){return c&&St.alternate===null&&(St.flags|=33554434),St}function et(St,ht,Mt,Xt){return ht===null||ht.tag!==6?(ht=af(Mt,St.mode,Xt),ht.return=St,ht):(ht=w(ht,Mt),ht.return=St,ht)}function mt(St,ht,Mt,Xt){var Te=Mt.type;return Te===Fo?Zt(St,ht,Mt.props.children,Xt,Mt.key):ht!==null&&(ht.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===qr&&ts(Te)===ht.type)?(ht=w(ht,Mt.props),Jn(ht,Mt),ht.return=St,ht):(ht=Ll(Mt.type,Mt.key,Mt.props,null,St.mode,Xt),Jn(ht,Mt),ht.return=St,ht)}function Nt(St,ht,Mt,Xt){return ht===null||ht.tag!==4||ht.stateNode.containerInfo!==Mt.containerInfo||ht.stateNode.implementation!==Mt.implementation?(ht=zs(Mt,St.mode,Xt),ht.return=St,ht):(ht=w(ht,Mt.children||[]),ht.return=St,ht)}function Zt(St,ht,Mt,Xt,Te){return ht===null||ht.tag!==7?(ht=Vo(Mt,St.mode,Xt,Te),ht.return=St,ht):(ht=w(ht,Mt),ht.return=St,ht)}function re(St,ht,Mt){if(typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint")return ht=af(""+ht,St.mode,Mt),ht.return=St,ht;if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case Io:return Mt=Ll(ht.type,ht.key,ht.props,null,St.mode,Mt),Jn(Mt,ht),Mt.return=St,Mt;case fr:return ht=zs(ht,St.mode,Mt),ht.return=St,ht;case qr:var Xt=ht._init;return ht=Xt(ht._payload),re(St,ht,Mt)}if(Xo(ht)||r(ht))return ht=Vo(ht,St.mode,Mt,null),ht.return=St,ht;if(typeof ht.then=="function")return re(St,Pn(ht),Mt);if(ht.$$typeof===Go)return re(St,Gu(St,ht),Mt);hn(St,ht)}return null}function Yt(St,ht,Mt,Xt){var Te=ht!==null?ht.key:null;if(typeof Mt=="string"&&Mt!==""||typeof Mt=="number"||typeof Mt=="bigint")return Te!==null?null:et(St,ht,""+Mt,Xt);if(typeof Mt=="object"&&Mt!==null){switch(Mt.$$typeof){case Io:return Mt.key===Te?mt(St,ht,Mt,Xt):null;case fr:return Mt.key===Te?Nt(St,ht,Mt,Xt):null;case qr:return Te=Mt._init,Mt=Te(Mt._payload),Yt(St,ht,Mt,Xt)}if(Xo(Mt)||r(Mt))return Te!==null?null:Zt(St,ht,Mt,Xt,null);if(typeof Mt.then=="function")return Yt(St,ht,Pn(Mt),Xt);if(Mt.$$typeof===Go)return Yt(St,ht,Gu(St,Mt),Xt);hn(St,Mt)}return null}function ke(St,ht,Mt,Xt,Te){if(typeof Xt=="string"&&Xt!==""||typeof Xt=="number"||typeof Xt=="bigint")return St=St.get(Mt)||null,et(ht,St,""+Xt,Te);if(typeof Xt=="object"&&Xt!==null){switch(Xt.$$typeof){case Io:return St=St.get(Xt.key===null?Mt:Xt.key)||null,mt(ht,St,Xt,Te);case fr:return St=St.get(Xt.key===null?Mt:Xt.key)||null,Nt(ht,St,Xt,Te);case qr:var On=Xt._init;return Xt=On(Xt._payload),ke(St,ht,Mt,Xt,Te)}if(Xo(Xt)||r(Xt))return St=St.get(Mt)||null,Zt(ht,St,Xt,Te,null);if(typeof Xt.then=="function")return ke(St,ht,Mt,Pn(Xt),Te);if(Xt.$$typeof===Go)return ke(St,ht,Mt,Gu(ht,Xt),Te);hn(ht,Xt)}return null}function Da(St,ht,Mt,Xt){for(var Te=null,On=null,De=ht,nn=ht=0,Bn=null;De!==null&&nn<Mt.length;nn++){De.index>nn?(Bn=De,De=null):Bn=De.sibling;var un=Yt(St,De,Mt[nn],Xt);if(un===null){De===null&&(De=Bn);break}c&&De&&un.alternate===null&&f(St,De),ht=N(un,ht,nn),On===null?Te=un:On.sibling=un,On=un,De=Bn}if(nn===Mt.length)return y(St,De),gn&&j(St,nn),Te;if(De===null){for(;nn<Mt.length;nn++)De=re(St,Mt[nn],Xt),De!==null&&(ht=N(De,ht,nn),On===null?Te=De:On.sibling=De,On=De);return gn&&j(St,nn),Te}for(De=b(De);nn<Mt.length;nn++)Bn=ke(De,St,nn,Mt[nn],Xt),Bn!==null&&(c&&Bn.alternate!==null&&De.delete(Bn.key===null?nn:Bn.key),ht=N(Bn,ht,nn),On===null?Te=Bn:On.sibling=Bn,On=Bn);return c&&De.forEach(function(rl){return f(St,rl)}),gn&&j(St,nn),Te}function Qc(St,ht,Mt,Xt){if(Mt==null)throw Error(s(151));for(var Te=null,On=null,De=ht,nn=ht=0,Bn=null,un=Mt.next();De!==null&&!un.done;nn++,un=Mt.next()){De.index>nn?(Bn=De,De=null):Bn=De.sibling;var rl=Yt(St,De,un.value,Xt);if(rl===null){De===null&&(De=Bn);break}c&&De&&rl.alternate===null&&f(St,De),ht=N(rl,ht,nn),On===null?Te=rl:On.sibling=rl,On=rl,De=Bn}if(un.done)return y(St,De),gn&&j(St,nn),Te;if(De===null){for(;!un.done;nn++,un=Mt.next())un=re(St,un.value,Xt),un!==null&&(ht=N(un,ht,nn),On===null?Te=un:On.sibling=un,On=un);return gn&&j(St,nn),Te}for(De=b(De);!un.done;nn++,un=Mt.next())un=ke(De,St,nn,un.value,Xt),un!==null&&(c&&un.alternate!==null&&De.delete(un.key===null?nn:un.key),ht=N(un,ht,nn),On===null?Te=un:On.sibling=un,On=un);return c&&De.forEach(function(Hv){return f(St,Hv)}),gn&&j(St,nn),Te}function Yl(St,ht,Mt,Xt){if(typeof Mt=="object"&&Mt!==null&&Mt.type===Fo&&Mt.key===null&&(Mt=Mt.props.children),typeof Mt=="object"&&Mt!==null){switch(Mt.$$typeof){case Io:t:{for(var Te=Mt.key;ht!==null;){if(ht.key===Te){if(Te=Mt.type,Te===Fo){if(ht.tag===7){y(St,ht.sibling),Xt=w(ht,Mt.props.children),Xt.return=St,St=Xt;break t}}else if(ht.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===qr&&ts(Te)===ht.type){y(St,ht.sibling),Xt=w(ht,Mt.props),Jn(Xt,Mt),Xt.return=St,St=Xt;break t}y(St,ht);break}else f(St,ht);ht=ht.sibling}Mt.type===Fo?(Xt=Vo(Mt.props.children,St.mode,Xt,Mt.key),Xt.return=St,St=Xt):(Xt=Ll(Mt.type,Mt.key,Mt.props,null,St.mode,Xt),Jn(Xt,Mt),Xt.return=St,St=Xt)}return k(St);case fr:t:{for(Te=Mt.key;ht!==null;){if(ht.key===Te)if(ht.tag===4&&ht.stateNode.containerInfo===Mt.containerInfo&&ht.stateNode.implementation===Mt.implementation){y(St,ht.sibling),Xt=w(ht,Mt.children||[]),Xt.return=St,St=Xt;break t}else{y(St,ht);break}else f(St,ht);ht=ht.sibling}Xt=zs(Mt,St.mode,Xt),Xt.return=St,St=Xt}return k(St);case qr:return Te=Mt._init,Mt=Te(Mt._payload),Yl(St,ht,Mt,Xt)}if(Xo(Mt))return Da(St,ht,Mt,Xt);if(r(Mt)){if(Te=r(Mt),typeof Te!="function")throw Error(s(150));return Mt=Te.call(Mt),Qc(St,ht,Mt,Xt)}if(typeof Mt.then=="function")return Yl(St,ht,Pn(Mt),Xt);if(Mt.$$typeof===Go)return Yl(St,ht,Gu(St,Mt),Xt);hn(St,Mt)}return typeof Mt=="string"&&Mt!==""||typeof Mt=="number"||typeof Mt=="bigint"?(Mt=""+Mt,ht!==null&&ht.tag===6?(y(St,ht.sibling),Xt=w(ht,Mt),Xt.return=St,St=Xt):(y(St,ht),Xt=af(Mt,St.mode,Xt),Xt.return=St,St=Xt),k(St)):y(St,ht)}return function(St,ht,Mt,Xt){try{us=0;var Te=Yl(St,ht,Mt,Xt);return Hl=null,Te}catch(De){if(De===pf)throw De;var On=e(29,De,null,St.mode);return On.lanes=Xt,On.return=St,On}finally{}}}function Du(c,f){c=tr,R($a,c),R(Qa,f),tr=c|f.baseLanes}function _l(){R($a,tr),R(Qa,Qa.current)}function ga(){tr=$a.current,M(Qa),M($a)}function Qs(c){var f=c.alternate;R(Gn,Gn.current&1),R(Fs,c),Ma===null&&(f===null||Qa.current!==null||f.memoizedState!==null)&&(Ma=c)}function gc(c){if(c.tag===22){if(R(Gn,Gn.current),R(Fs,c),Ma===null){var f=c.alternate;f!==null&&f.memoizedState!==null&&(Ma=c)}}else Fa()}function Fa(){R(Gn,Gn.current),R(Fs,Fs.current)}function ai(c){M(Fs),Ma===c&&(Ma=null),M(Gn)}function ei(c){for(var f=c;f!==null;){if(f.tag===13){var y=f.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||zl(y)||cf(y)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}function Ze(){throw Error(s(321))}function Ha(c,f){if(f===null)return!1;for(var y=0;y<f.length&&y<c.length;y++)if(!bs(c[y],f[y]))return!1;return!0}function To(c,f,y,b,w,N){return Jr=N,He=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Oe.H=c===null||c.memoizedState===null?no:Ts,Jo=!1,N=y(b,w),Jo=!1,Gl&&(N=ph(f,y,b,w)),dh(c),N}function dh(c){Oe.H=hi;var f=_n!==null&&_n.next!==null;if(Jr=0,Kn=_n=He=null,to=!1,qc=0,eo=null,f)throw Error(s(300));c===null||Mi||(c=c.dependencies,c!==null&&Hu(c)&&(Mi=!0))}function ph(c,f,y,b){He=c;var w=0;do{if(Gl&&(eo=null),qc=0,Gl=!1,25<=w)throw Error(s(301));if(w+=1,Kn=_n=null,c.updateQueue!=null){var N=c.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}Oe.H=el,N=f(y,b)}while(Gl);return N}function mh(){var c=Oe.H,f=c.useState()[0];return f=typeof f.then=="function"?xt(f):f,c=c.useState()[0],(_n!==null?_n.memoizedState:null)!==c&&(He.flags|=1024),f}function Rr(){var c=tl!==0;return tl=0,c}function Sl(c,f,y){f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~y}function Ga(c){if(to){for(c=c.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}to=!1}Jr=0,Kn=_n=He=null,Gl=!1,qc=tl=0,eo=null}function H(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kn===null?He.memoizedState=Kn=c:Kn=Kn.next=c,Kn}function rt(){if(_n===null){var c=He.alternate;c=c!==null?c.memoizedState:null}else c=_n.next;var f=Kn===null?He.memoizedState:Kn.next;if(f!==null)Kn=f,_n=c;else{if(c===null)throw He.alternate===null?Error(s(467)):Error(s(310));_n=c,c={memoizedState:_n.memoizedState,baseState:_n.baseState,baseQueue:_n.baseQueue,queue:_n.queue,next:null},Kn===null?He.memoizedState=Kn=c:Kn=Kn.next=c}return Kn}function xt(c){var f=qc;return qc+=1,eo===null&&(eo=[]),c=ne(eo,c,f),f=He,(Kn===null?f.memoizedState:Kn.next)===null&&(f=f.alternate,Oe.H=f===null||f.memoizedState===null?no:Ts),c}function gt(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return xt(c);if(c.$$typeof===Go)return Wi(c)}throw Error(s(438,String(c)))}function ft(c){var f=null,y=He.updateQueue;if(y!==null&&(f=y.memoCache),f==null){var b=He.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(f={data:b.data.map(function(w){return w.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),y===null&&(y=bm(),He.updateQueue=y),y.memoCache=f,y=f.data[f.index],y===void 0)for(y=f.data[f.index]=Array(c),b=0;b<c;b++)y[b]=Ke;return f.index++,y}function Gt(c,f){return typeof f=="function"?f(c):f}function Jt(c){var f=rt();return ae(f,_n,c)}function ae(c,f,y){var b=c.queue;if(b===null)throw Error(s(311));b.lastRenderedReducer=y;var w=c.baseQueue,N=b.pending;if(N!==null){if(w!==null){var k=w.next;w.next=N.next,N.next=k}f.baseQueue=w=N,b.pending=null}if(N=c.baseState,w===null)c.memoizedState=N;else{f=w.next;var et=k=null,mt=null,Nt=f,Zt=!1;do{var re=Nt.lane&-536870913;if(re!==Nt.lane?(rn&re)===re:(Jr&re)===re){var Yt=Nt.revertLane;if(Yt===0)mt!==null&&(mt=mt.next={lane:0,revertLane:0,action:Nt.action,hasEagerState:Nt.hasEagerState,eagerState:Nt.eagerState,next:null}),re===qn&&(Zt=!0);else if((Jr&Yt)===Yt){Nt=Nt.next,Yt===qn&&(Zt=!0);continue}else re={lane:0,revertLane:Nt.revertLane,action:Nt.action,hasEagerState:Nt.hasEagerState,eagerState:Nt.eagerState,next:null},mt===null?(et=mt=re,k=N):mt=mt.next=re,He.lanes|=Yt,Ca|=Yt;re=Nt.action,Jo&&y(N,re),N=Nt.hasEagerState?Nt.eagerState:y(N,re)}else Yt={lane:re,revertLane:Nt.revertLane,action:Nt.action,hasEagerState:Nt.hasEagerState,eagerState:Nt.eagerState,next:null},mt===null?(et=mt=Yt,k=N):mt=mt.next=Yt,He.lanes|=re,Ca|=re;Nt=Nt.next}while(Nt!==null&&Nt!==f);if(mt===null?k=N:mt.next=et,!bs(N,c.memoizedState)&&(Mi=!0,Zt&&(y=Hi,y!==null)))throw y;c.memoizedState=N,c.baseState=k,c.baseQueue=mt,b.lastRenderedState=N}return w===null&&(b.lanes=0),[c.memoizedState,b.dispatch]}function se(c){var f=rt(),y=f.queue;if(y===null)throw Error(s(311));y.lastRenderedReducer=c;var b=y.dispatch,w=y.pending,N=f.memoizedState;if(w!==null){y.pending=null;var k=w=w.next;do N=c(N,k.action),k=k.next;while(k!==w);bs(N,f.memoizedState)||(Mi=!0),f.memoizedState=N,f.baseQueue===null&&(f.baseState=N),y.lastRenderedState=N}return[N,b]}function Le(c,f,y){var b=He,w=rt(),N=gn;if(N){if(y===void 0)throw Error(s(407));y=y()}else y=f();var k=!bs((_n||w).memoizedState,y);if(k&&(w.memoizedState=y,Mi=!0),w=w.queue,Lu(on.bind(null,b,w,c),[c]),w.getSnapshot!==f||k||Kn!==null&&Kn.memoizedState.tag&1){if(b.flags|=2048,ka(9,Ae.bind(null,b,w,y,f),{destroy:void 0},null),Un===null)throw Error(s(349));N||Jr&60||Ue(b,f,y)}return y}function Ue(c,f,y){c.flags|=16384,c={getSnapshot:f,value:y},f=He.updateQueue,f===null?(f=bm(),He.updateQueue=f,f.stores=[c]):(y=f.stores,y===null?f.stores=[c]:y.push(c))}function Ae(c,f,y,b){f.value=y,f.getSnapshot=b,ln(f)&&Fn(c)}function on(c,f,y){return y(function(){ln(f)&&Fn(c)})}function ln(c){var f=c.getSnapshot;c=c.value;try{var y=f();return!bs(c,y)}catch{return!0}}function Fn(c){var f=$t(c,2);f!==null&&Hn(f,c,2)}function dn(c){var f=H();if(typeof c=="function"){var y=c;if(c=y(),Jo){tt(!0);try{y()}finally{tt(!1)}}}return f.memoizedState=f.baseState=c,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gt,lastRenderedState:c},f}function Be(c,f,y,b){return c.baseState=y,ae(c,_n,typeof b=="function"?b:Gt)}function we(c,f,y,b,w){if(zu(c))throw Error(s(485));if(c=f.action,c!==null){var N={payload:w,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){N.listeners.push(k)}};Oe.T!==null?y(!0):N.isTransition=!1,b(N),y=f.pending,y===null?(N.next=f.pending=N,yi(f,N)):(N.next=y.next,f.pending=y.next=N)}}function yi(c,f){var y=f.action,b=f.payload,w=c.state;if(f.isTransition){var N=Oe.T,k={};Oe.T=k;try{var et=y(w,b),mt=Oe.S;mt!==null&&mt(k,et),cn(c,f,et)}catch(Nt){$s(c,f,Nt)}finally{Oe.T=N}}else try{N=y(w,b),cn(c,f,N)}catch(Nt){$s(c,f,Nt)}}function cn(c,f,y){y!==null&&typeof y=="object"&&typeof y.then=="function"?y.then(function(b){vs(c,f,b)},function(b){return $s(c,f,b)}):vs(c,f,y)}function vs(c,f,y){f.status="fulfilled",f.value=y,ns(f),c.state=y,f=c.pending,f!==null&&(y=f.next,y===f?c.pending=null:(y=y.next,f.next=y,yi(c,y)))}function $s(c,f,y){var b=c.pending;if(c.pending=null,b!==null){b=b.next;do f.status="rejected",f.reason=y,ns(f),f=f.next;while(f!==b)}c.action=null}function ns(c){c=c.listeners;for(var f=0;f<c.length;f++)(0,c[f])()}function Li(c,f){return f}function wn(c,f){if(gn){var y=Un.formState;if(y!==null){t:{var b=He;if(gn){if(Nn){var w=wv(Nn,Za);if(w){Nn=Yo(w),b=dr(w);break t}}kt(b)}b=!1}b&&(f=y[0])}}y=H(),y.memoizedState=y.baseState=f,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:f},y.queue=b,y=Rp.bind(null,He,b),b.dispatch=y,b=dn(!1);var N=xc.bind(null,He,!1,b.queue);return b=H(),w={state:f,dispatch:null,action:c,pending:null},b.queue=w,y=we.bind(null,He,w,N,y),w.dispatch=y,b.memoizedState=c,[f,y,!1]}function is(c){var f=rt();return qi(f,_n,c)}function qi(c,f,y){f=ae(c,f,Li)[0],c=Jt(Gt)[0],f=typeof f=="object"&&f!==null&&typeof f.then=="function"?xt(f):f;var b=rt(),w=b.queue,N=w.dispatch;return y!==b.memoizedState&&(He.flags|=2048,ka(9,ni.bind(null,w,y),{destroy:void 0},null)),[f,N,c]}function ni(c,f){c.action=f}function Vi(c){var f=rt(),y=_n;if(y!==null)return qi(f,y,c);rt(),f=f.memoizedState,y=rt();var b=y.queue.dispatch;return y.memoizedState=c,[f,b,!1]}function ka(c,f,y,b){return c={tag:c,create:f,inst:y,deps:b,next:null},f=He.updateQueue,f===null&&(f=bm(),He.updateQueue=f),y=f.lastEffect,y===null?f.lastEffect=c.next=c:(b=y.next,y.next=c,c.next=b,f.lastEffect=c),c}function ys(){return rt().memoizedState}function gh(c,f,y,b){var w=H();He.flags|=c,w.memoizedState=ka(1|f,y,{destroy:void 0},b===void 0?null:b)}function Nu(c,f,y,b){var w=rt();b=b===void 0?null:b;var N=w.memoizedState.inst;_n!==null&&b!==null&&Ha(b,_n.memoizedState.deps)?w.memoizedState=ka(f,y,N,b):(He.flags|=c,w.memoizedState=ka(1|f,y,N,b))}function Ap(c,f){gh(8390656,8,c,f)}function Lu(c,f){Nu(2048,8,c,f)}function R0(c,f){return Nu(4,2,c,f)}function D0(c,f){return Nu(4,4,c,f)}function Uu(c,f){if(typeof f=="function"){c=c();var y=f(c);return function(){typeof y=="function"?y():f(null)}}if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function vh(c,f,y){y=y!=null?y.concat([c]):null,Nu(4,4,Uu.bind(null,f,c),y)}function Ou(){}function bl(c,f){var y=rt();f=f===void 0?null:f;var b=y.memoizedState;return f!==null&&Ha(f,b[1])?b[0]:(y.memoizedState=[c,f],c)}function Ml(c,f){var y=rt();f=f===void 0?null:f;var b=y.memoizedState;if(f!==null&&Ha(f,b[1]))return b[0];if(b=c(),Jo){tt(!0);try{c()}finally{tt(!1)}}return y.memoizedState=[b,f],b}function yh(c,f,y){return y===void 0||Jr&1073741824?c.memoizedState=f:(c.memoizedState=y,c=Qu(),He.lanes|=c,Ca|=c,y)}function xh(c,f,y,b){return bs(y,f)?y:Qa.current!==null?(c=yh(c,y,b),bs(c,f)||(Mi=!0),c):Jr&42?(c=Qu(),He.lanes|=c,Ca|=c,f):(Mi=!0,c.memoizedState=y)}function wp(c,f,y,b,w){var N=qo();Ss(N!==0&&8>N?N:8);var k=Oe.T,et={};Oe.T=et,xc(c,!1,f,y);try{var mt=w(),Nt=Oe.S;if(Nt!==null&&Nt(et,mt),mt!==null&&typeof mt=="object"&&typeof mt.then=="function"){var Zt=We(mt,b);Eo(c,f,Zt,ss(c))}else Eo(c,f,b,ss(c))}catch(re){Eo(c,f,{then:function(){},status:"rejected",reason:re},ss())}finally{Ss(N),Oe.T=k}}function vc(c){var f=c.memoizedState;if(f!==null)return f;f={memoizedState:Pl,baseState:Pl,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gt,lastRenderedState:Pl},next:null};var y={};return f.next={memoizedState:y,baseState:y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gt,lastRenderedState:y},next:null},c.memoizedState=f,c=c.alternate,c!==null&&(c.memoizedState=f),f}function Pu(){return Wi(Wr)}function yc(){return rt().memoizedState}function Dr(){return rt().memoizedState}function Cp(c){for(var f=c.return;f!==null;){switch(f.tag){case 24:case 3:var y=ss();c=xe(y);var b=ve(f,c,y);b!==null&&(Hn(b,f,y),he(b,f,y)),f={cache:Ro()},c.payload=f;return}f=f.return}}function _h(c,f,y){var b=ss();y={lane:b,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null},zu(c)?xs(f,y):(y=Ht(c,f,y,b),y!==null&&(Hn(y,c,b),Ao(y,f,b)))}function Rp(c,f,y){var b=ss();Eo(c,f,y,b)}function Eo(c,f,y,b){var w={lane:b,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null};if(zu(c))xs(f,w);else{var N=c.alternate;if(c.lanes===0&&(N===null||N.lanes===0)&&(N=f.lastRenderedReducer,N!==null))try{var k=f.lastRenderedState,et=N(k,y);if(w.hasEagerState=!0,w.eagerState=et,bs(et,k))return ue(c,f,w,0),Un===null&&Y(),!1}catch{}finally{}if(y=Ht(c,f,w,b),y!==null)return Hn(y,c,b),Ao(y,f,b),!0}return!1}function xc(c,f,y,b){if(b={lane:2,revertLane:ce(),action:b,hasEagerState:!1,eagerState:null,next:null},zu(c)){if(f)throw Error(s(479))}else f=Ht(c,y,b,2),f!==null&&Hn(f,c,2)}function zu(c){var f=c.alternate;return c===He||f!==null&&f===He}function xs(c,f){Gl=to=!0;var y=c.pending;y===null?f.next=f:(f.next=y.next,y.next=f),c.pending=f}function Ao(c,f,y){if(y&4194176){var b=f.lanes;b&=c.pendingLanes,y|=b,f.lanes=y,K(c,y)}}function _c(c,f,y,b){f=c.memoizedState,y=y(b,f),y=y==null?f:ri({},f,y),c.memoizedState=y,c.lanes===0&&(c.updateQueue.baseState=y)}function Sc(c,f,y,b,w,N,k){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(b,N,k):f.prototype&&f.prototype.isPureReactComponent?!Tt(y,b)||!Tt(w,N):!0}function N0(c,f,y,b){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(y,b),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(y,b),f.state!==c&&Yc.enqueueReplaceState(f,f.state,null)}function Nr(c,f){var y=f;if("ref"in f){y={};for(var b in f)b!=="ref"&&(y[b]=f[b])}if(c=c.defaultProps){y===f&&(y=ri({},y));for(var w in c)y[w]===void 0&&(y[w]=c[w])}return y}function bc(c,f){try{var y=c.onUncaughtError;y(f.value,{componentStack:f.stack})}catch(b){setTimeout(function(){throw b})}}function Mc(c,f,y){try{var b=c.onCaughtError;b(y.value,{componentStack:y.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function Tc(c,f,y){return y=xe(y),y.tag=3,y.payload={element:null},y.callback=function(){bc(c,f)},y}function Dp(c){return c=xe(c),c.tag=3,c}function L0(c,f,y,b){var w=y.type.getDerivedStateFromError;if(typeof w=="function"){var N=b.value;c.payload=function(){return w(N)},c.callback=function(){Mc(f,y,b)}}var k=y.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(c.callback=function(){Mc(f,y,b),typeof w!="function"&&(_r===null?_r=new Set([this]):_r.add(this));var et=b.stack;this.componentDidCatch(b.value,{componentStack:et!==null?et:""})})}function vS(c,f,y,b,w){if(y.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(f=y.alternate,f!==null&&Fu(f,y,w,!0),y=Fs.current,y!==null){switch(y.tag){case 13:return Ma===null?_a():y.alternate===null&&Qn===0&&(Qn=3),y.flags&=-257,y.flags|=65536,y.lanes=w,b===Ms?y.flags|=16384:(f=y.updateQueue,f===null?y.updateQueue=new Set([b]):f.add(b),Bo(c,b,w)),!1;case 22:return y.flags|=65536,b===Ms?y.flags|=16384:(f=y.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([b])},y.updateQueue=f):(y=f.retryQueue,y===null?f.retryQueue=new Set([b]):y.add(b)),Bo(c,b,w)),!1}throw Error(s(435,y.tag))}return Bo(c,b,w),_a(),!1}if(gn)return f=Fs.current,f!==null?(!(f.flags&65536)&&(f.flags|=256),f.flags|=65536,f.lanes=w,b!==df&&(c=Error(s(422),{cause:b}),Rt(_t(c,y)))):(b!==df&&(f=Error(s(423),{cause:b}),Rt(_t(f,y))),c=c.current.alternate,c.flags|=65536,w&=-w,c.lanes|=w,b=_t(b,y),w=Tc(c.stateNode,b,w),Fe(c,w),Qn!==4&&(Qn=2)),!1;var N=Error(s(520),{cause:b});if(N=_t(N,y),Zc===null?Zc=[N]:Zc.push(N),Qn!==4&&(Qn=2),f===null)return!0;b=_t(b,y),y=f;do{switch(y.tag){case 3:return y.flags|=65536,c=w&-w,y.lanes|=c,c=Tc(y.stateNode,b,c),Fe(y,c),!1;case 1:if(f=y.type,N=y.stateNode,(y.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(_r===null||!_r.has(N))))return y.flags|=65536,w&=-w,y.lanes|=w,w=Dp(w),L0(w,c,y,b),Fe(y,w),!1}y=y.return}while(y!==null);return!1}function Yi(c,f,y,b){f.child=c===null?vr(f,null,y,b):$o(f,c.child,y,b)}function Sh(c,f,y,b,w){y=y.render;var N=f.ref;if("ref"in b){var k={};for(var et in b)et!=="ref"&&(k[et]=b[et])}else k=b;return Co(f),b=To(c,f,y,k,N,w),et=Rr(),c!==null&&!Mi?(Sl(c,f,w),Lr(c,f,w)):(gn&&et&&At(f),f.flags|=1,Yi(c,f,b,w),f.child)}function U0(c,f,y,b,w){if(c===null){var N=y.type;return typeof N=="function"&&!Hr(N)&&N.defaultProps===void 0&&y.compare===null?(f.tag=15,f.type=N,O0(c,f,N,b,w)):(c=Ll(y.type,null,b,f,f.mode,w),c.ref=f.ref,c.return=f,f.child=c)}if(N=c.child,!Pp(c,w)){var k=N.memoizedProps;if(y=y.compare,y=y!==null?y:Tt,y(k,b)&&c.ref===f.ref)return Lr(c,f,w)}return f.flags|=1,c=Gr(N,b),c.ref=f.ref,c.return=f,f.child=c}function O0(c,f,y,b,w){if(c!==null){var N=c.memoizedProps;if(Tt(N,b)&&c.ref===f.ref)if(Mi=!1,f.pendingProps=b=N,Pp(c,w))c.flags&131072&&(Mi=!0);else return f.lanes=c.lanes,Lr(c,f,w)}return bh(c,f,y,b,w)}function P0(c,f,y){var b=f.pendingProps,w=b.children,N=(f.stateNode._pendingVisibility&2)!==0,k=c!==null?c.memoizedState:null;if(Bu(c,f),b.mode==="hidden"||N){if(f.flags&128){if(b=k!==null?k.baseLanes|y:y,c!==null){for(w=f.child=c.child,N=0;w!==null;)N=N|w.lanes|w.childLanes,w=w.sibling;f.childLanes=N&~b}else f.childLanes=0,f.child=null;return z0(c,f,b,y)}if(y&536870912)f.memoizedState={baseLanes:0,cachePool:null},c!==null&&Th(f,k!==null?k.cachePool:null),k!==null?Du(f,k):_l(),gc(f);else return f.lanes=f.childLanes=536870912,z0(c,f,k!==null?k.baseLanes|y:y,y)}else k!==null?(Th(f,k.cachePool),Du(f,k),Fa(),f.memoizedState=null):(c!==null&&Th(f,null),_l(),Fa());return Yi(c,f,w,y),f.child}function z0(c,f,y,b){var w=Bp();return w=w===null?null:{parent:Xa?si._currentValue:si._currentValue2,pool:w},f.memoizedState={baseLanes:y,cachePool:w},c!==null&&Th(f,null),_l(),gc(f),c!==null&&Fu(c,f,b,!0),null}function Bu(c,f){var y=f.ref;if(y===null)c!==null&&c.ref!==null&&(f.flags|=2097664);else{if(typeof y!="function"&&typeof y!="object")throw Error(s(284));(c===null||c.ref!==y)&&(f.flags|=2097664)}}function bh(c,f,y,b,w){return Co(f),y=To(c,f,y,b,void 0,w),b=Rr(),c!==null&&!Mi?(Sl(c,f,w),Lr(c,f,w)):(gn&&b&&At(f),f.flags|=1,Yi(c,f,y,w),f.child)}function B0(c,f,y,b,w,N){return Co(f),f.updateQueue=null,y=ph(f,b,y,w),dh(c),b=Rr(),c!==null&&!Mi?(Sl(c,f,N),Lr(c,f,N)):(gn&&b&&At(f),f.flags|=1,Yi(c,f,y,N),f.child)}function V0(c,f,y,b,w){if(Co(f),f.stateNode===null){var N=Il,k=y.contextType;typeof k=="object"&&k!==null&&(N=Wi(k)),N=new y(b,N),f.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=Yc,f.stateNode=N,N._reactInternals=f,N=f.stateNode,N.props=b,N.state=f.memoizedState,N.refs={},Wt(f),k=y.contextType,N.context=typeof k=="object"&&k!==null?Wi(k):Il,N.state=f.memoizedState,k=y.getDerivedStateFromProps,typeof k=="function"&&(_c(f,y,k,b),N.state=f.memoizedState),typeof y.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(k=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),k!==N.state&&Yc.enqueueReplaceState(N,N.state,null),xn(f,b,N,w),Me(),N.state=f.memoizedState),typeof N.componentDidMount=="function"&&(f.flags|=4194308),b=!0}else if(c===null){N=f.stateNode;var et=f.memoizedProps,mt=Nr(y,et);N.props=mt;var Nt=N.context,Zt=y.contextType;k=Il,typeof Zt=="object"&&Zt!==null&&(k=Wi(Zt));var re=y.getDerivedStateFromProps;Zt=typeof re=="function"||typeof N.getSnapshotBeforeUpdate=="function",et=f.pendingProps!==et,Zt||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(et||Nt!==k)&&N0(f,N,b,k),ls=!1;var Yt=f.memoizedState;N.state=Yt,xn(f,b,N,w),Me(),Nt=f.memoizedState,et||Yt!==Nt||ls?(typeof re=="function"&&(_c(f,y,re,b),Nt=f.memoizedState),(mt=ls||Sc(f,y,mt,b,Yt,Nt,k))?(Zt||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(f.flags|=4194308)):(typeof N.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=b,f.memoizedState=Nt),N.props=b,N.state=Nt,N.context=k,b=mt):(typeof N.componentDidMount=="function"&&(f.flags|=4194308),b=!1)}else{N=f.stateNode,pe(c,f),k=f.memoizedProps,Zt=Nr(y,k),N.props=Zt,re=f.pendingProps,Yt=N.context,Nt=y.contextType,mt=Il,typeof Nt=="object"&&Nt!==null&&(mt=Wi(Nt)),et=y.getDerivedStateFromProps,(Nt=typeof et=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(k!==re||Yt!==mt)&&N0(f,N,b,mt),ls=!1,Yt=f.memoizedState,N.state=Yt,xn(f,b,N,w),Me();var ke=f.memoizedState;k!==re||Yt!==ke||ls||c!==null&&c.dependencies!==null&&Hu(c.dependencies)?(typeof et=="function"&&(_c(f,y,et,b),ke=f.memoizedState),(Zt=ls||Sc(f,y,Zt,b,Yt,ke,mt)||c!==null&&c.dependencies!==null&&Hu(c.dependencies))?(Nt||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(b,ke,mt),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(b,ke,mt)),typeof N.componentDidUpdate=="function"&&(f.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof N.componentDidUpdate!="function"||k===c.memoizedProps&&Yt===c.memoizedState||(f.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||k===c.memoizedProps&&Yt===c.memoizedState||(f.flags|=1024),f.memoizedProps=b,f.memoizedState=ke),N.props=b,N.state=ke,N.context=mt,b=Zt):(typeof N.componentDidUpdate!="function"||k===c.memoizedProps&&Yt===c.memoizedState||(f.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||k===c.memoizedProps&&Yt===c.memoizedState||(f.flags|=1024),b=!1)}return N=b,Bu(c,f),b=(f.flags&128)!==0,N||b?(N=f.stateNode,y=b&&typeof y.getDerivedStateFromError!="function"?null:N.render(),f.flags|=1,c!==null&&b?(f.child=$o(f,c.child,null,w),f.child=$o(f,null,y,w)):Yi(c,f,y,w),f.memoizedState=N.state,c=f.child):c=Lr(c,f,w),c}function I0(c,f,y,b){return Ot(),f.flags|=256,Yi(c,f,y,b),f.child}function Np(c){return{baseLanes:c,cachePool:Vp()}}function Vu(c,f,y){return c=c!==null?c.childLanes&~y:0,f&&(c|=aa),c}function F0(c,f,y){var b=f.pendingProps,w=!1,N=(f.flags&128)!==0,k;if((k=N)||(k=c!==null&&c.memoizedState===null?!1:(Gn.current&2)!==0),k&&(w=!0,f.flags&=-129),k=(f.flags&32)!==0,f.flags&=-33,c===null){if(gn){if(w?Qs(f):Fa(),gn){var et=Nn,mt;(mt=et)&&(et=Rv(et,Za),et!==null?(f.memoizedState={dehydrated:et,treeContext:Wa!==null?{id:mr,overflow:gr}:null,retryLane:536870912},mt=e(18,null,null,0),mt.stateNode=et,mt.return=f,f.child=mt,ui=f,Nn=null,mt=!0):mt=!1),mt||kt(f)}if(et=f.memoizedState,et!==null&&(et=et.dehydrated,et!==null))return cf(et)?f.lanes=16:f.lanes=536870912,null;ai(f)}return et=b.children,b=b.fallback,w?(Fa(),w=f.mode,et=Up({mode:"hidden",children:et},w),b=Vo(b,w,y,null),et.return=f,b.return=f,et.sibling=b,f.child=et,w=f.child,w.memoizedState=Np(y),w.childLanes=Vu(c,k,y),f.memoizedState=gf,b):(Qs(f),Lp(f,et))}if(mt=c.memoizedState,mt!==null&&(et=mt.dehydrated,et!==null)){if(N)f.flags&256?(Qs(f),f.flags&=-257,f=Mh(c,f,y)):f.memoizedState!==null?(Fa(),f.child=c.child,f.flags|=128,f=null):(Fa(),w=b.fallback,et=f.mode,b=Up({mode:"visible",children:b.children},et),w=Vo(w,et,y,null),w.flags|=2,b.return=f,w.return=f,b.sibling=w,f.child=b,$o(f,c.child,null,y),b=f.child,b.memoizedState=Np(y),b.childLanes=Vu(c,k,y),f.memoizedState=gf,f=w);else if(Qs(f),cf(et))k=Xh(et).digest,b=Error(s(419)),b.stack="",b.digest=k,Rt({value:b,source:null,stack:null}),f=Mh(c,f,y);else if(Mi||Fu(c,f,y,!1),k=(y&c.childLanes)!==0,Mi||k){if(k=Un,k!==null){if(b=y&-y,b&42)b=1;else switch(b){case 2:b=1;break;case 8:b=4;break;case 32:b=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:b=64;break;case 268435456:b=134217728;break;default:b=0}if(b=b&(k.suspendedLanes|y)?0:b,b!==0&&b!==mt.retryLane)throw mt.retryLane=b,$t(c,b),Hn(k,c,b),Mm}zl(et)||_a(),f=Mh(c,f,y)}else zl(et)?(f.flags|=128,f.child=c.child,f=sf.bind(null,c),Av(et,f),f=null):(c=mt.treeContext,Bs&&(Nn=lm(et),ui=f,gn=!0,ba=null,Za=!1,c!==null&&(Vs[os++]=mr,Vs[os++]=gr,Vs[os++]=Wa,mr=c.id,gr=c.overflow,Wa=f)),f=Lp(f,b.children),f.flags|=4096);return f}return w?(Fa(),w=b.fallback,et=f.mode,mt=c.child,N=mt.sibling,b=Gr(mt,{mode:"hidden",children:b.children}),b.subtreeFlags=mt.subtreeFlags&31457280,N!==null?w=Gr(N,w):(w=Vo(w,et,y,null),w.flags|=2),w.return=f,b.return=f,b.sibling=w,f.child=b,b=w,w=f.child,et=c.child.memoizedState,et===null?et=Np(y):(mt=et.cachePool,mt!==null?(N=Xa?si._currentValue:si._currentValue2,mt=mt.parent!==N?{parent:N,pool:N}:mt):mt=Vp(),et={baseLanes:et.baseLanes|y,cachePool:mt}),w.memoizedState=et,w.childLanes=Vu(c,k,y),f.memoizedState=gf,b):(Qs(f),y=c.child,c=y.sibling,y=Gr(y,{mode:"visible",children:b.children}),y.return=f,y.sibling=null,c!==null&&(k=f.deletions,k===null?(f.deletions=[c],f.flags|=16):k.push(c)),f.child=y,f.memoizedState=null,y)}function Lp(c,f){return f=Up({mode:"visible",children:f},c.mode),f.return=c,c.child=f}function Up(c,f){return zh(c,f,0,null)}function Mh(c,f,y){return $o(f,c.child,null,y),c=Lp(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function H0(c,f,y){c.lanes|=f;var b=c.alternate;b!==null&&(b.lanes|=f),Iu(c.return,f,y)}function Op(c,f,y,b,w){var N=c.memoizedState;N===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:b,tail:y,tailMode:w}:(N.isBackwards=f,N.rendering=null,N.renderingStartTime=0,N.last=b,N.tail=y,N.tailMode=w)}function G0(c,f,y){var b=f.pendingProps,w=b.revealOrder,N=b.tail;if(Yi(c,f,b.children,y),b=Gn.current,b&2)b=b&1|2,f.flags|=128;else{if(c!==null&&c.flags&128)t:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&H0(c,y,f);else if(c.tag===19)H0(c,y,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break t;for(;c.sibling===null;){if(c.return===null||c.return===f)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}b&=1}switch(R(Gn,b),w){case"forwards":for(y=f.child,w=null;y!==null;)c=y.alternate,c!==null&&ei(c)===null&&(w=y),y=y.sibling;y=w,y===null?(w=f.child,f.child=null):(w=y.sibling,y.sibling=null),Op(f,!1,w,y,N);break;case"backwards":for(y=null,w=f.child,f.child=null;w!==null;){if(c=w.alternate,c!==null&&ei(c)===null){f.child=w;break}c=w.sibling,w.sibling=y,y=w,w=c}Op(f,!0,y,null,N);break;case"together":Op(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function Lr(c,f,y){if(c!==null&&(f.dependencies=c.dependencies),Ca|=f.lanes,!(y&f.childLanes))if(c!==null){if(Fu(c,f,y,!1),(y&f.childLanes)===0)return null}else return null;if(c!==null&&f.child!==c.child)throw Error(s(153));if(f.child!==null){for(c=f.child,y=Gr(c,c.pendingProps),f.child=y,y.return=f;c.sibling!==null;)c=c.sibling,y=y.sibling=Gr(c,c.pendingProps),y.return=f;y.sibling=null}return f.child}function Pp(c,f){return c.lanes&f?!0:(c=c.dependencies,!!(c!==null&&Hu(c)))}function yS(c,f,y){switch(f.tag){case 3:st(f,f.stateNode.containerInfo),wo(f,si,c.memoizedState.cache),Ot();break;case 27:case 5:Ut(f);break;case 4:st(f,f.stateNode.containerInfo);break;case 10:wo(f,f.type,f.memoizedProps.value);break;case 13:var b=f.memoizedState;if(b!==null)return b.dehydrated!==null?(Qs(f),f.flags|=128,null):y&f.child.childLanes?F0(c,f,y):(Qs(f),c=Lr(c,f,y),c!==null?c.sibling:null);Qs(f);break;case 19:var w=(c.flags&128)!==0;if(b=(y&f.childLanes)!==0,b||(Fu(c,f,y,!1),b=(y&f.childLanes)!==0),w){if(b)return G0(c,f,y);f.flags|=128}if(w=f.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),R(Gn,Gn.current),b)break;return null;case 22:case 23:return f.lanes=0,P0(c,f,y);case 24:wo(f,si,c.memoizedState.cache)}return Lr(c,f,y)}function k0(c,f,y){if(c!==null)if(c.memoizedProps!==f.pendingProps)Mi=!0;else{if(!Pp(c,y)&&!(f.flags&128))return Mi=!1,yS(c,f,y);Mi=!!(c.flags&131072)}else Mi=!1,gn&&f.flags&1048576&&at(f,kc,f.index);switch(f.lanes=0,f.tag){case 16:t:{c=f.pendingProps;var b=f.elementType,w=b._init;if(b=w(b._payload),f.type=b,typeof b=="function")Hr(b)?(c=Nr(b,c),f.tag=1,f=V0(null,f,b,c,y)):(f.tag=0,f=bh(null,f,b,c,y));else{if(b!=null){if(w=b.$$typeof,w===Bh){f.tag=11,f=Sh(null,f,b,c,y);break t}else if(w===Oc){f.tag=14,f=U0(null,f,b,c,y);break t}}throw f=l(b)||b,Error(s(306,f,""))}}return f;case 0:return bh(c,f,f.type,f.pendingProps,y);case 1:return b=f.type,w=Nr(b,f.pendingProps),V0(c,f,b,w,y);case 3:t:{if(st(f,f.stateNode.containerInfo),c===null)throw Error(s(387));var N=f.pendingProps;w=f.memoizedState,b=w.element,pe(c,f),xn(f,N,null,y);var k=f.memoizedState;if(N=k.cache,wo(f,si,N),N!==w.cache&&Tl(f,[si],y,!0),Me(),N=k.element,Bs&&w.isDehydrated)if(w={element:N,isDehydrated:!1,cache:k.cache},f.updateQueue.baseState=w,f.memoizedState=w,f.flags&256){f=I0(c,f,N,y);break t}else if(N!==b){b=_t(Error(s(424)),f),Rt(b),f=I0(c,f,N,y);break t}else for(Bs&&(Nn=Bl(f.stateNode.containerInfo),ui=f,gn=!0,ba=null,Za=!0),y=vr(f,null,N,y),f.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(Ot(),N===b){f=Lr(c,f,y);break t}Yi(c,f,N,y)}f=f.child}return f;case 26:if(ea)return Bu(c,f),c===null?(y=hm(f.type,null,f.pendingProps,null))?f.memoizedState=y:gn||(f.stateNode=gm(f.type,f.pendingProps,Qr.current,f)):f.memoizedState=hm(f.type,c.memoizedProps,f.pendingProps,c.memoizedState),null;case 27:if(Fi)return Ut(f),c===null&&Fi&&gn&&(b=f.stateNode=Wh(f.type,f.pendingProps,Qr.current,ci.current,!1),ui=f,Za=!0,Nn=Zr(b)),b=f.pendingProps.children,c!==null||gn?Yi(c,f,b,y):f.child=$o(f,null,b,y),Bu(c,f),f.child;case 5:return c===null&&gn&&(Ov(f.type,f.pendingProps,ci.current),(w=b=Nn)&&(b=cm(b,f.type,f.pendingProps,Za),b!==null?(f.stateNode=b,ui=f,Nn=Zr(b),Za=!1,w=!0):w=!1),w||kt(f)),Ut(f),w=f.type,N=f.pendingProps,k=c!==null?c.memoizedProps:null,b=N.children,Ki(w,N)?b=null:k!==null&&Ki(w,k)&&(f.flags|=32),f.memoizedState!==null&&(w=To(c,f,mh,null,null,y),Xa?Wr._currentValue=w:Wr._currentValue2=w),Bu(c,f),Yi(c,f,b,y),f.child;case 6:return c===null&&gn&&(wS(f.pendingProps,ci.current),(c=y=Nn)&&(y=Cv(y,f.pendingProps,Za),y!==null?(f.stateNode=y,ui=f,Nn=null,c=!0):c=!1),c||kt(f)),null;case 13:return F0(c,f,y);case 4:return st(f,f.stateNode.containerInfo),b=f.pendingProps,c===null?f.child=$o(f,null,b,y):Yi(c,f,b,y),f.child;case 11:return Sh(c,f,f.type,f.pendingProps,y);case 7:return Yi(c,f,f.pendingProps,y),f.child;case 8:return Yi(c,f,f.pendingProps.children,y),f.child;case 12:return Yi(c,f,f.pendingProps.children,y),f.child;case 10:return b=f.pendingProps,wo(f,f.type,b.value),Yi(c,f,b.children,y),f.child;case 9:return w=f.type._context,b=f.pendingProps.children,Co(f),w=Wi(w),b=b(w),f.flags|=1,Yi(c,f,b,y),f.child;case 14:return U0(c,f,f.type,f.pendingProps,y);case 15:return O0(c,f,f.type,f.pendingProps,y);case 19:return G0(c,f,y);case 22:return P0(c,f,y);case 24:return Co(f),b=Wi(si),c===null?(w=Bp(),w===null&&(w=Un,N=Ro(),w.pooledCache=N,N.refCount++,N!==null&&(w.pooledCacheLanes|=y),w=N),f.memoizedState={parent:b,cache:w},Wt(f),wo(f,si,w)):(c.lanes&y&&(pe(c,f),xn(f,null,null,y),Me()),w=c.memoizedState,N=f.memoizedState,w.parent!==b?(w={parent:b,cache:b},f.memoizedState=w,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=w),wo(f,si,b)):(b=N.cache,wo(f,si,b),b!==w.cache&&Tl(f,[si],y,!0))),Yi(c,f,f.pendingProps.children,y),f.child;case 29:throw f.pendingProps}throw Error(s(156,f.tag))}function wo(c,f,y){Xa?(R(Ta,f._currentValue),f._currentValue=y):(R(Ta,f._currentValue2),f._currentValue2=y)}function Ur(c){var f=Ta.current;Xa?c._currentValue=f:c._currentValue2=f,M(Ta)}function Iu(c,f,y){for(;c!==null;){var b=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,b!==null&&(b.childLanes|=f)):b!==null&&(b.childLanes&f)!==f&&(b.childLanes|=f),c===y)break;c=c.return}}function Tl(c,f,y,b){var w=c.child;for(w!==null&&(w.return=c);w!==null;){var N=w.dependencies;if(N!==null){var k=w.child;N=N.firstContext;t:for(;N!==null;){var et=N;N=w;for(var mt=0;mt<f.length;mt++)if(et.context===f[mt]){N.lanes|=y,et=N.alternate,et!==null&&(et.lanes|=y),Iu(N.return,y,c),b||(k=null);break t}N=et.next}}else if(w.tag===18){if(k=w.return,k===null)throw Error(s(341));k.lanes|=y,N=k.alternate,N!==null&&(N.lanes|=y),Iu(k,y,c),k=null}else k=w.child;if(k!==null)k.return=w;else for(k=w;k!==null;){if(k===c){k=null;break}if(w=k.sibling,w!==null){w.return=k.return,k=w;break}k=k.return}w=k}}function Fu(c,f,y,b){c=null;for(var w=f,N=!1;w!==null;){if(!N){if(w.flags&524288)N=!0;else if(w.flags&262144)break}if(w.tag===10){var k=w.alternate;if(k===null)throw Error(s(387));if(k=k.memoizedProps,k!==null){var et=w.type;bs(w.pendingProps.value,k.value)||(c!==null?c.push(et):c=[et])}}else if(w===hf.current){if(k=w.alternate,k===null)throw Error(s(387));k.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(c!==null?c.push(Wr):c=[Wr])}w=w.return}c!==null&&Tl(f,c,y,b),f.flags|=262144}function Hu(c){for(c=c.firstContext;c!==null;){var f=c.context;if(!bs(Xa?f._currentValue:f._currentValue2,c.memoizedValue))return!0;c=c.next}return!1}function Co(c){il=c,Ea=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function Wi(c){return zp(il,c)}function Gu(c,f){return il===null&&Co(c),zp(c,f)}function zp(c,f){var y=Xa?f._currentValue:f._currentValue2;if(f={context:f,memoizedValue:y,next:null},Ea===null){if(c===null)throw Error(s(308));Ea=f,c.dependencies={lanes:0,firstContext:f},c.flags|=524288}else Ea=Ea.next=f;return y}function Ro(){return{controller:new vf,data:new Map,refCount:0}}function ku(c){c.refCount--,c.refCount===0&&ti(RS,function(){c.controller.abort()})}function Bp(){var c=kl.current;return c!==null?c:Un.pooledCache}function Th(c,f){f===null?R(kl,kl.current):R(kl,f.pool)}function Vp(){var c=Bp();return c===null?null:{parent:Xa?si._currentValue:si._currentValue2,pool:c}}function Ns(c){c.flags|=4}function Ec(c,f){if(c!==null&&c.child===f.child)return!1;if(f.flags&16)return!0;for(c=f.child;c!==null;){if(c.flags&13878||c.subtreeFlags&13878)return!0;c=c.sibling}return!1}function El(c,f,y,b){if(Zn)for(y=f.child;y!==null;){if(y.tag===5||y.tag===6)of(c,y.stateNode);else if(!(y.tag===4||Fi&&y.tag===27)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===f)break;for(;y.sibling===null;){if(y.return===null||y.return===f)return;y=y.return}y.sibling.return=y.return,y=y.sibling}else if(qa)for(var w=f.child;w!==null;){if(w.tag===5){var N=w.stateNode;y&&b&&(N=Ev(N,w.type,w.memoizedProps)),of(c,N)}else if(w.tag===6)N=w.stateNode,y&&b&&(N=om(N,w.memoizedProps)),of(c,N);else if(w.tag!==4){if(w.tag===22&&w.memoizedState!==null)N=w.child,N!==null&&(N.return=w),El(c,w,!0,!0);else if(w.child!==null){w.child.return=w,w=w.child;continue}}if(w===f)break;for(;w.sibling===null;){if(w.return===null||w.return===f)return;w=w.return}w.sibling.return=w.return,w=w.sibling}}function j0(c,f,y,b){if(qa)for(var w=f.child;w!==null;){if(w.tag===5){var N=w.stateNode;y&&b&&(N=Ev(N,w.type,w.memoizedProps)),rm(c,N)}else if(w.tag===6)N=w.stateNode,y&&b&&(N=om(N,w.memoizedProps)),rm(c,N);else if(w.tag!==4){if(w.tag===22&&w.memoizedState!==null)N=w.child,N!==null&&(N.return=w),j0(c,w,!(w.memoizedProps!==null&&w.memoizedProps.mode==="manual"),!0);else if(w.child!==null){w.child.return=w,w=w.child;continue}}if(w===f)break;for(;w.sibling===null;){if(w.return===null||w.return===f)return;w=w.return}w.sibling.return=w.return,w=w.sibling}}function ju(c,f){if(qa&&Ec(c,f)){c=f.stateNode;var y=c.containerInfo,b=jh();j0(b,f,!1,!1),c.pendingChildren=b,Ns(f),Mv(y,b)}}function Eh(c,f,y,b){if(Zn)c.memoizedProps!==b&&Ns(f);else if(qa){var w=c.stateNode,N=c.memoizedProps;if((c=Ec(c,f))||N!==b){var k=ci.current;N=bv(w,y,N,b,!c,null),N===w?f.stateNode=w:(Vh(N,y,b,k)&&Ns(f),f.stateNode=N,c?El(N,f,!1,!1):Ns(f))}else f.stateNode=w}}function Ah(c,f,y){if(tm(f,y)){if(c.flags|=16777216,!em(f,y))if(Ii())c.flags|=8192;else throw cs=Ms,mf}else c.flags&=-16777217}function wh(c,f){if(Bv(f)){if(c.flags|=16777216,!vm(f))if(Ii())c.flags|=8192;else throw cs=Ms,mf}else c.flags&=-16777217}function Ac(c,f){f!==null&&(c.flags|=4),c.flags&16384&&(f=c.tag!==22?U():536870912,c.lanes|=f,Ei|=f)}function wc(c,f){if(!gn)switch(c.tailMode){case"hidden":f=c.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?c.tail=null:y.sibling=null;break;case"collapsed":y=c.tail;for(var b=null;y!==null;)y.alternate!==null&&(b=y),y=y.sibling;b===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:b.sibling=null}}function Wn(c){var f=c.alternate!==null&&c.alternate.child===c.child,y=0,b=0;if(f)for(var w=c.child;w!==null;)y|=w.lanes|w.childLanes,b|=w.subtreeFlags&31457280,b|=w.flags&31457280,w.return=c,w=w.sibling;else for(w=c.child;w!==null;)y|=w.lanes|w.childLanes,b|=w.subtreeFlags,b|=w.flags,w.return=c,w=w.sibling;return c.subtreeFlags|=b,c.childLanes=y,f}function X0(c,f,y){var b=f.pendingProps;switch(zt(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wn(f),null;case 1:return Wn(f),null;case 3:return y=f.stateNode,b=null,c!==null&&(b=c.memoizedState.cache),f.memoizedState.cache!==b&&(f.flags|=2048),Ur(si),Et(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(c===null||c.child===null)&&(le(f)?Ns(f):c===null||c.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,ba!==null&&(Ir(ba),ba=null))),ju(c,f),Wn(f),null;case 26:if(ea){y=f.type;var w=f.memoizedState;return c===null?(Ns(f),w!==null?(Wn(f),wh(f,w)):(Wn(f),Ah(f,y,b))):w?w!==c.memoizedState?(Ns(f),Wn(f),wh(f,w)):(Wn(f),f.flags&=-16777217):(Zn?c.memoizedProps!==b&&Ns(f):Eh(c,f,y,b),Wn(f),Ah(f,y,b)),null}case 27:if(Fi){if(It(f),y=Qr.current,w=f.type,c!==null&&f.stateNode!=null)Zn?c.memoizedProps!==b&&Ns(f):Eh(c,f,w,b);else{if(!b){if(f.stateNode===null)throw Error(s(166));return Wn(f),null}c=ci.current,le(f)?ye(f,c):(c=Wh(w,b,y,c,!0),f.stateNode=c,Ns(f))}return Wn(f),null}case 5:if(It(f),y=f.type,c!==null&&f.stateNode!=null)Eh(c,f,y,b);else{if(!b){if(f.stateNode===null)throw Error(s(166));return Wn(f),null}c=ci.current,le(f)?ye(f,c):(w=Jp(y,b,Qr.current,c,f),El(w,f,!1,!1),f.stateNode=w,Vh(w,y,b,c)&&Ns(f))}return Wn(f),Ah(f,f.type,f.pendingProps),null;case 6:if(c&&f.stateNode!=null)y=c.memoizedProps,Zn?y!==b&&Ns(f):qa&&(y!==b?(f.stateNode=oi(b,Qr.current,ci.current,f),Ns(f)):f.stateNode=c.stateNode);else{if(typeof b!="string"&&f.stateNode===null)throw Error(s(166));if(c=Qr.current,y=ci.current,le(f)){if(!Bs)throw Error(s(176));if(c=f.stateNode,y=f.memoizedProps,b=null,w=ui,w!==null)switch(w.tag){case 27:case 5:b=w.memoizedProps}qh(c,y,f,b)||kt(f)}else f.stateNode=oi(b,c,y,f)}return Wn(f),null;case 13:if(b=f.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(w=le(f),b!==null&&b.dehydrated!==null){if(c===null){if(!w)throw Error(s(318));if(!Bs)throw Error(s(344));if(w=f.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(s(317));Dv(w,f)}else Ot(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;Wn(f),w=!1}else ba!==null&&(Ir(ba),ba=null),w=!0;if(!w)return f.flags&256?(ai(f),f):(ai(f),null)}if(ai(f),f.flags&128)return f.lanes=y,f;if(y=b!==null,c=c!==null&&c.memoizedState!==null,y){b=f.child,w=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(w=b.alternate.memoizedState.cachePool.pool);var N=null;b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(N=b.memoizedState.cachePool.pool),N!==w&&(b.flags|=2048)}return y!==c&&y&&(f.child.flags|=8192),Ac(f,f.updateQueue),Wn(f),null;case 4:return Et(),ju(c,f),c===null&&ev(f.stateNode.containerInfo),Wn(f),null;case 10:return Ur(f.type),Wn(f),null;case 19:if(M(Gn),w=f.memoizedState,w===null)return Wn(f),null;if(b=(f.flags&128)!==0,N=w.rendering,N===null)if(b)wc(w,!1);else{if(Qn!==0||c!==null&&c.flags&128)for(c=f.child;c!==null;){if(N=ei(c),N!==null){for(f.flags|=128,wc(w,!1),c=N.updateQueue,f.updateQueue=c,Ac(f,c),f.subtreeFlags=0,c=y,y=f.child;y!==null;)Nl(y,c),y=y.sibling;return R(Gn,Gn.current&1|2),f.child}c=c.sibling}w.tail!==null&&na()>ra&&(f.flags|=128,b=!0,wc(w,!1),f.lanes=4194304)}else{if(!b)if(c=ei(N),c!==null){if(f.flags|=128,b=!0,c=c.updateQueue,f.updateQueue=c,Ac(f,c),wc(w,!0),w.tail===null&&w.tailMode==="hidden"&&!N.alternate&&!gn)return Wn(f),null}else 2*na()-w.renderingStartTime>ra&&y!==536870912&&(f.flags|=128,b=!0,wc(w,!1),f.lanes=4194304);w.isBackwards?(N.sibling=f.child,f.child=N):(c=w.last,c!==null?c.sibling=N:f.child=N,w.last=N)}return w.tail!==null?(f=w.tail,w.rendering=f,w.tail=f.sibling,w.renderingStartTime=na(),f.sibling=null,c=Gn.current,R(Gn,b?c&1|2:c&1),f):(Wn(f),null);case 22:case 23:return ai(f),ga(),b=f.memoizedState!==null,c!==null?c.memoizedState!==null!==b&&(f.flags|=8192):b&&(f.flags|=8192),b?y&536870912&&!(f.flags&128)&&(Wn(f),f.subtreeFlags&6&&(f.flags|=8192)):Wn(f),y=f.updateQueue,y!==null&&Ac(f,y.retryQueue),y=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),b=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==y&&(f.flags|=2048),c!==null&&M(kl),null;case 24:return y=null,c!==null&&(y=c.memoizedState.cache),f.memoizedState.cache!==y&&(f.flags|=2048),Ur(si),Wn(f),null;case 25:return null}throw Error(s(156,f.tag))}function xS(c,f){switch(zt(f),f.tag){case 1:return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return Ur(si),Et(),c=f.flags,c&65536&&!(c&128)?(f.flags=c&-65537|128,f):null;case 26:case 27:case 5:return It(f),null;case 13:if(ai(f),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(s(340));Ot()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return M(Gn),null;case 4:return Et(),null;case 10:return Ur(f.type),null;case 22:case 23:return ai(f),ga(),c!==null&&M(kl),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 24:return Ur(si),null;case 25:return null;default:return null}}function q0(c,f){switch(zt(f),f.tag){case 3:Ur(si),Et();break;case 26:case 27:case 5:It(f);break;case 4:Et();break;case 13:ai(f);break;case 19:M(Gn);break;case 10:Ur(f.type);break;case 22:case 23:ai(f),ga(),c!==null&&M(kl);break;case 24:Ur(si)}}function Xu(c,f){try{var y=f.updateQueue,b=y!==null?y.lastEffect:null;if(b!==null){var w=b.next;y=w;do{if((y.tag&c)===c){b=void 0;var N=y.create,k=y.inst;b=N(),k.destroy=b}y=y.next}while(y!==w)}}catch(et){En(f,f.return,et)}}function Do(c,f,y){try{var b=f.updateQueue,w=b!==null?b.lastEffect:null;if(w!==null){var N=w.next;b=N;do{if((b.tag&c)===c){var k=b.inst,et=k.destroy;if(et!==void 0){k.destroy=void 0,w=f;var mt=y;try{et()}catch(Nt){En(w,mt,Nt)}}}b=b.next}while(b!==N)}}catch(Nt){En(f,f.return,Nt)}}function Y0(c){var f=c.updateQueue;if(f!==null){var y=c.stateNode;try{ie(f,y)}catch(b){En(c,c.return,b)}}}function Ls(c,f,y){y.props=Nr(c.type,c.memoizedProps),y.state=c.memoizedState;try{y.componentWillUnmount()}catch(b){En(c,f,b)}}function ja(c,f){try{var y=c.ref;if(y!==null){var b=c.stateNode;switch(c.tag){case 26:case 27:case 5:var w=Ol(b);break;default:w=b}typeof y=="function"?c.refCleanup=y(w):y.current=w}}catch(N){En(c,f,N)}}function Us(c,f){var y=c.ref,b=c.refCleanup;if(y!==null)if(typeof b=="function")try{b()}catch(w){En(c,f,w)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof y=="function")try{y(null)}catch(w){En(c,f,w)}else y.current=null}function Ip(c){var f=c.type,y=c.memoizedProps,b=c.stateNode;try{pv(b,f,y,c)}catch(w){En(c,c.return,w)}}function Fp(c,f,y){try{mv(c.stateNode,c.type,y,f,c)}catch(b){En(c,c.return,b)}}function Hp(c){return c.tag===5||c.tag===3||(ea?c.tag===26:!1)||(Fi?c.tag===27:!1)||c.tag===4}function qu(c){t:for(;;){for(;c.sibling===null;){if(c.return===null||Hp(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&(!Fi||c.tag!==27)&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue t;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Gp(c,f,y){var b=c.tag;if(b===5||b===6)c=c.stateNode,f?sm(y,c,f):im(y,c);else if(!(b===4||Fi&&b===27)&&(c=c.child,c!==null))for(Gp(c,f,y),c=c.sibling;c!==null;)Gp(c,f,y),c=c.sibling}function Ch(c,f,y){var b=c.tag;if(b===5||b===6)c=c.stateNode,f?gv(y,c,f):hv(y,c);else if(!(b===4||Fi&&b===27)&&(c=c.child,c!==null))for(Ch(c,f,y),c=c.sibling;c!==null;)Ch(c,f,y),c=c.sibling}function Al(c,f,y){c=c.containerInfo;try{Tv(c,y)}catch(b){En(f,f.return,b)}}function kp(c,f){for(tv(c.containerInfo),Re=f;Re!==null;)if(c=Re,f=c.child,(c.subtreeFlags&1028)!==0&&f!==null)f.return=c,Re=f;else for(;Re!==null;){c=Re;var y=c.alternate;switch(f=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if(f&1024&&y!==null){f=void 0;var b=c,w=y.memoizedProps;y=y.memoizedState;var N=b.stateNode;try{var k=Nr(b.type,w,b.elementType===b.type);f=N.getSnapshotBeforeUpdate(k,y),N.__reactInternalSnapshotBeforeUpdate=f}catch(et){En(b,b.return,et)}}break;case 3:f&1024&&Zn&&Sv(c.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(f&1024)throw Error(s(163))}if(f=c.sibling,f!==null){f.return=c.return,Re=f;break}Re=c.return}return k=zn,zn=!1,k}function Cc(c,f,y){var b=y.flags;switch(y.tag){case 0:case 11:case 15:Pr(c,y),b&4&&Xu(5,y);break;case 1:if(Pr(c,y),b&4)if(c=y.stateNode,f===null)try{c.componentDidMount()}catch(et){En(y,y.return,et)}else{var w=Nr(y.type,f.memoizedProps);f=f.memoizedState;try{c.componentDidUpdate(w,f,c.__reactInternalSnapshotBeforeUpdate)}catch(et){En(y,y.return,et)}}b&64&&Y0(y),b&512&&ja(y,y.return);break;case 3:if(Pr(c,y),b&64&&(b=y.updateQueue,b!==null)){if(c=null,y.child!==null)switch(y.child.tag){case 27:case 5:c=Ol(y.child.stateNode);break;case 1:c=y.child.stateNode}try{ie(b,c)}catch(et){En(y,y.return,et)}}break;case 26:if(ea){Pr(c,y),b&512&&ja(y,y.return);break}case 27:case 5:Pr(c,y),f===null&&b&4&&Ip(y),b&512&&ja(y,y.return);break;case 12:Pr(c,y);break;case 13:Pr(c,y),b&4&&wl(c,y);break;case 22:if(w=y.memoizedState!==null||io,!w){f=f!==null&&f.memoizedState!==null||Ge;var N=io,k=Ge;io=w,(Ge=f)&&!k?No(c,y,(y.subtreeFlags&8772)!==0):Pr(c,y),io=N,Ge=k}b&512&&(y.memoizedProps.mode==="manual"?ja(y,y.return):Us(y,y.return));break;default:Pr(c,y)}}function Rh(c){var f=c.alternate;f!==null&&(c.alternate=null,Rh(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&sv(f)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function va(c,f,y){for(y=y.child;y!==null;)Or(c,f,y),y=y.sibling}function Or(c,f,y){if(bi&&typeof bi.onCommitFiberUnmount=="function")try{bi.onCommitFiberUnmount(Gc,y)}catch{}switch(y.tag){case 26:if(ea){Ge||Us(y,f),va(c,f,y),y.memoizedState?pm(y.memoizedState):y.stateNode&&Ic(y.stateNode);break}case 27:if(Fi){Ge||Us(y,f);var b=Sn,w=di;Sn=y.stateNode,va(c,f,y),_m(y.stateNode),Sn=b,di=w;break}case 5:Ge||Us(y,f);case 6:if(Zn){if(b=Sn,w=di,Sn=null,va(c,f,y),Sn=b,di=w,Sn!==null)if(di)try{yv(Sn,y.stateNode)}catch(N){En(y,f,N)}else try{vv(Sn,y.stateNode)}catch(N){En(y,f,N)}}else va(c,f,y);break;case 18:Zn&&Sn!==null&&(di?um(Sn,y.stateNode):Uv(Sn,y.stateNode));break;case 4:Zn?(b=Sn,w=di,Sn=y.stateNode.containerInfo,di=!0,va(c,f,y),Sn=b,di=w):(qa&&Al(y.stateNode,y,jh()),va(c,f,y));break;case 0:case 11:case 14:case 15:Ge||Do(2,y,f),Ge||Do(4,y,f),va(c,f,y);break;case 1:Ge||(Us(y,f),b=y.stateNode,typeof b.componentWillUnmount=="function"&&Ls(y,f,b)),va(c,f,y);break;case 21:va(c,f,y);break;case 22:Ge||Us(y,f),Ge=(b=Ge)||y.memoizedState!==null,va(c,f,y),Ge=b;break;default:va(c,f,y)}}function wl(c,f){if(Bs&&f.memoizedState===null&&(c=f.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{Yh(c)}catch(y){En(f,f.return,y)}}function jp(c){switch(c.tag){case 13:case 19:var f=c.stateNode;return f===null&&(f=c.stateNode=new en),f;case 22:return c=c.stateNode,f=c._retryCache,f===null&&(f=c._retryCache=new en),f;default:throw Error(s(435,c.tag))}}function Dh(c,f){var y=jp(c);f.forEach(function(b){var w=Ph.bind(null,c,b);y.has(b)||(y.add(b),b.then(w,w))})}function xi(c,f){var y=f.deletions;if(y!==null)for(var b=0;b<y.length;b++){var w=y[b],N=c,k=f;if(Zn){var et=k;t:for(;et!==null;){switch(et.tag){case 27:case 5:Sn=et.stateNode,di=!1;break t;case 3:Sn=et.stateNode.containerInfo,di=!0;break t;case 4:Sn=et.stateNode.containerInfo,di=!0;break t}et=et.return}if(Sn===null)throw Error(s(160));Or(N,k,w),Sn=null,di=!1}else Or(N,k,w);N=w.alternate,N!==null&&(N.return=null),w.return=null}if(f.subtreeFlags&13878)for(f=f.child;f!==null;)Xp(f,c),f=f.sibling}function Xp(c,f){var y=c.alternate,b=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:xi(f,c),Os(c),b&4&&(Do(3,c,c.return),Xu(3,c),Do(5,c,c.return));break;case 1:xi(f,c),Os(c),b&512&&(Ge||y===null||Us(y,y.return)),b&64&&io&&(c=c.updateQueue,c!==null&&(b=c.callbacks,b!==null&&(y=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=y===null?b:y.concat(b))));break;case 26:if(ea){var w=fs;xi(f,c),Os(c),b&512&&(Ge||y===null||Us(y,y.return)),b&4&&(b=y!==null?y.memoizedState:null,f=c.memoizedState,y===null?f===null?c.stateNode===null?c.stateNode=Pv(w,c.type,c.memoizedProps,c):mm(w,c.type,c.stateNode):c.stateNode=dm(w,f,c.memoizedProps):b!==f?(b===null?y.stateNode!==null&&Ic(y.stateNode):pm(b),f===null?mm(w,c.type,c.stateNode):dm(w,f,c.memoizedProps)):f===null&&c.stateNode!==null&&Fp(c,c.memoizedProps,y.memoizedProps));break}case 27:if(Fi&&b&4&&c.alternate===null){w=c.stateNode;var N=c.memoizedProps;try{Vv(w),xm(c.type,N,w,c)}catch(Zt){En(c,c.return,Zt)}}case 5:if(xi(f,c),Os(c),b&512&&(Ge||y===null||Us(y,y.return)),Zn){if(c.flags&32){f=c.stateNode;try{kh(f)}catch(Zt){En(c,c.return,Zt)}}b&4&&c.stateNode!=null&&(f=c.memoizedProps,Fp(c,f,y!==null?y.memoizedProps:f)),b&1024&&(Ln=!0)}break;case 6:if(xi(f,c),Os(c),b&4&&Zn){if(c.stateNode===null)throw Error(s(162));b=c.memoizedProps,y=y!==null?y.memoizedProps:b,f=c.stateNode;try{dv(f,y,b)}catch(Zt){En(c,c.return,Zt)}}break;case 3:if(ea?(zv(),w=fs,fs=Oi(f.containerInfo),xi(f,c),fs=w):xi(f,c),Os(c),b&4){if(Zn&&Bs&&y!==null&&y.memoizedState.isDehydrated)try{Lv(f.containerInfo)}catch(Zt){En(c,c.return,Zt)}if(qa){b=f.containerInfo,y=f.pendingChildren;try{Tv(b,y)}catch(Zt){En(c,c.return,Zt)}}}Ln&&(Ln=!1,qp(c));break;case 4:ea?(y=fs,fs=Oi(c.stateNode.containerInfo),xi(f,c),Os(c),fs=y):(xi(f,c),Os(c)),b&4&&qa&&Al(c.stateNode,c,c.stateNode.pendingChildren);break;case 12:xi(f,c),Os(c);break;case 13:xi(f,c),Os(c),c.child.flags&8192&&c.memoizedState!==null!=(y!==null&&y.memoizedState!==null)&&(Em=na()),b&4&&(b=c.updateQueue,b!==null&&(c.updateQueue=null,Dh(c,b)));break;case 22:b&512&&(Ge||y===null||Us(y,y.return)),w=c.memoizedState!==null;var k=y!==null&&y.memoizedState!==null,et=io,mt=Ge;if(io=et||w,Ge=mt||k,xi(f,c),Ge=mt,io=et,Os(c),f=c.stateNode,f._current=c,f._visibility&=-3,f._visibility|=f._pendingVisibility&2,b&8192&&(f._visibility=w?f._visibility&-2:f._visibility|1,w&&(f=io||Ge,y===null||k||f||Rc(c)),Zn&&(c.memoizedProps===null||c.memoizedProps.mode!=="manual"))){t:if(y=null,Zn)for(f=c;;){if(f.tag===5||ea&&f.tag===26||Fi&&f.tag===27){if(y===null){k=y=f;try{N=k.stateNode,w?xv(N):AS(k.stateNode,k.memoizedProps)}catch(Zt){En(k,k.return,Zt)}}}else if(f.tag===6){if(y===null){k=f;try{var Nt=k.stateNode;w?_v(Nt):am(Nt,k.memoizedProps)}catch(Zt){En(k,k.return,Zt)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===c)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break t;for(;f.sibling===null;){if(f.return===null||f.return===c)break t;y===f&&(y=null),f=f.return}y===f&&(y=null),f.sibling.return=f.return,f=f.sibling}}b&4&&(b=c.updateQueue,b!==null&&(y=b.retryQueue,y!==null&&(b.retryQueue=null,Dh(c,y))));break;case 19:xi(f,c),Os(c),b&4&&(b=c.updateQueue,b!==null&&(c.updateQueue=null,Dh(c,b)));break;case 21:break;default:xi(f,c),Os(c)}}function Os(c){var f=c.flags;if(f&2){try{if(Zn&&(!Fi||c.tag!==27)){t:{for(var y=c.return;y!==null;){if(Hp(y)){var b=y;break t}y=y.return}throw Error(s(160))}switch(b.tag){case 27:if(Fi){var w=b.stateNode,N=qu(c);Ch(c,N,w);break}case 5:var k=b.stateNode;b.flags&32&&(kh(k),b.flags&=-33);var et=qu(c);Ch(c,et,k);break;case 3:case 4:var mt=b.stateNode.containerInfo,Nt=qu(c);Gp(c,Nt,mt);break;default:throw Error(s(161))}}}catch(Zt){En(c,c.return,Zt)}c.flags&=-3}f&4096&&(c.flags&=-4097)}function qp(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var f=c;qp(f),f.tag===5&&f.flags&1024&&rv(f.stateNode),c=c.sibling}}function Pr(c,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)Cc(c,f.alternate,f),f=f.sibling}function Rc(c){for(c=c.child;c!==null;){var f=c;switch(f.tag){case 0:case 11:case 14:case 15:Do(4,f,f.return),Rc(f);break;case 1:Us(f,f.return);var y=f.stateNode;typeof y.componentWillUnmount=="function"&&Ls(f,f.return,y),Rc(f);break;case 26:case 27:case 5:Us(f,f.return),Rc(f);break;case 22:Us(f,f.return),f.memoizedState===null&&Rc(f);break;default:Rc(f)}c=c.sibling}}function No(c,f,y){for(y=y&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var b=f.alternate,w=c,N=f,k=N.flags;switch(N.tag){case 0:case 11:case 15:No(w,N,y),Xu(4,N);break;case 1:if(No(w,N,y),b=N,w=b.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(Nt){En(b,b.return,Nt)}if(b=N,w=b.updateQueue,w!==null){var et=b.stateNode;try{var mt=w.shared.hiddenCallbacks;if(mt!==null)for(w.shared.hiddenCallbacks=null,w=0;w<mt.length;w++)ct(mt[w],et)}catch(Nt){En(b,b.return,Nt)}}y&&k&64&&Y0(N),ja(N,N.return);break;case 26:case 27:case 5:No(w,N,y),y&&b===null&&k&4&&Ip(N),ja(N,N.return);break;case 12:No(w,N,y);break;case 13:No(w,N,y),y&&k&4&&wl(w,N);break;case 22:N.memoizedState===null&&No(w,N,y),ja(N,N.return);break;default:No(w,N,y)}f=f.sibling}}function Nh(c,f){var y=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),c=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(c=f.memoizedState.cachePool.pool),c!==y&&(c!=null&&c.refCount++,y!=null&&ku(y))}function Lh(c,f){c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&ku(c))}function zr(c,f,y,b){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)ya(c,f,y,b),f=f.sibling}function ya(c,f,y,b){var w=f.flags;switch(f.tag){case 0:case 11:case 15:zr(c,f,y,b),w&2048&&Xu(9,f);break;case 3:zr(c,f,y,b),w&2048&&(c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&ku(c)));break;case 12:if(w&2048){zr(c,f,y,b),c=f.stateNode;try{var N=f.memoizedProps,k=N.id,et=N.onPostCommit;typeof et=="function"&&et(k,f.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(mt){En(f,f.return,mt)}}else zr(c,f,y,b);break;case 23:break;case 22:N=f.stateNode,f.memoizedState!==null?N._visibility&4?zr(c,f,y,b):rr(c,f):N._visibility&4?zr(c,f,y,b):(N._visibility|=4,Zi(c,f,y,b,(f.subtreeFlags&10256)!==0)),w&2048&&Nh(f.alternate,f);break;case 24:zr(c,f,y,b),w&2048&&Lh(f.alternate,f);break;default:zr(c,f,y,b)}}function Zi(c,f,y,b,w){for(w=w&&(f.subtreeFlags&10256)!==0,f=f.child;f!==null;){var N=c,k=f,et=y,mt=b,Nt=k.flags;switch(k.tag){case 0:case 11:case 15:Zi(N,k,et,mt,w),Xu(8,k);break;case 23:break;case 22:var Zt=k.stateNode;k.memoizedState!==null?Zt._visibility&4?Zi(N,k,et,mt,w):rr(N,k):(Zt._visibility|=4,Zi(N,k,et,mt,w)),w&&Nt&2048&&Nh(k.alternate,k);break;case 24:Zi(N,k,et,mt,w),w&&Nt&2048&&Lh(k.alternate,k);break;default:Zi(N,k,et,mt,w)}f=f.sibling}}function rr(c,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var y=c,b=f,w=b.flags;switch(b.tag){case 22:rr(y,b),w&2048&&Nh(b.alternate,b);break;case 24:rr(y,b),w&2048&&Lh(b.alternate,b);break;default:rr(y,b)}f=f.sibling}}function Br(c){if(c.subtreeFlags&sl)for(c=c.child;c!==null;)Yu(c),c=c.sibling}function Yu(c){switch(c.tag){case 26:Br(c),c.flags&sl&&(c.memoizedState!==null?ym(fs,c.memoizedState,c.memoizedProps):nm(c.type,c.memoizedProps));break;case 5:Br(c),c.flags&sl&&nm(c.type,c.memoizedProps);break;case 3:case 4:if(ea){var f=fs;fs=Oi(c.stateNode.containerInfo),Br(c),fs=f}else Br(c);break;case 22:c.memoizedState===null&&(f=c.alternate,f!==null&&f.memoizedState!==null?(f=sl,sl=16777216,Br(c),sl=f):Br(c));break;default:Br(c)}}function Wu(c){var f=c.alternate;if(f!==null&&(c=f.child,c!==null)){f.child=null;do f=c.sibling,c.sibling=null,c=f;while(c!==null)}}function Cl(c){var f=c.deletions;if(c.flags&16){if(f!==null)for(var y=0;y<f.length;y++){var b=f[y];Re=b,Ku(b,c)}Wu(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Vr(c),c=c.sibling}function Vr(c){switch(c.tag){case 0:case 11:case 15:Cl(c),c.flags&2048&&Do(9,c,c.return);break;case 3:Cl(c);break;case 12:Cl(c);break;case 22:var f=c.stateNode;c.memoizedState!==null&&f._visibility&4&&(c.return===null||c.return.tag!==13)?(f._visibility&=-5,Zu(c)):Cl(c);break;default:Cl(c)}}function Zu(c){var f=c.deletions;if(c.flags&16){if(f!==null)for(var y=0;y<f.length;y++){var b=f[y];Re=b,Ku(b,c)}Wu(c)}for(c=c.child;c!==null;){switch(f=c,f.tag){case 0:case 11:case 15:Do(8,f,f.return),Zu(f);break;case 22:y=f.stateNode,y._visibility&4&&(y._visibility&=-5,Zu(f));break;default:Zu(f)}c=c.sibling}}function Ku(c,f){for(;Re!==null;){var y=Re;switch(y.tag){case 0:case 11:case 15:Do(8,y,f);break;case 23:case 22:if(y.memoizedState!==null&&y.memoizedState.cachePool!==null){var b=y.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:ku(y.memoizedState.cache)}if(b=y.child,b!==null)b.return=y,Re=b;else t:for(y=c;Re!==null;){b=Re;var w=b.sibling,N=b.return;if(Rh(b),b===y){Re=null;break t}if(w!==null){w.return=N,Re=w;break t}Re=N}}}function Lo(c){var f=Fh(c);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(s(364));return f}if(c=cv(c),c===null)throw Error(s(362));return c.stateNode.current}function Uh(c,f){var y=c.tag;switch(f.$$typeof){case Yn:if(c.type===f.value)return!0;break;case Ja:t:{for(f=f.value,c=[c,0],y=0;y<c.length;){var b=c[y++],w=b.tag,N=c[y++],k=f[N];if(w!==5&&w!==26&&w!==27||!hr(b)){for(;k!=null&&Uh(b,k);)N++,k=f[N];if(N===f.length){f=!0;break t}else for(b=b.child;b!==null;)c.push(b,N),b=b.sibling}}f=!1}return f;case yr:if((y===5||y===26||y===27)&&fv(c.stateNode,f.value))return!0;break;case Es:if((y===5||y===6||y===26||y===27)&&(c=uv(c),c!==null&&0<=c.indexOf(f.value)))return!0;break;case Wc:if((y===5||y===26||y===27)&&(c=c.memoizedProps["data-testname"],typeof c=="string"&&c.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function Ps(c){switch(c.$$typeof){case Yn:return"<"+(l(c.value)||"Unknown")+">";case Ja:return":has("+(Ps(c)||"")+")";case yr:return'[role="'+c.value+'"]';case Es:return'"'+c.value+'"';case Wc:return'[data-testname="'+c.value+'"]';default:throw Error(s(365))}}function Rl(c,f){var y=[];c=[c,0];for(var b=0;b<c.length;){var w=c[b++],N=w.tag,k=c[b++],et=f[k];if(N!==5&&N!==26&&N!==27||!hr(w)){for(;et!=null&&Uh(w,et);)k++,et=f[k];if(k===f.length)y.push(w);else for(w=w.child;w!==null;)c.push(w,k),w=w.sibling}}return y}function Uo(c,f){if(!Vc)throw Error(s(363));c=Lo(c),c=Rl(c,f),f=[],c=Array.from(c);for(var y=0;y<c.length;){var b=c[y++],w=b.tag;if(w===5||w===26||w===27)hr(b)||f.push(b.stateNode);else for(b=b.child;b!==null;)c.push(b),b=b.sibling}return f}function ss(){if(an&2&&rn!==0)return rn&-rn;if(Oe.T!==null){var c=qn;return c!==0?c:ce()}return nv()}function Qu(){aa===0&&(aa=!(rn&536870912)||gn?V():536870912);var c=Fs.current;return c!==null&&(c.flags|=32),aa}function Hn(c,f,y){(c===Un&&Rn===2||c.cancelPendingCommit!==null)&&(Oo(c,0),_s(c,rn,aa,!1)),X(c,y),(!(an&2)||c!==Un)&&(c===Un&&(!(an&2)&&(ao|=y),Qn===4&&_s(c,rn,aa,!1)),Qt(c))}function Js(c,f,y){if(an&6)throw Error(s(327));var b=!y&&(f&60)===0&&(f&c.expiredLanes)===0||B(c,f),w=b?W0(c,f):Ju(c,f,!0),N=b;do{if(w===0){wa&&!b&&_s(c,f,0,!1);break}else if(w===6)_s(c,f,0,!Aa);else{if(y=c.current.alternate,N&&!Fr(y)){w=Ju(c,f,!1),N=!1;continue}if(w===2){if(N=f,c.errorRecoveryDisabledLanes&N)var k=0;else k=c.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){f=k;t:{var et=c;w=Zc;var mt=Bs&&et.current.memoizedState.isDehydrated;if(mt&&(Oo(et,k).flags|=256),k=Ju(et,k,!1),k!==2){if(jl&&!mt){et.errorRecoveryDisabledLanes|=N,ao|=N,w=4;break t}N=Ra,Ra=w,N!==null&&Ir(N)}w=k}if(N=!1,w!==2)continue}}if(w===1){Oo(c,0),_s(c,f,0,!0);break}t:{switch(b=c,w){case 0:case 1:throw Error(s(345));case 4:if((f&4194176)===f){_s(b,f,aa,!Aa);break t}break;case 2:Ra=null;break;case 3:case 5:break;default:throw Error(s(329))}if(b.finishedWork=y,b.finishedLanes=f,(f&62914560)===f&&(N=Em+300-na(),10<N)){if(_s(b,f,aa,!Aa),z(b,0)!==0)break t;b.timeoutHandle=Ih(or.bind(null,b,y,Ra,Xl,sd,f,aa,ao,Ei,Aa,2,-0,0),N);break t}or(b,y,Ra,Xl,sd,f,aa,ao,Ei,Aa,0,-0,0)}}break}while(!0);Qt(c)}function Ir(c){Ra===null?Ra=c:Ra.push.apply(Ra,c)}function or(c,f,y,b,w,N,k,et,mt,Nt,Zt,re,Yt){var ke=f.subtreeFlags;if((ke&8192||(ke&16785408)===16785408)&&(TS(),Yu(f),f=av(),f!==null)){c.cancelPendingCommit=f(Oh.bind(null,c,y,b,w,k,et,mt,1,re,Yt)),_s(c,N,k,!Nt);return}Oh(c,y,b,w,k,et,mt,Zt,re,Yt)}function Fr(c){for(var f=c;;){var y=f.tag;if((y===0||y===11||y===15)&&f.flags&16384&&(y=f.updateQueue,y!==null&&(y=y.stores,y!==null)))for(var b=0;b<y.length;b++){var w=y[b],N=w.getSnapshot;w=w.value;try{if(!bs(N(),w))return!1}catch{return!1}}if(y=f.child,f.subtreeFlags&16384&&y!==null)y.return=f,f=y;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function _s(c,f,y,b){f&=~As,f&=~ao,c.suspendedLanes|=f,c.pingedLanes&=~f,b&&(c.warmLanes|=f),b=c.expirationTimes;for(var w=f;0<w;){var N=31-li(w),k=1<<N;b[N]=-1,w&=~k}y!==0&&it(c,y,f)}function Yp(){return an&6?!0:(q(0),!1)}function $u(){if(Qe!==null){if(Rn===0)var c=Qe.return;else c=Qe,Ea=il=null,Ga(c),Hl=null,us=0,c=Qe;for(;c!==null;)q0(c.alternate,c),c=c.return;Qe=null}}function Oo(c,f){c.finishedWork=null,c.finishedLanes=0;var y=c.timeoutHandle;y!==Bc&&(c.timeoutHandle=Bc,lf(y)),y=c.cancelPendingCommit,y!==null&&(c.cancelPendingCommit=null,y()),$u(),Un=c,Qe=y=Gr(c.current,null),rn=f,Rn=0,Ti=null,Aa=!1,wa=B(c,f),jl=!1,Ei=aa=As=ao=Ca=Qn=0,Ra=Zc=null,sd=!1,f&8&&(f|=f&32);var b=c.entangledLanes;if(b!==0)for(c=c.entanglements,b&=f;0<b;){var w=31-li(b),N=1<<w;f|=c[w],b&=~N}return tr=f,Y(),y}function as(c,f){He=null,Oe.H=hi,f===pf?(f=Ne(),Rn=3):f===mf?(f=Ne(),Rn=4):Rn=f===Mm?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,Ti=f,Qe===null&&(Qn=1,bc(c,_t(f,c.current)))}function Ii(){var c=Fs.current;return c===null?!0:(rn&4194176)===rn?Ma===null:(rn&62914560)===rn||rn&536870912?c===Ma:!1}function mn(){var c=Oe.H;return Oe.H=hi,c===null?hi:c}function xa(){var c=Oe.A;return Oe.A=so,c}function _a(){Qn=4,Aa||(rn&4194176)!==rn&&Fs.current!==null||(wa=!0),!(Ca&134217727)&&!(ao&134217727)||Un===null||_s(Un,rn,aa,!1)}function Ju(c,f,y){var b=an;an|=2;var w=mn(),N=xa();(Un!==c||rn!==f)&&(Xl=null,Oo(c,f)),f=!1;var k=Qn;t:do try{if(Rn!==0&&Qe!==null){var et=Qe,mt=Ti;switch(Rn){case 8:$u(),k=6;break t;case 3:case 2:case 6:Fs.current===null&&(f=!0);var Nt=Rn;if(Rn=0,Ti=null,lr(c,et,mt,Nt),y&&wa){k=0;break t}break;default:Nt=Rn,Rn=0,Ti=null,lr(c,et,mt,Nt)}}Dl(),k=Qn;break}catch(Zt){as(c,Zt)}while(!0);return f&&c.shellSuspendCounter++,Ea=il=null,an=b,Oe.H=w,Oe.A=N,Qe===null&&(Un=null,rn=0,Y()),k}function Dl(){for(;Qe!==null;)Dc(Qe)}function W0(c,f){var y=an;an|=2;var b=mn(),w=xa();Un!==c||rn!==f?(Xl=null,ra=na()+500,Oo(c,f)):wa=B(c,f);t:do try{if(Rn!==0&&Qe!==null){f=Qe;var N=Ti;e:switch(Rn){case 1:Rn=0,Ti=null,lr(c,f,N,1);break;case 2:if(Pt(N)){Rn=0,Ti=null,Nc(f);break}f=function(){Rn===2&&Un===c&&(Rn=7),Qt(c)},N.then(f,f);break t;case 3:Rn=7;break t;case 4:Rn=5;break t;case 7:Pt(N)?(Rn=0,Ti=null,Nc(f)):(Rn=0,Ti=null,lr(c,f,N,7));break;case 5:var k=null;switch(Qe.tag){case 26:k=Qe.memoizedState;case 5:case 27:var et=Qe,mt=et.type,Nt=et.pendingProps;if(k?vm(k):em(mt,Nt)){Rn=0,Ti=null;var Zt=et.sibling;if(Zt!==null)Qe=Zt;else{var re=et.return;re!==null?(Qe=re,Po(re)):Qe=null}break e}}Rn=0,Ti=null,lr(c,f,N,5);break;case 6:Rn=0,Ti=null,lr(c,f,N,6);break;case 8:$u(),Qn=6;break t;default:throw Error(s(462))}}Z0();break}catch(Yt){as(c,Yt)}while(!0);return Ea=il=null,Oe.H=b,Oe.A=w,an=y,Qe!==null?0:(Un=null,rn=0,Y(),Qn)}function Z0(){for(;Qe!==null&&!Zo();)Dc(Qe)}function Dc(c){var f=k0(c.alternate,c,tr);c.memoizedProps=c.pendingProps,f===null?Po(c):Qe=f}function Nc(c){var f=c,y=f.alternate;switch(f.tag){case 15:case 0:f=B0(y,f,f.pendingProps,f.type,void 0,rn);break;case 11:f=B0(y,f,f.pendingProps,f.type.render,f.ref,rn);break;case 5:Ga(f);default:q0(y,f),f=Qe=Nl(f,tr),f=k0(y,f,tr)}c.memoizedProps=c.pendingProps,f===null?Po(c):Qe=f}function lr(c,f,y,b){Ea=il=null,Ga(f),Hl=null,us=0;var w=f.return;try{if(vS(c,w,f,y,rn)){Qn=1,bc(c,_t(y,c.current)),Qe=null;return}}catch(N){if(w!==null)throw Qe=w,N;Qn=1,bc(c,_t(y,c.current)),Qe=null;return}f.flags&32768?(gn||b===1?c=!0:wa||rn&536870912?c=!1:(Aa=c=!0,(b===2||b===3||b===6)&&(b=Fs.current,b!==null&&b.tag===13&&(b.flags|=16384))),Wp(f,c)):Po(f)}function Po(c){var f=c;do{if(f.flags&32768){Wp(f,Aa);return}c=f.return;var y=X0(f.alternate,f,tr);if(y!==null){Qe=y;return}if(f=f.sibling,f!==null){Qe=f;return}Qe=f=c}while(f!==null);Qn===0&&(Qn=5)}function Wp(c,f){do{var y=xS(c.alternate,c);if(y!==null){y.flags&=32767,Qe=y;return}if(y=c.return,y!==null&&(y.flags|=32768,y.subtreeFlags=0,y.deletions=null),!f&&(c=c.sibling,c!==null)){Qe=c;return}Qe=c=y}while(c!==null);Qn=6,Qe=null}function Oh(c,f,y,b,w,N,k,et,mt,Nt){var Zt=Oe.T,re=qo();try{Ss(2),Oe.T=null,K0(c,f,y,b,re,w,N,k,et,mt,Nt)}finally{Oe.T=Zt,Ss(re)}}function K0(c,f,y,b,w,N,k,et){do zo();while(al!==null);if(an&6)throw Error(s(327));var mt=c.finishedWork;if(b=c.finishedLanes,mt===null)return null;if(c.finishedWork=null,c.finishedLanes=0,mt===c.current)throw Error(s(177));c.callbackNode=null,c.callbackPriority=0,c.cancelPendingCommit=null;var Nt=mt.lanes|mt.childLanes;if(Nt|=Ka,pt(c,b,Nt,N,k,et),c===Un&&(Qe=Un=null,rn=0),!(mt.subtreeFlags&10256)&&!(mt.flags&10256)||ro||(ro=!0,ad=Nt,xf=y,Q0(Hc,function(){return zo(),null})),y=(mt.flags&15990)!==0,mt.subtreeFlags&15990||y?(y=Oe.T,Oe.T=null,N=qo(),Ss(2),k=an,an|=4,kp(c,mt),Xp(mt,c),MS(c.containerInfo),c.current=mt,Cc(c,mt.alternate,mt),Kr(),an=k,Ss(N),Oe.T=y):c.current=mt,ro?(ro=!1,al=c,Kc=b):tf(c,Nt),Nt=c.pendingLanes,Nt===0&&(_r=null),J(mt.stateNode),Qt(c),f!==null)for(w=c.onRecoverableError,mt=0;mt<f.length;mt++)Nt=f[mt],w(Nt.value,{componentStack:Nt.stack});return Kc&3&&zo(),Nt=c.pendingLanes,b&4194218&&Nt&42?c===Am?ql++:(ql=0,Am=c):ql=0,q(0),null}function tf(c,f){(c.pooledCacheLanes&=f)===0&&(f=c.pooledCache,f!=null&&(c.pooledCache=null,ku(f)))}function zo(){if(al!==null){var c=al,f=ad;ad=0;var y=lt(Kc),b=32>y?32:y;y=Oe.T;var w=qo();try{if(Ss(b),Oe.T=null,al===null)var N=!1;else{b=xf,xf=null;var k=al,et=Kc;if(al=null,Kc=0,an&6)throw Error(s(331));var mt=an;if(an|=4,Vr(k.current),ya(k,k.current,et,b),an=mt,q(0,!1),bi&&typeof bi.onPostCommitFiberRoot=="function")try{bi.onPostCommitFiberRoot(Gc,k)}catch{}N=!0}return N}finally{Ss(w),Oe.T=y,tf(c,f)}}return!1}function Lc(c,f,y){f=_t(y,f),f=Tc(c.stateNode,f,2),c=ve(c,f,2),c!==null&&(X(c,2),Qt(c))}function En(c,f,y){if(c.tag===3)Lc(c,c,y);else for(;f!==null;){if(f.tag===3){Lc(f,c,y);break}else if(f.tag===1){var b=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(_r===null||!_r.has(b))){c=_t(y,c),y=Dp(2),b=ve(f,y,2),b!==null&&(L0(y,b,f,c),X(b,2),Qt(b));break}}f=f.return}}function Bo(c,f,y){var b=c.pingCache;if(b===null){b=c.pingCache=new yf;var w=new Set;b.set(f,w)}else w=b.get(f),w===void 0&&(w=new Set,b.set(f,w));w.has(y)||(jl=!0,w.add(y),c=ef.bind(null,c,f,y),f.then(c,c))}function ef(c,f,y){var b=c.pingCache;b!==null&&b.delete(f),c.pingedLanes|=c.suspendedLanes&y,c.warmLanes&=~y,Un===c&&(rn&y)===y&&(Qn===4||Qn===3&&(rn&62914560)===rn&&300>na()-Em?!(an&2)&&Oo(c,0):As|=y,Ei===rn&&(Ei=0)),Qt(c)}function nf(c,f){f===0&&(f=U()),c=$t(c,f),c!==null&&(X(c,f),Qt(c))}function sf(c){var f=c.memoizedState,y=0;f!==null&&(y=f.retryLane),nf(c,y)}function Ph(c,f){var y=0;switch(c.tag){case 13:var b=c.stateNode,w=c.memoizedState;w!==null&&(y=w.retryLane);break;case 19:b=c.stateNode;break;case 22:b=c.stateNode._retryCache;break;default:throw Error(s(314))}b!==null&&b.delete(f),nf(c,y)}function Q0(c,f){return pr(c,f)}function $0(c,f,y,b){this.tag=c,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hr(c){return c=c.prototype,!(!c||!c.isReactComponent)}function Gr(c,f){var y=c.alternate;return y===null?(y=e(c.tag,f,c.key,c.mode),y.elementType=c.elementType,y.type=c.type,y.stateNode=c.stateNode,y.alternate=c,c.alternate=y):(y.pendingProps=f,y.type=c.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=c.flags&31457280,y.childLanes=c.childLanes,y.lanes=c.lanes,y.child=c.child,y.memoizedProps=c.memoizedProps,y.memoizedState=c.memoizedState,y.updateQueue=c.updateQueue,f=c.dependencies,y.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},y.sibling=c.sibling,y.index=c.index,y.ref=c.ref,y.refCleanup=c.refCleanup,y}function Nl(c,f){c.flags&=31457282;var y=c.alternate;return y===null?(c.childLanes=0,c.lanes=f,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=y.childLanes,c.lanes=y.lanes,c.child=y.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=y.memoizedProps,c.memoizedState=y.memoizedState,c.updateQueue=y.updateQueue,c.type=y.type,f=y.dependencies,c.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),c}function Ll(c,f,y,b,w,N){var k=0;if(b=c,typeof c=="function")Hr(c)&&(k=1);else if(typeof c=="string")k=ea&&Fi?Ui(c,y,ci.current)?26:Zh(c)?27:5:ea?Ui(c,y,ci.current)?26:5:Fi&&Zh(c)?27:5;else t:switch(c){case Fo:return Vo(y.children,w,N,f);case Ul:k=8,w|=24;break;case Ho:return c=e(12,y,f,w|2),c.elementType=Ho,c.lanes=N,c;case Xr:return c=e(13,y,f,w),c.elementType=Xr,c.lanes=N,c;case rf:return c=e(19,y,f,w),c.elementType=rf,c.lanes=N,c;case Yr:return zh(y,w,N,f);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case SS:case Go:k=10;break t;case Qp:k=9;break t;case Bh:k=11;break t;case Oc:k=14;break t;case qr:k=16,b=null;break t}k=29,y=Error(s(130,c===null?"null":typeof c,"")),b=null}return f=e(k,y,f,w),f.elementType=c,f.type=b,f.lanes=N,f}function Vo(c,f,y,b){return c=e(7,c,b,f),c.lanes=y,c}function zh(c,f,y,b){c=e(22,c,b,f),c.elementType=Yr,c.lanes=y;var w={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var N=w._current;if(N===null)throw Error(s(456));if(!(w._pendingVisibility&2)){var k=$t(N,2);k!==null&&(w._pendingVisibility|=2,Hn(k,N,2))}},attach:function(){var N=w._current;if(N===null)throw Error(s(456));if(w._pendingVisibility&2){var k=$t(N,2);k!==null&&(w._pendingVisibility&=-3,Hn(k,N,2))}}};return c.stateNode=w,c}function af(c,f,y){return c=e(6,c,null,f),c.lanes=y,c}function zs(c,f,y){return f=e(4,c.children!==null?c.children:[],c.key,f),f.lanes=y,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}function cr(c,f,y,b,w,N,k,et){this.tag=1,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Bc,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=P(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=P(0),this.hiddenUpdates=P(null),this.identifierPrefix=b,this.onUncaughtError=w,this.onCaughtError=N,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=et,this.incompleteTransitions=new Map}function kr(c,f,y,b,w,N,k,et,mt,Nt,Zt,re){return c=new cr(c,f,y,k,et,mt,Nt,re),f=1,N===!0&&(f|=24),N=e(3,null,null,f),c.current=N,N.stateNode=c,f=Ro(),f.refCount++,c.pooledCache=f,f.refCount++,N.memoizedState={element:b,isDehydrated:y,cache:f},Wt(N),c}function Zp(c){return c?(c=Il,c):Il}function jr(c){var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(s(188)):(c=Object.keys(c).join(","),Error(s(268,c)));return c=_(f),c=c!==null?T(c):null,c===null?null:Ol(c.stateNode)}function ur(c,f,y,b,w,N){w=Zp(w),b.context===null?b.context=w:b.pendingContext=w,b=xe(f),b.payload={element:y},N=N===void 0?null:N,N!==null&&(b.callback=N),y=ve(c,b,f),y!==null&&(Hn(y,c,f),he(y,c,f))}function _i(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var y=c.retryLane;c.retryLane=y!==0&&y<f?y:f}}function Uc(c,f){_i(c,f),(c=c.alternate)&&_i(c,f)}var sn={},_S=up(),ta=ZM(),ri=Object.assign,Kp=Symbol.for("react.element"),Io=Symbol.for("react.transitional.element"),fr=Symbol.for("react.portal"),Fo=Symbol.for("react.fragment"),Ul=Symbol.for("react.strict_mode"),Ho=Symbol.for("react.profiler"),SS=Symbol.for("react.provider"),Qp=Symbol.for("react.consumer"),Go=Symbol.for("react.context"),Bh=Symbol.for("react.forward_ref"),Xr=Symbol.for("react.suspense"),rf=Symbol.for("react.suspense_list"),Oc=Symbol.for("react.memo"),qr=Symbol.for("react.lazy"),Yr=Symbol.for("react.offscreen"),Ke=Symbol.for("react.memo_cache_sentinel"),Cn=Symbol.iterator,Si=Symbol.for("react.client.reference"),Oe=_S.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ko,jo,Pc=!1,Xo=Array.isArray,zc=t.rendererVersion,bS=t.rendererPackageName,ii=t.extraDevToolsConfig,Ol=t.getPublicInstance,$p=t.getRootHostContext,J0=t.getChildHostContext,tv=t.prepareForCommit,MS=t.resetAfterCommit,Jp=t.createInstance,of=t.appendInitialChild,Vh=t.finalizeInitialChildren,Ki=t.shouldSetTextContent,oi=t.createTextInstance,Ih=t.scheduleTimeout,lf=t.cancelTimeout,Bc=t.noTimeout,Xa=t.isPrimaryRenderer;t.warnsIfNotActing;var Zn=t.supportsMutation,qa=t.supportsPersistence,Bs=t.supportsHydration,Fh=t.getInstanceFromNode;t.beforeActiveInstanceBlur,t.afterActiveInstanceBlur;var ev=t.preparePortalMount;t.prepareScopeUpdate,t.getInstanceFromScope;var Ss=t.setCurrentUpdatePriority,qo=t.getCurrentUpdatePriority,nv=t.resolveUpdatePriority;t.resolveEventType,t.resolveEventTimeStamp;var iv=t.shouldAttemptEagerTransition,sv=t.detachDeletedInstance;t.requestPostPaintCallback;var tm=t.maySuspendCommit,em=t.preloadInstance,TS=t.startSuspendingCommit,nm=t.suspendInstance,av=t.waitForCommitToBeReady,Pl=t.NotPendingTransition,Wr=t.HostTransitionContext,rv=t.resetFormInstance;t.bindToConsole;var ov=t.supportsMicrotasks,lv=t.scheduleMicrotask,Vc=t.supportsTestSelectors,cv=t.findFiberRoot,ES=t.getBoundingRect,uv=t.getTextContent,hr=t.isHiddenSubtree,fv=t.matchAccessibilityRole,Hh=t.setFocusIfFocusable,Gh=t.setupIntersectionObserver,hv=t.appendChild,im=t.appendChildToContainer,dv=t.commitTextUpdate,pv=t.commitMount,mv=t.commitUpdate,gv=t.insertBefore,sm=t.insertInContainerBefore,vv=t.removeChild,yv=t.removeChildFromContainer,kh=t.resetTextContent,xv=t.hideInstance,_v=t.hideTextInstance,AS=t.unhideInstance,am=t.unhideTextInstance,Sv=t.clearContainer,bv=t.cloneInstance,jh=t.createContainerChildSet,rm=t.appendChildToContainerChildSet,Mv=t.finalizeContainerChildren,Tv=t.replaceContainerChildren,Ev=t.cloneHiddenInstance,om=t.cloneHiddenTextInstance,zl=t.isSuspenseInstancePending,cf=t.isSuspenseInstanceFallback,Xh=t.getSuspenseInstanceFallbackErrorDetails,Av=t.registerSuspenseInstanceRetry,wv=t.canHydrateFormStateMarker,dr=t.isFormStateMarkerMatching,Yo=t.getNextHydratableSibling,Zr=t.getFirstHydratableChild,Bl=t.getFirstHydratableChildWithinContainer,lm=t.getFirstHydratableChildWithinSuspenseInstance,cm=t.canHydrateInstance,Cv=t.canHydrateTextInstance,Rv=t.canHydrateSuspenseInstance,Vl=t.hydrateInstance,qh=t.hydrateTextInstance,Dv=t.hydrateSuspenseInstance,Nv=t.getNextHydratableInstanceAfterSuspenseInstance,Lv=t.commitHydratedContainer,Yh=t.commitHydratedSuspenseInstance,Uv=t.clearSuspenseBoundary,um=t.clearSuspenseBoundaryFromContainer,fm=t.shouldDeleteUnhydratedTailInstances;t.diffHydratedPropsForDevWarnings,t.diffHydratedTextForDevWarnings,t.describeHydratableInstanceForDevWarnings;var Ov=t.validateHydratableInstance,wS=t.validateHydratableTextInstance,ea=t.supportsResources,Ui=t.isHostHoistableType,Oi=t.getHoistableRoot,hm=t.getResource,dm=t.acquireResource,pm=t.releaseResource,Pv=t.hydrateHoistable,mm=t.mountHoistable,Ic=t.unmountHoistable,gm=t.createHoistableInstance,zv=t.prepareToCommitHoistables,Bv=t.mayResourceSuspendCommit,vm=t.preloadResource,ym=t.suspendResource,Fi=t.supportsSingletons,Wh=t.resolveSingletonInstance,Vv=t.clearSingleton,xm=t.acquireSingletonInstance,_m=t.releaseSingletonInstance,Zh=t.isHostSingletonType,Kh=[],Wo=-1,Il={},li=Math.clz32?Math.clz32:D,Sm=Math.log,CS=Math.LN2,uf=128,Fc=4194304,pr=ta.unstable_scheduleCallback,Ya=ta.unstable_cancelCallback,Zo=ta.unstable_shouldYield,Kr=ta.unstable_requestPaint,na=ta.unstable_now,Qh=ta.unstable_ImmediatePriority,ff=ta.unstable_UserBlockingPriority,Hc=ta.unstable_NormalPriority,Fl=ta.unstable_IdlePriority,rs=ta.log,$h=ta.unstable_setDisableYieldValue,Gc=null,bi=null,bs=typeof Object.is=="function"?Object.is:Q,Jh=new WeakMap,ia=[],sa=0,Ko=null,kc=0,Vs=[],os=0,Wa=null,mr=1,gr="",ci=E(null),Sa=E(null),Qr=E(null),hf=E(null),ui=null,Nn=null,gn=!1,ba=null,Za=!1,df=Error(s(519)),Is=[],$r=0,Ka=0,Xn=null,Qo=null,td=!1,fi=!1,ed=!1,jc=0,Xc=null,nd=0,qn=0,Hi=null,ls=!1,id=!1,Iv=Object.prototype.hasOwnProperty,pf=Error(s(460)),mf=Error(s(474)),Ms={then:function(){}},cs=null,Hl=null,us=0,$o=es(!0),vr=es(!1),Qa=E(null),$a=E(0),Fs=E(null),Ma=null,Gn=E(0),Jr=0,He=null,_n=null,Kn=null,to=!1,Gl=!1,Jo=!1,tl=0,qc=0,eo=null,Fv=0,bm=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},hi={readContext:Wi,use:gt,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useLayoutEffect:Ze,useInsertionEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useSyncExternalStore:Ze,useId:Ze};hi.useCacheRefresh=Ze,hi.useMemoCache=Ze,hi.useHostTransitionStatus=Ze,hi.useFormState=Ze,hi.useActionState=Ze,hi.useOptimistic=Ze;var no={readContext:Wi,use:gt,useCallback:function(c,f){return H().memoizedState=[c,f===void 0?null:f],c},useContext:Wi,useEffect:Ap,useImperativeHandle:function(c,f,y){y=y!=null?y.concat([c]):null,gh(4194308,4,Uu.bind(null,f,c),y)},useLayoutEffect:function(c,f){return gh(4194308,4,c,f)},useInsertionEffect:function(c,f){gh(4,2,c,f)},useMemo:function(c,f){var y=H();f=f===void 0?null:f;var b=c();if(Jo){tt(!0);try{c()}finally{tt(!1)}}return y.memoizedState=[b,f],b},useReducer:function(c,f,y){var b=H();if(y!==void 0){var w=y(f);if(Jo){tt(!0);try{y(f)}finally{tt(!1)}}}else w=f;return b.memoizedState=b.baseState=w,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:w},b.queue=c,c=c.dispatch=_h.bind(null,He,c),[b.memoizedState,c]},useRef:function(c){var f=H();return c={current:c},f.memoizedState=c},useState:function(c){c=dn(c);var f=c.queue,y=Rp.bind(null,He,f);return f.dispatch=y,[c.memoizedState,y]},useDebugValue:Ou,useDeferredValue:function(c,f){var y=H();return yh(y,c,f)},useTransition:function(){var c=dn(!1);return c=wp.bind(null,He,c.queue,!0,!1),H().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,f,y){var b=He,w=H();if(gn){if(y===void 0)throw Error(s(407));y=y()}else{if(y=f(),Un===null)throw Error(s(349));rn&60||Ue(b,f,y)}w.memoizedState=y;var N={value:y,getSnapshot:f};return w.queue=N,Ap(on.bind(null,b,N,c),[c]),b.flags|=2048,ka(9,Ae.bind(null,b,N,y,f),{destroy:void 0},null),y},useId:function(){var c=H(),f=Un.identifierPrefix;if(gn){var y=gr,b=mr;y=(b&~(1<<32-li(b)-1)).toString(32)+y,f=":"+f+"R"+y,y=tl++,0<y&&(f+="H"+y.toString(32)),f+=":"}else y=Fv++,f=":"+f+"r"+y.toString(32)+":";return c.memoizedState=f},useCacheRefresh:function(){return H().memoizedState=Cp.bind(null,He)}};no.useMemoCache=ft,no.useHostTransitionStatus=Pu,no.useFormState=wn,no.useActionState=wn,no.useOptimistic=function(c){var f=H();f.memoizedState=f.baseState=c;var y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=y,f=xc.bind(null,He,!0,y),y.dispatch=f,[c,f]};var Ts={readContext:Wi,use:gt,useCallback:bl,useContext:Wi,useEffect:Lu,useImperativeHandle:vh,useInsertionEffect:R0,useLayoutEffect:D0,useMemo:Ml,useReducer:Jt,useRef:ys,useState:function(){return Jt(Gt)},useDebugValue:Ou,useDeferredValue:function(c,f){var y=rt();return xh(y,_n.memoizedState,c,f)},useTransition:function(){var c=Jt(Gt)[0],f=rt().memoizedState;return[typeof c=="boolean"?c:xt(c),f]},useSyncExternalStore:Le,useId:yc};Ts.useCacheRefresh=Dr,Ts.useMemoCache=ft,Ts.useHostTransitionStatus=Pu,Ts.useFormState=is,Ts.useActionState=is,Ts.useOptimistic=function(c,f){var y=rt();return Be(y,_n,c,f)};var el={readContext:Wi,use:gt,useCallback:bl,useContext:Wi,useEffect:Lu,useImperativeHandle:vh,useInsertionEffect:R0,useLayoutEffect:D0,useMemo:Ml,useReducer:se,useRef:ys,useState:function(){return se(Gt)},useDebugValue:Ou,useDeferredValue:function(c,f){var y=rt();return _n===null?yh(y,c,f):xh(y,_n.memoizedState,c,f)},useTransition:function(){var c=se(Gt)[0],f=rt().memoizedState;return[typeof c=="boolean"?c:xt(c),f]},useSyncExternalStore:Le,useId:yc};el.useCacheRefresh=Dr,el.useMemoCache=ft,el.useHostTransitionStatus=Pu,el.useFormState=Vi,el.useActionState=Vi,el.useOptimistic=function(c,f){var y=rt();return _n!==null?Be(y,_n,c,f):(y.baseState=c,[c,y.queue.dispatch])};var Yc={isMounted:function(c){return(c=c._reactInternals)?v(c)===c:!1},enqueueSetState:function(c,f,y){c=c._reactInternals;var b=ss(),w=xe(b);w.payload=f,y!=null&&(w.callback=y),f=ve(c,w,b),f!==null&&(Hn(f,c,b),he(f,c,b))},enqueueReplaceState:function(c,f,y){c=c._reactInternals;var b=ss(),w=xe(b);w.tag=1,w.payload=f,y!=null&&(w.callback=y),f=ve(c,w,b),f!==null&&(Hn(f,c,b),he(f,c,b))},enqueueForceUpdate:function(c,f){c=c._reactInternals;var y=ss(),b=xe(y);b.tag=2,f!=null&&(b.callback=f),f=ve(c,b,y),f!==null&&(Hn(f,c,y),he(f,c,y))}},nl=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},Mm=Error(s(461)),Mi=!1,gf={dehydrated:null,treeContext:null,retryLane:0},Ta=E(null),il=null,Ea=null,vf=typeof AbortController<"u"?AbortController:function(){var c=[],f=this.signal={aborted:!1,addEventListener:function(y,b){c.push(b)}};this.abort=function(){f.aborted=!0,c.forEach(function(y){return y()})}},ti=ta.unstable_scheduleCallback,RS=ta.unstable_NormalPriority,si={$$typeof:Go,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Tm=Oe.S;Oe.S=function(c,f){typeof f=="object"&&f!==null&&typeof f.then=="function"&&ee(c,f),Tm!==null&&Tm(c,f)};var kl=E(null),io=!1,Ge=!1,Ln=!1,en=typeof WeakSet=="function"?WeakSet:Set,Re=null,zn=!1,Sn=null,di=!1,fs=null,sl=8192,so={getCacheForType:function(c){var f=Wi(si),y=f.data.get(c);return y===void 0&&(y=c(),f.data.set(c,y)),y}},Yn=0,Ja=1,yr=2,Wc=3,Es=4;if(typeof Symbol=="function"&&Symbol.for){var xr=Symbol.for;Yn=xr("selector.component"),Ja=xr("selector.has_pseudo_class"),yr=xr("selector.role"),Wc=xr("selector.test_id"),Es=xr("selector.text")}var yf=typeof WeakMap=="function"?WeakMap:Map,an=0,Un=null,Qe=null,rn=0,Rn=0,Ti=null,Aa=!1,wa=!1,jl=!1,tr=0,Qn=0,Ca=0,ao=0,As=0,aa=0,Ei=0,Zc=null,Ra=null,sd=!1,Em=0,ra=1/0,Xl=null,_r=null,ro=!1,al=null,Kc=0,ad=0,xf=null,ql=0,Am=null;return sn.attemptContinuousHydration=function(c){if(c.tag===13){var f=$t(c,67108864);f!==null&&Hn(f,c,67108864),Uc(c,67108864)}},sn.attemptHydrationAtCurrentPriority=function(c){if(c.tag===13){var f=ss(),y=$t(c,f);y!==null&&Hn(y,c,f),Uc(c,f)}},sn.attemptSynchronousHydration=function(c){switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var f=L(c.pendingLanes);if(f!==0){for(c.pendingLanes|=2,c.entangledLanes|=2;f;){var y=1<<31-li(f);c.entanglements[1]|=y,f&=~y}Qt(c),!(an&6)&&(ra=na()+500,q(0))}}break;case 13:f=$t(c,2),f!==null&&Hn(f,c,2),Yp(),Uc(c,2)}},sn.batchedUpdates=function(c,f){return c(f)},sn.createComponentSelector=function(c){return{$$typeof:Yn,value:c}},sn.createContainer=function(c,f,y,b,w,N,k,et,mt,Nt){return kr(c,f,!1,null,y,b,N,k,et,mt,Nt,null)},sn.createHasPseudoClassSelector=function(c){return{$$typeof:Ja,value:c}},sn.createHydrationContainer=function(c,f,y,b,w,N,k,et,mt,Nt,Zt,re,Yt){return c=kr(y,b,!0,c,w,N,et,mt,Nt,Zt,re,Yt),c.context=Zp(null),y=c.current,b=ss(),w=xe(b),w.callback=f??null,ve(y,w,b),c.current.lanes=b,X(c,b),Qt(c),c},sn.createPortal=function(c,f,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fr,key:b==null?null:""+b,children:c,containerInfo:f,implementation:y}},sn.createRoleSelector=function(c){return{$$typeof:yr,value:c}},sn.createTestNameSelector=function(c){return{$$typeof:Wc,value:c}},sn.createTextSelector=function(c){return{$$typeof:Es,value:c}},sn.defaultOnCaughtError=function(c){console.error(c)},sn.defaultOnRecoverableError=function(c){nl(c)},sn.defaultOnUncaughtError=function(c){nl(c)},sn.deferredUpdates=function(c){var f=Oe.T,y=qo();try{return Ss(32),Oe.T=null,c()}finally{Ss(y),Oe.T=f}},sn.discreteUpdates=function(c,f,y,b,w){var N=Oe.T,k=qo();try{return Ss(2),Oe.T=null,c(f,y,b,w)}finally{Ss(k),Oe.T=N,an===0&&(ra=na()+500)}},sn.findAllNodes=Uo,sn.findBoundingRects=function(c,f){if(!Vc)throw Error(s(363));f=Uo(c,f),c=[];for(var y=0;y<f.length;y++)c.push(ES(f[y]));for(f=c.length-1;0<f;f--){y=c[f];for(var b=y.x,w=b+y.width,N=y.y,k=N+y.height,et=f-1;0<=et;et--)if(f!==et){var mt=c[et],Nt=mt.x,Zt=Nt+mt.width,re=mt.y,Yt=re+mt.height;if(b>=Nt&&N>=re&&w<=Zt&&k<=Yt){c.splice(f,1);break}else if(b!==Nt||y.width!==mt.width||Yt<N||re>k){if(!(N!==re||y.height!==mt.height||Zt<b||Nt>w)){Nt>b&&(mt.width+=Nt-b,mt.x=b),Zt<w&&(mt.width=w-Nt),c.splice(f,1);break}}else{re>N&&(mt.height+=re-N,mt.y=N),Yt<k&&(mt.height=k-re),c.splice(f,1);break}}}return c},sn.findHostInstance=jr,sn.findHostInstanceWithNoPortals=function(c){return c=_(c),c=c!==null?C(c):null,c===null?null:Ol(c.stateNode)},sn.findHostInstanceWithWarning=function(c){return jr(c)},sn.flushPassiveEffects=zo,sn.flushSyncFromReconciler=function(c){var f=an;an|=1;var y=Oe.T,b=qo();try{if(Ss(2),Oe.T=null,c)return c()}finally{Ss(b),Oe.T=y,an=f,!(an&6)&&q(0)}},sn.flushSyncWork=Yp,sn.focusWithin=function(c,f){if(!Vc)throw Error(s(363));for(c=Lo(c),f=Rl(c,f),f=Array.from(f),c=0;c<f.length;){var y=f[c++],b=y.tag;if(!hr(y)){if((b===5||b===26||b===27)&&Hh(y.stateNode))return!0;for(y=y.child;y!==null;)f.push(y),y=y.sibling}}return!1},sn.getFindAllNodesFailureDescription=function(c,f){if(!Vc)throw Error(s(363));var y=0,b=[];c=[Lo(c),0];for(var w=0;w<c.length;){var N=c[w++],k=N.tag,et=c[w++],mt=f[et];if((k!==5&&k!==26&&k!==27||!hr(N))&&(Uh(N,mt)&&(b.push(Ps(mt)),et++,et>y&&(y=et)),et<f.length))for(N=N.child;N!==null;)c.push(N,et),N=N.sibling}if(y<f.length){for(c=[];y<f.length;y++)c.push(Ps(f[y]));return`findAllNodes was able to match part of the selector:
  `+(b.join(" > ")+`

No matching component was found for:
  `)+c.join(" > ")}return null},sn.getPublicRootInstance=function(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 27:case 5:return Ol(c.child.stateNode);default:return c.child.stateNode}},sn.injectIntoDevTools=function(){var c={bundleType:0,version:zc,rendererPackageName:bS,currentDispatcherRef:Oe,findFiberByHostInstance:Fh,reconcilerVersion:"19.0.0"};if(ii!==null&&(c.rendererConfig=ii),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")c=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)c=!0;else{try{Gc=f.inject(c),bi=f}catch{}c=!!f.checkDCE}}return c},sn.isAlreadyRendering=function(){return!1},sn.observeVisibleRects=function(c,f,y,b){if(!Vc)throw Error(s(363));c=Uo(c,f);var w=Gh(c,y,b).disconnect;return{disconnect:function(){w()}}},sn.shouldError=function(){return null},sn.shouldSuspend=function(){return!1},sn.startHostTransition=function(c,f,y,b){if(c.tag!==5)throw Error(s(476));var w=vc(c).queue;wp(c,w,f,Pl,y===null?i:function(){var N=vc(c).next.queue;return Eo(c,N,{},ss()),y(b)})},sn.updateContainer=function(c,f,y,b){var w=f.current,N=ss();return ur(w,N,c,f,y,b),N},sn.updateContainerSync=function(c,f,y,b){return f.tag===0&&zo(),ur(f.current,2,c,f,y,b),2},sn},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})}(Q1)),Q1.exports}var VC;function gG(){return VC||(VC=1,K1.exports=mG()),K1.exports}var vG=gG();const yG=r0(vG);var IC=ZM();function VT(n,t,e){if(!n)return;if(e(n)===!0)return n;let i=t?n.return:n.child;for(;i;){const s=VT(i,t,e);if(s)return s;i=t?null:i.sibling}}function tL(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const IT=tL(Z.createContext(null));class eL extends Z.Component{render(){return Z.createElement(IT.Provider,{value:this._reactInternals},this.props.children)}}function nL(){const n=Z.useContext(IT);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=Z.useId();return Z.useMemo(()=>{for(const e of[n,n==null?void 0:n.alternate]){if(!e)continue;const i=VT(e,!1,s=>{let r=s.memoizedState;for(;r;){if(r.memoizedState===t)return!0;r=r.next}});if(i)return i}},[n,t])}const xG=Symbol.for("react.context"),_G=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===xG;function SG(){const n=nL(),[t]=Z.useState(()=>new Map);t.clear();let e=n;for(;e;){const i=e.type;_G(i)&&i!==IT&&!t.has(i)&&t.set(i,Z.use(tL(i))),e=e.return}return t}function bG(){const n=SG();return Z.useMemo(()=>Array.from(n.keys()).reduce((t,e)=>i=>Z.createElement(t,null,Z.createElement(e.Provider,{...i,value:n.get(e)})),t=>Z.createElement(eL,{...t})),[n])}function iL(n){let t=n.root;for(;t.getState().previousRoot;)t=t.getState().previousRoot;return t}const sL=n=>n&&n.isOrthographicCamera,MG=n=>n&&n.hasOwnProperty("current"),TG=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),v0=((n,t)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((t=window.navigator)==null?void 0:t.product)==="ReactNative"))()?Z.useLayoutEffect:Z.useEffect;function aL(n){const t=Z.useRef(n);return v0(()=>void(t.current=n),[n]),t}function EG(){const n=nL(),t=bG();return Z.useMemo(()=>({children:e})=>{const s=!!VT(n,!0,r=>r.type===Z.StrictMode)?Z.StrictMode:Z.Fragment;return nt.jsx(s,{children:nt.jsx(t,{children:e})})},[n,t])}function AG({set:n}){return v0(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const wG=(n=>(n=class extends Z.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function rL(n){var t;const e=typeof window<"u"?(t=window.devicePixelRatio)!=null?t:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],e),n[1]):n}function Cd(n){var t;return(t=n.__r3f)==null?void 0:t.root.getState()}const pi={obj:n=>n===Object(n)&&!pi.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,t,{arrays:e="shallow",objects:i="reference",strict:s=!0}={}){if(typeof n!=typeof t||!!n!=!!t)return!1;if(pi.str(n)||pi.num(n)||pi.boo(n))return n===t;const r=pi.obj(n);if(r&&i==="reference")return n===t;const l=pi.arr(n);if(l&&e==="reference")return n===t;if((l||r)&&n===t)return!0;let u;for(u in n)if(!(u in t))return!1;if(r&&e==="shallow"&&i==="shallow"){for(u in s?t:n)if(!pi.equ(n[u],t[u],{strict:s,objects:"reference"}))return!1}else for(u in s?t:n)if(n[u]!==t[u])return!1;if(pi.und(u)){if(l&&n.length===0&&t.length===0||r&&Object.keys(n).length===0&&Object.keys(t).length===0)return!0;if(n!==t)return!1}return!0}};function CG(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const t in n){const e=n[t];(e==null?void 0:e.type)!=="Scene"&&(e==null||e.dispose==null||e.dispose())}}const oL=["children","key","ref"];function RG(n){const t={};for(const e in n)oL.includes(e)||(t[e]=n[e]);return t}function o_(n,t,e,i){const s=n;let r=s==null?void 0:s.__r3f;return r||(r={root:t,type:e,parent:null,children:[],props:RG(i),object:s,eventCount:0,handlers:{},isHidden:!1},s&&(s.__r3f=r)),r}function qg(n,t){var e;let i=n[t];if(!t.includes("-"))return{root:n,key:t,target:i};const s=t.split("-");return i=s.reduce((r,l)=>r[l],n),t=s.pop(),(e=i)!=null&&e.set||(n=s.reduce((r,l)=>r[l],n)),{root:n,key:t,target:i}}const FC=/-\d+$/;function l_(n,t){if(pi.str(t.props.attach)){if(FC.test(t.props.attach)){const s=t.props.attach.replace(FC,""),{root:r,key:l}=qg(n.object,s);Array.isArray(r[l])||(r[l]=[])}const{root:e,key:i}=qg(n.object,t.props.attach);t.previousAttach=e[i],e[i]=t.object}else pi.fun(t.props.attach)&&(t.previousAttach=t.props.attach(n.object,t.object))}function c_(n,t){if(pi.str(t.props.attach)){const{root:e,key:i}=qg(n.object,t.props.attach),s=t.previousAttach;s===void 0?delete e[i]:e[i]=s}else t.previousAttach==null||t.previousAttach(n.object,t.object);delete t.previousAttach}const Jb=[...oL,"args","dispose","attach","object","onUpdate","dispose"],HC=new Map;function DG(n){let t=HC.get(n.constructor);try{t||(t=new n.constructor,HC.set(n.constructor,t))}catch{}return t}function NG(n,t){const e={};for(const i in t)if(!Jb.includes(i)&&!pi.equ(t[i],n.props[i])){e[i]=t[i];for(const s in t)s.startsWith(`${i}-`)&&(e[s]=t[s])}for(const i in n.props){if(Jb.includes(i)||t.hasOwnProperty(i))continue;const{root:s,key:r}=qg(n.object,i);if(s.constructor&&s.constructor.length===0){const l=DG(s);pi.und(l)||(e[r]=l[r])}else e[r]=0}return e}const LG=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],UG=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function gu(n,t){var e;const i=n.__r3f,s=i&&iL(i).getState(),r=i==null?void 0:i.eventCount;for(const u in t){let h=t[u];if(Jb.includes(u))continue;if(i&&UG.test(u)){typeof h=="function"?i.handlers[u]=h:delete i.handlers[u],i.eventCount=Object.keys(i.handlers).length;continue}if(h===void 0)continue;let{root:p,key:m,target:v}=qg(n,u);if(v instanceof ep&&h instanceof ep)v.mask=h.mask;else if(v instanceof de&&TG(h))v.set(h);else if(v!==null&&typeof v=="object"&&typeof v.set=="function"&&typeof v.copy=="function"&&h!=null&&h.constructor&&v.constructor===h.constructor)v.copy(h);else if(v!==null&&typeof v=="object"&&typeof v.set=="function"&&Array.isArray(h))typeof v.fromArray=="function"?v.fromArray(h):v.set(...h);else if(v!==null&&typeof v=="object"&&typeof v.set=="function"&&typeof h=="number")typeof v.setScalar=="function"?v.setScalar(h):v.set(h);else{var l;p[m]=h,s&&!s.linear&&LG.includes(m)&&(l=p[m])!=null&&l.isTexture&&p[m].format===Ys&&p[m].type===xo&&(p[m].colorSpace=qs)}}if(i!=null&&i.parent&&s!=null&&s.internal&&(e=i.object)!=null&&e.isObject3D&&r!==i.eventCount){const u=i.object,h=s.internal.interaction.indexOf(u);h>-1&&s.internal.interaction.splice(h,1),i.eventCount&&u.raycast!==null&&s.internal.interaction.push(u)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&vp(i),n}function vp(n){var t;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const e=(t=n.root)==null||t.getState==null?void 0:t.getState();e&&e.internal.frames===0&&e.invalidate()}function OG(n,t){n.manual||(sL(n)?(n.left=t.width/-2,n.right=t.width/2,n.top=t.height/2,n.bottom=t.height/-2):n.aspect=t.width/t.height,n.updateProjectionMatrix())}const Ua=n=>n==null?void 0:n.isObject3D;function Zy(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function lL(n,t,e,i){const s=e.get(t);s&&(e.delete(t),e.size===0&&(n.delete(i),s.target.releasePointerCapture(i)))}function PG(n,t){const{internal:e}=n.getState();e.interaction=e.interaction.filter(i=>i!==t),e.initialHits=e.initialHits.filter(i=>i!==t),e.hovered.forEach((i,s)=>{(i.eventObject===t||i.object===t)&&e.hovered.delete(s)}),e.capturedMap.forEach((i,s)=>{lL(e.capturedMap,t,i,s)})}function zG(n){function t(h){const{internal:p}=n.getState(),m=h.offsetX-p.initialClick[0],v=h.offsetY-p.initialClick[1];return Math.round(Math.sqrt(m*m+v*v))}function e(h){return h.filter(p=>["Move","Over","Enter","Out","Leave"].some(m=>{var v;return(v=p.__r3f)==null?void 0:v.handlers["onPointer"+m]}))}function i(h,p){const m=n.getState(),v=new Set,x=[],_=p?p(m.internal.interaction):m.internal.interaction;for(let M=0;M<_.length;M++){const R=Cd(_[M]);R&&(R.raycaster.camera=void 0)}m.previousRoot||m.events.compute==null||m.events.compute(h,m);function T(M){const R=Cd(M);if(!R||!R.events.enabled||R.raycaster.camera===null)return[];if(R.raycaster.camera===void 0){var D;R.events.compute==null||R.events.compute(h,R,(D=R.previousRoot)==null?void 0:D.getState()),R.raycaster.camera===void 0&&(R.raycaster.camera=null)}return R.raycaster.camera?R.raycaster.intersectObject(M,!0):[]}let C=_.flatMap(T).sort((M,R)=>{const D=Cd(M.object),L=Cd(R.object);return!D||!L?M.distance-R.distance:L.events.priority-D.events.priority||M.distance-R.distance}).filter(M=>{const R=Zy(M);return v.has(R)?!1:(v.add(R),!0)});m.events.filter&&(C=m.events.filter(C,m));for(const M of C){let R=M.object;for(;R;){var E;(E=R.__r3f)!=null&&E.eventCount&&x.push({...M,eventObject:R}),R=R.parent}}if("pointerId"in h&&m.internal.capturedMap.has(h.pointerId))for(let M of m.internal.capturedMap.get(h.pointerId).values())v.has(Zy(M.intersection))||x.push(M.intersection);return x}function s(h,p,m,v){if(h.length){const x={stopped:!1};for(const _ of h){let T=Cd(_.object);if(T||_.object.traverseAncestors(C=>{const E=Cd(C);if(E)return T=E,!1}),T){const{raycaster:C,pointer:E,camera:M,internal:R}=T,D=new W(E.x,E.y,0).unproject(M),L=U=>{var P,X;return(P=(X=R.capturedMap.get(U))==null?void 0:X.has(_.eventObject))!=null?P:!1},z=U=>{const P={intersection:_,target:p.target};R.capturedMap.has(U)?R.capturedMap.get(U).set(_.eventObject,P):R.capturedMap.set(U,new Map([[_.eventObject,P]])),p.target.setPointerCapture(U)},B=U=>{const P=R.capturedMap.get(U);P&&lL(R.capturedMap,_.eventObject,P,U)};let I={};for(let U in p){let P=p[U];typeof P!="function"&&(I[U]=P)}let V={..._,...I,pointer:E,intersections:h,stopped:x.stopped,delta:m,unprojectedPoint:D,ray:C.ray,camera:M,stopPropagation(){const U="pointerId"in p&&R.capturedMap.get(p.pointerId);if((!U||U.has(_.eventObject))&&(V.stopped=x.stopped=!0,R.hovered.size&&Array.from(R.hovered.values()).find(P=>P.eventObject===_.eventObject))){const P=h.slice(0,h.indexOf(_));r([...P,_])}},target:{hasPointerCapture:L,setPointerCapture:z,releasePointerCapture:B},currentTarget:{hasPointerCapture:L,setPointerCapture:z,releasePointerCapture:B},nativeEvent:p};if(v(V),x.stopped===!0)break}}}return h}function r(h){const{internal:p}=n.getState();for(const m of p.hovered.values())if(!h.length||!h.find(v=>v.object===m.object&&v.index===m.index&&v.instanceId===m.instanceId)){const x=m.eventObject.__r3f;if(p.hovered.delete(Zy(m)),x!=null&&x.eventCount){const _=x.handlers,T={...m,intersections:h};_.onPointerOut==null||_.onPointerOut(T),_.onPointerLeave==null||_.onPointerLeave(T)}}}function l(h,p){for(let m=0;m<p.length;m++){const v=p[m].__r3f;v==null||v.handlers.onPointerMissed==null||v.handlers.onPointerMissed(h)}}function u(h){switch(h){case"onPointerLeave":case"onPointerCancel":return()=>r([]);case"onLostPointerCapture":return p=>{const{internal:m}=n.getState();"pointerId"in p&&m.capturedMap.has(p.pointerId)&&requestAnimationFrame(()=>{m.capturedMap.has(p.pointerId)&&(m.capturedMap.delete(p.pointerId),r([]))})}}return function(m){const{onPointerMissed:v,internal:x}=n.getState();x.lastEvent.current=m;const _=h==="onPointerMove",T=h==="onClick"||h==="onContextMenu"||h==="onDoubleClick",E=i(m,_?e:void 0),M=T?t(m):0;h==="onPointerDown"&&(x.initialClick=[m.offsetX,m.offsetY],x.initialHits=E.map(D=>D.eventObject)),T&&!E.length&&M<=2&&(l(m,x.interaction),v&&v(m)),_&&r(E);function R(D){const L=D.eventObject,z=L.__r3f;if(!(z!=null&&z.eventCount))return;const B=z.handlers;if(_){if(B.onPointerOver||B.onPointerEnter||B.onPointerOut||B.onPointerLeave){const I=Zy(D),V=x.hovered.get(I);V?V.stopped&&D.stopPropagation():(x.hovered.set(I,D),B.onPointerOver==null||B.onPointerOver(D),B.onPointerEnter==null||B.onPointerEnter(D))}B.onPointerMove==null||B.onPointerMove(D)}else{const I=B[h];I?(!T||x.initialHits.includes(L))&&(l(m,x.interaction.filter(V=>!x.initialHits.includes(V))),I(D)):T&&x.initialHits.includes(L)&&l(m,x.interaction.filter(V=>!x.initialHits.includes(V)))}}s(E,m,M,R)}}return{handlePointer:u}}const GC=n=>!!(n!=null&&n.render),cL=Z.createContext(null),BG=(n,t)=>{const e=pG((u,h)=>{const p=new W,m=new W,v=new W;function x(M=h().camera,R=m,D=h().size){const{width:L,height:z,top:B,left:I}=D,V=L/z;R.isVector3?v.copy(R):v.set(...R);const U=M.getWorldPosition(p).distanceTo(v);if(sL(M))return{width:L/M.zoom,height:z/M.zoom,top:B,left:I,factor:1,distance:U,aspect:V};{const P=M.fov*Math.PI/180,X=2*Math.tan(P/2)*U,pt=X*(L/z);return{width:pt,height:X,top:B,left:I,factor:L/pt,distance:U,aspect:V}}}let _;const T=M=>u(R=>({performance:{...R.performance,current:M}})),C=new Vt;return{set:u,get:h,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(M=1)=>n(h(),M),advance:(M,R)=>t(M,R,h()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new LT,pointer:C,mouse:C,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const M=h();_&&clearTimeout(_),M.performance.current!==M.performance.min&&T(M.performance.min),_=setTimeout(()=>T(h().performance.max),M.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:x},setEvents:M=>u(R=>({...R,events:{...R.events,...M}})),setSize:(M,R,D=0,L=0)=>{const z=h().camera,B={width:M,height:R,top:D,left:L};u(I=>({size:B,viewport:{...I.viewport,...x(z,m,B)}}))},setDpr:M=>u(R=>{const D=rL(M);return{viewport:{...R.viewport,dpr:D,initialDpr:R.viewport.initialDpr||D}}}),setFrameloop:(M="always")=>{const R=h().clock;R.stop(),R.elapsedTime=0,M!=="never"&&(R.start(),R.elapsedTime=0),u(()=>({frameloop:M}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:Z.createRef(),active:!1,frames:0,priority:0,subscribe:(M,R,D)=>{const L=h().internal;return L.priority=L.priority+(R>0?1:0),L.subscribers.push({ref:M,priority:R,store:D}),L.subscribers=L.subscribers.sort((z,B)=>z.priority-B.priority),()=>{const z=h().internal;z!=null&&z.subscribers&&(z.priority=z.priority-(R>0?1:0),z.subscribers=z.subscribers.filter(B=>B.ref!==M))}}}}}),i=e.getState();let s=i.size,r=i.viewport.dpr,l=i.camera;return e.subscribe(()=>{const{camera:u,size:h,viewport:p,gl:m,set:v}=e.getState();if(h.width!==s.width||h.height!==s.height||p.dpr!==r){s=h,r=p.dpr,OG(u,h),p.dpr>0&&m.setPixelRatio(p.dpr);const x=typeof HTMLCanvasElement<"u"&&m.domElement instanceof HTMLCanvasElement;m.setSize(h.width,h.height,x)}u!==l&&(l=u,v(x=>({viewport:{...x.viewport,...x.viewport.getCurrentViewport(u)}})))}),e.subscribe(u=>n(u)),e};function uL(){const n=Z.useContext(cL);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function VG(n=e=>e,t){return uL()(n,t)}function fL(n,t=0){const e=uL(),i=e.getState().internal.subscribe,s=aL(n);return v0(()=>i(s,t,e),[t,i,e]),null}function IG(n){const t=yG(n);return t.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:Z.version}),t}const hL=0,sp={},FG=/^three(?=[A-Z])/,sS=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let HG=0;const GG=n=>typeof n=="function";function kG(n){if(GG(n)){const t=`${HG++}`;return sp[t]=n,t}else Object.assign(sp,n)}function dL(n,t){const e=sS(n),i=sp[e];if(n!=="primitive"&&!i)throw new Error(`R3F: ${e} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!t.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(t.args!==void 0&&!Array.isArray(t.args))throw new Error("R3F: The args prop must be an array!")}function jG(n,t,e){var i;return n=sS(n)in sp?n:n.replace(FG,""),dL(n,t),n==="primitive"&&(i=t.object)!=null&&i.__r3f&&delete t.object.__r3f,o_(t.object,e,n,t)}function XG(n){if(!n.isHidden){var t;n.props.attach&&(t=n.parent)!=null&&t.object?c_(n.parent,n):Ua(n.object)&&(n.object.visible=!1),n.isHidden=!0,vp(n)}}function pL(n){if(n.isHidden){var t;n.props.attach&&(t=n.parent)!=null&&t.object?l_(n.parent,n):Ua(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,vp(n)}}function FT(n,t,e){const i=t.root.getState();if(!(!n.parent&&n.object!==i.scene)){if(!t.object){var s,r;const l=sp[sS(t.type)];t.object=(s=t.props.object)!=null?s:new l(...(r=t.props.args)!=null?r:[]),t.object.__r3f=t}if(gu(t.object,t.props),t.props.attach)l_(n,t);else if(Ua(t.object)&&Ua(n.object)){const l=n.object.children.indexOf(e==null?void 0:e.object);e&&l!==-1?(t.object.parent=n.object,n.object.children.splice(l,0,t.object),t.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:t.object})):n.object.add(t.object)}for(const l of t.children)FT(t,l);vp(t)}}function $1(n,t){t&&(t.parent=n,n.children.push(t),FT(n,t))}function kC(n,t,e){if(!t||!e)return;t.parent=n;const i=n.children.indexOf(e);i!==-1?n.children.splice(i,0,t):n.children.push(t),FT(n,t,e)}function mL(n){if(typeof n.dispose=="function"){const t=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?t():IC.unstable_scheduleCallback(IC.unstable_IdlePriority,t)}}function tM(n,t,e){if(!t)return;t.parent=null;const i=n.children.indexOf(t);i!==-1&&n.children.splice(i,1),t.props.attach?c_(n,t):Ua(t.object)&&Ua(n.object)&&(n.object.remove(t.object),PG(iL(t),t.object));const s=t.props.dispose!==null&&e!==!1;for(let r=t.children.length-1;r>=0;r--){const l=t.children[r];tM(t,l,s)}t.children.length=0,delete t.object.__r3f,s&&t.type!=="primitive"&&t.object.type!=="Scene"&&mL(t.object),e===void 0&&vp(t)}function qG(n,t){for(const e of[n,n.alternate])if(e!==null)if(typeof e.ref=="function"){e.refCleanup==null||e.refCleanup();const i=e.ref(t);typeof i=="function"&&(e.refCleanup=i)}else e.ref&&(e.ref.current=t)}const hx=[];function YG(){for(const[e]of hx){const i=e.parent;if(i){e.props.attach?c_(i,e):Ua(e.object)&&Ua(i.object)&&i.object.remove(e.object);for(const s of e.children)s.props.attach?c_(e,s):Ua(s.object)&&Ua(e.object)&&e.object.remove(s.object)}e.isHidden&&pL(e),e.object.__r3f&&delete e.object.__r3f,e.type!=="primitive"&&mL(e.object)}for(const[e,i,s]of hx){e.props=i;const r=e.parent;if(r){var n,t;const l=sp[sS(e.type)];e.object=(n=e.props.object)!=null?n:new l(...(t=e.props.args)!=null?t:[]),e.object.__r3f=e,qG(s,e.object),gu(e.object,e.props),e.props.attach?l_(r,e):Ua(e.object)&&Ua(r.object)&&r.object.add(e.object);for(const u of e.children)u.props.attach?l_(e,u):Ua(u.object)&&Ua(e.object)&&e.object.add(u.object);vp(e)}}hx.length=0}const J1=()=>{},jC={};let Ky=hL;const WG=0,ZG=4,eM=IG({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:jG,removeChild:tM,appendChild:$1,appendInitialChild:$1,insertBefore:kC,appendChildToContainer(n,t){const e=n.getState().scene.__r3f;!t||!e||$1(e,t)},removeChildFromContainer(n,t){const e=n.getState().scene.__r3f;!t||!e||tM(e,t)},insertInContainerBefore(n,t,e){const i=n.getState().scene.__r3f;!t||!e||!i||kC(i,t,e)},getRootHostContext:()=>jC,getChildHostContext:()=>jC,commitUpdate(n,t,e,i,s){var r,l,u;dL(t,i);let h=!1;if((n.type==="primitive"&&e.object!==i.object||((r=i.args)==null?void 0:r.length)!==((l=e.args)==null?void 0:l.length)||(u=i.args)!=null&&u.some((m,v)=>{var x;return m!==((x=e.args)==null?void 0:x[v])}))&&(h=!0),h)hx.push([n,{...i},s]);else{const m=NG(n,i);Object.keys(m).length&&(Object.assign(n.props,m),gu(n.object,m))}(s.sibling===null||(s.flags&ZG)===WG)&&YG()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n==null?void 0:n.object,prepareForCommit:()=>null,preparePortalMount:n=>o_(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:XG,unhideInstance:pL,createTextInstance:J1,hideTextInstance:J1,unhideTextInstance:J1,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:Z.createContext(null),setCurrentUpdatePriority(n){Ky=n},getCurrentUpdatePriority(){return Ky},resolveUpdatePriority(){var n;if(Ky!==hL)return Ky;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return fx.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return fx.ContinuousEventPriority;default:return fx.DefaultEventPriority}},resetFormInstance(){}}),oh=new Map,Rd={objects:"shallow",strict:!1};function KG(n,t){if(!t&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:e,height:i,top:s,left:r}=n.parentElement.getBoundingClientRect();return{width:e,height:i,top:s,left:r}}else if(!t&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...t}}function QG(n){const t=oh.get(n),e=t==null?void 0:t.fiber,i=t==null?void 0:t.store;t&&console.warn("R3F.createRoot should only be called once!");const s=typeof reportError=="function"?reportError:console.error,r=i||BG(sM,qC),l=e||eM.createContainer(r,fx.ConcurrentRoot,null,!1,null,"",s,s,s,null);t||oh.set(n,{fiber:l,store:r});let u,h,p=!1,m=null;return{async configure(v={}){let x;m=new Promise(at=>x=at);let{gl:_,size:T,scene:C,events:E,onCreated:M,shadows:R=!1,linear:D=!1,flat:L=!1,legacy:z=!1,orthographic:B=!1,frameloop:I="always",dpr:V=[1,2],performance:U,raycaster:P,camera:X,onPointerMissed:pt}=v,it=r.getState(),K=it.gl;if(!it.gl){const at={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},At=typeof _=="function"?await _(at):_;GC(At)?K=At:K=new $N({...at,..._}),it.set({gl:K})}let lt=it.raycaster;lt||it.set({raycaster:lt=new jN});const{params:J,...tt}=P||{};if(pi.equ(tt,lt,Rd)||gu(lt,{...tt}),pi.equ(J,lt.params,Rd)||gu(lt,{params:{...lt.params,...J}}),!it.camera||it.camera===h&&!pi.equ(h,X,Rd)){h=X;const at=X==null?void 0:X.isCamera,At=at?X:B?new fh(0,0,0,0,.1,1e3):new ji(75,0,.1,1e3);at||(At.position.z=5,X&&(gu(At,X),At.manual||("aspect"in X||"left"in X||"right"in X||"bottom"in X||"top"in X)&&(At.manual=!0,At.updateProjectionMatrix())),!it.camera&&!(X!=null&&X.rotation)&&At.lookAt(0,0,0)),it.set({camera:At}),lt.camera=At}if(!it.scene){let at;C!=null&&C.isScene?(at=C,o_(at,r,"",{})):(at=new hT,o_(at,r,"",{}),C&&gu(at,C)),it.set({scene:at})}E&&!it.events.handlers&&it.set({events:E(r)});const Q=KG(n,T);if(pi.equ(Q,it.size,Rd)||it.setSize(Q.width,Q.height,Q.top,Q.left),V&&it.viewport.dpr!==rL(V)&&it.setDpr(V),it.frameloop!==I&&it.setFrameloop(I),it.onPointerMissed||it.set({onPointerMissed:pt}),U&&!pi.equ(U,it.performance,Rd)&&it.set(at=>({performance:{...at.performance,...U}})),!it.xr){var _t;const at=(st,Et)=>{const Ut=r.getState();Ut.frameloop!=="never"&&qC(st,!0,Ut,Et)},At=()=>{const st=r.getState();st.gl.xr.enabled=st.gl.xr.isPresenting,st.gl.xr.setAnimationLoop(st.gl.xr.isPresenting?at:null),st.gl.xr.isPresenting||sM(st)},zt={connect(){const st=r.getState().gl;st.xr.addEventListener("sessionstart",At),st.xr.addEventListener("sessionend",At)},disconnect(){const st=r.getState().gl;st.xr.removeEventListener("sessionstart",At),st.xr.removeEventListener("sessionend",At)}};typeof((_t=K.xr)==null?void 0:_t.addEventListener)=="function"&&zt.connect(),it.set({xr:zt})}if(K.shadowMap){const at=K.shadowMap.enabled,At=K.shadowMap.type;if(K.shadowMap.enabled=!!R,pi.boo(R))K.shadowMap.type=og;else if(pi.str(R)){var j;const zt={basic:e3,percentage:E_,soft:og,variance:po};K.shadowMap.type=(j=zt[R])!=null?j:og}else pi.obj(R)&&Object.assign(K.shadowMap,R);(at!==K.shadowMap.enabled||At!==K.shadowMap.type)&&(K.shadowMap.needsUpdate=!0)}return yn.enabled=!z,p||(K.outputColorSpace=D?xu:qs,K.toneMapping=L?ll:KM),it.legacy!==z&&it.set(()=>({legacy:z})),it.linear!==D&&it.set(()=>({linear:D})),it.flat!==L&&it.set(()=>({flat:L})),_&&!pi.fun(_)&&!GC(_)&&!pi.equ(_,K,Rd)&&gu(K,_),u=M,p=!0,x(),this},render(v){return!p&&!m&&this.configure(),m.then(()=>{eM.updateContainer(nt.jsx($G,{store:r,children:v,onCreated:u,rootElement:n}),l,null,()=>{})}),r},unmount(){gL(n)}}}function $G({store:n,children:t,onCreated:e,rootElement:i}){return v0(()=>{const s=n.getState();s.set(r=>({internal:{...r.internal,active:!0}})),e&&e(s),n.getState().events.connected||s.events.connect==null||s.events.connect(i)},[]),nt.jsx(cL.Provider,{value:n,children:t})}function gL(n,t){const e=oh.get(n),i=e==null?void 0:e.fiber;if(i){const s=e==null?void 0:e.store.getState();s&&(s.internal.active=!1),eM.updateContainer(null,i,null,()=>{s&&setTimeout(()=>{try{var r,l,u,h;s.events.disconnect==null||s.events.disconnect(),(r=s.gl)==null||(l=r.renderLists)==null||l.dispose==null||l.dispose(),(u=s.gl)==null||u.forceContextLoss==null||u.forceContextLoss(),(h=s.gl)!=null&&h.xr&&s.xr.disconnect(),CG(s.scene),oh.delete(n)}catch{}},500)})}}const JG=new Set,t8=new Set,e8=new Set;function tb(n,t){if(n.size)for(const{callback:e}of n.values())e(t)}function vg(n,t){switch(n){case"before":return tb(JG,t);case"after":return tb(t8,t);case"tail":return tb(e8,t)}}let eb,nb;function nM(n,t,e){let i=t.clock.getDelta();t.frameloop==="never"&&typeof n=="number"&&(i=n-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=n),eb=t.internal.subscribers;for(let s=0;s<eb.length;s++)nb=eb[s],nb.ref.current(nb.store.getState(),i,e);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),t.frameloop==="always"?1:t.internal.frames}let u_=!1,iM=!1,ib,XC,Dd;function vL(n){XC=requestAnimationFrame(vL),u_=!0,ib=0,vg("before",n),iM=!0;for(const e of oh.values()){var t;Dd=e.store.getState(),Dd.internal.active&&(Dd.frameloop==="always"||Dd.internal.frames>0)&&!((t=Dd.gl.xr)!=null&&t.isPresenting)&&(ib+=nM(n,Dd))}if(iM=!1,vg("after",n),ib===0)return vg("tail",n),u_=!1,cancelAnimationFrame(XC)}function sM(n,t=1){var e;if(!n)return oh.forEach(i=>sM(i.store.getState(),t));(e=n.gl.xr)!=null&&e.isPresenting||!n.internal.active||n.frameloop==="never"||(t>1?n.internal.frames=Math.min(60,n.internal.frames+t):iM?n.internal.frames=2:n.internal.frames=1,u_||(u_=!0,requestAnimationFrame(vL)))}function qC(n,t=!0,e,i){if(t&&vg("before",n),e)nM(n,e,i);else for(const s of oh.values())nM(n,s.store.getState());t&&vg("after",n)}const sb={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function n8(n){const{handlePointer:t}=zG(n);return{priority:1,enabled:!0,compute(e,i,s){i.pointer.set(e.offsetX/i.size.width*2-1,-(e.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(sb).reduce((e,i)=>({...e,[i]:t(i)}),{}),update:()=>{var e;const{events:i,internal:s}=n.getState();(e=s.lastEvent)!=null&&e.current&&i.handlers&&i.handlers.onPointerMove(s.lastEvent.current)},connect:e=>{const{set:i,events:s}=n.getState();if(s.disconnect==null||s.disconnect(),i(r=>({events:{...r.events,connected:e}})),s.handlers)for(const r in s.handlers){const l=s.handlers[r],[u,h]=sb[r];e.addEventListener(u,l,{passive:h})}},disconnect:()=>{const{set:e,events:i}=n.getState();if(i.connected){if(i.handlers)for(const s in i.handlers){const r=i.handlers[s],[l]=sb[s];i.connected.removeEventListener(l,r)}e(s=>({events:{...s.events,connected:void 0}}))}}}}function YC(n,t){let e;return(...i)=>{window.clearTimeout(e),e=window.setTimeout(()=>n(...i),t)}}function i8({debounce:n,scroll:t,polyfill:e,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const s=e||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[r,l]=Z.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),u=Z.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:r,orientationHandler:null}),h=n?typeof n=="number"?n:n.scroll:null,p=n?typeof n=="number"?n:n.resize:null,m=Z.useRef(!1);Z.useEffect(()=>(m.current=!0,()=>void(m.current=!1)));const[v,x,_]=Z.useMemo(()=>{const M=()=>{if(!u.current.element)return;const{left:R,top:D,width:L,height:z,bottom:B,right:I,x:V,y:U}=u.current.element.getBoundingClientRect(),P={left:R,top:D,width:L,height:z,bottom:B,right:I,x:V,y:U};u.current.element instanceof HTMLElement&&i&&(P.height=u.current.element.offsetHeight,P.width=u.current.element.offsetWidth),Object.freeze(P),m.current&&!o8(u.current.lastBounds,P)&&l(u.current.lastBounds=P)};return[M,p?YC(M,p):M,h?YC(M,h):M]},[l,i,h,p]);function T(){u.current.scrollContainers&&(u.current.scrollContainers.forEach(M=>M.removeEventListener("scroll",_,!0)),u.current.scrollContainers=null),u.current.resizeObserver&&(u.current.resizeObserver.disconnect(),u.current.resizeObserver=null),u.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",u.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",u.current.orientationHandler))}function C(){u.current.element&&(u.current.resizeObserver=new s(_),u.current.resizeObserver.observe(u.current.element),t&&u.current.scrollContainers&&u.current.scrollContainers.forEach(M=>M.addEventListener("scroll",_,{capture:!0,passive:!0})),u.current.orientationHandler=()=>{_()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",u.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",u.current.orientationHandler))}const E=M=>{!M||M===u.current.element||(T(),u.current.element=M,u.current.scrollContainers=yL(M),C())};return a8(_,!!t),s8(x),Z.useEffect(()=>{T(),C()},[t,_,x]),Z.useEffect(()=>T,[]),[E,r,v]}function s8(n){Z.useEffect(()=>{const t=n;return window.addEventListener("resize",t),()=>void window.removeEventListener("resize",t)},[n])}function a8(n,t){Z.useEffect(()=>{if(t){const e=n;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",e,!0)}},[n,t])}function yL(n){const t=[];if(!n||n===document.body)return t;const{overflow:e,overflowX:i,overflowY:s}=window.getComputedStyle(n);return[e,i,s].some(r=>r==="auto"||r==="scroll")&&t.push(n),[...t,...yL(n.parentElement)]}const r8=["x","y","top","bottom","left","right","width","height"],o8=(n,t)=>r8.every(e=>n[e]===t[e]);function l8({ref:n,children:t,fallback:e,resize:i,style:s,gl:r,events:l=n8,eventSource:u,eventPrefix:h,shadows:p,linear:m,flat:v,legacy:x,orthographic:_,frameloop:T,dpr:C,performance:E,raycaster:M,camera:R,scene:D,onPointerMissed:L,onCreated:z,...B}){Z.useMemo(()=>kG(nG),[]);const I=EG(),[V,U]=i8({scroll:!0,debounce:{scroll:50,resize:0},...i}),P=Z.useRef(null),X=Z.useRef(null);Z.useImperativeHandle(n,()=>P.current);const pt=aL(L),[it,K]=Z.useState(!1),[lt,J]=Z.useState(!1);if(it)throw it;if(lt)throw lt;const tt=Z.useRef(null);v0(()=>{const _t=P.current;if(U.width>0&&U.height>0&&_t){tt.current||(tt.current=QG(_t));async function j(){await tt.current.configure({gl:r,scene:D,events:l,shadows:p,linear:m,flat:v,legacy:x,orthographic:_,frameloop:T,dpr:C,performance:E,raycaster:M,camera:R,size:U,onPointerMissed:(...at)=>pt.current==null?void 0:pt.current(...at),onCreated:at=>{at.events.connect==null||at.events.connect(u?MG(u)?u.current:u:X.current),h&&at.setEvents({compute:(At,zt)=>{const st=At[h+"X"],Et=At[h+"Y"];zt.pointer.set(st/zt.size.width*2-1,-(Et/zt.size.height)*2+1),zt.raycaster.setFromCamera(zt.pointer,zt.camera)}}),z==null||z(at)}}),tt.current.render(nt.jsx(I,{children:nt.jsx(wG,{set:J,children:nt.jsx(Z.Suspense,{fallback:nt.jsx(AG,{set:K}),children:t??null})})}))}j()}}),Z.useEffect(()=>{const _t=P.current;if(_t)return()=>gL(_t)},[]);const Q=u?"none":"auto";return nt.jsx("div",{ref:X,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Q,...s},...B,children:nt.jsx("div",{ref:V,style:{width:"100%",height:"100%"},children:nt.jsx("canvas",{ref:P,style:{display:"block"},children:e})})})}function c8(n){return nt.jsx(eL,{children:nt.jsx(l8,{...n})})}const HT=Z.createContext({});function yp(n){const t=Z.useRef(null);return t.current===null&&(t.current=n()),t.current}const GT=typeof window<"u",aS=GT?Z.useLayoutEffect:Z.useEffect,rS=Z.createContext(null);function kT(n,t){n.indexOf(t)===-1&&n.push(t)}function jT(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const vl=(n,t,e)=>e>t?t:e<n?n:e;let u8=()=>{},XT=()=>{};const pc={},xL=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function _L(n){return typeof n=="object"&&n!==null}const SL=n=>/^0[^.\s]+$/u.test(n);function qT(n){let t;return()=>(t===void 0&&(t=n()),t)}const Va=n=>n,f8=(n,t)=>e=>t(n(e)),y0=(...n)=>n.reduce(f8),ap=(n,t,e)=>{const i=t-n;return i===0?1:(e-n)/i};let YT=class{constructor(){this.subscriptions=[]}add(t){return kT(this.subscriptions,t),()=>jT(this.subscriptions,t)}notify(t,e,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,e,i);else for(let r=0;r<s;r++){const l=this.subscriptions[r];l&&l(t,e,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}};const fl=n=>n*1e3,hl=n=>n/1e3;function WT(n,t){return t?n*(1e3/t):0}const bL=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,h8=1e-7,d8=12;function p8(n,t,e,i,s){let r,l,u=0;do l=t+(e-t)/2,r=bL(l,i,s)-n,r>0?e=l:t=l;while(Math.abs(r)>h8&&++u<d8);return l}function x0(n,t,e,i){if(n===t&&e===i)return Va;const s=r=>p8(r,0,1,n,e);return r=>r===0||r===1?r:bL(s(r),t,i)}const ML=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,TL=n=>t=>1-n(1-t),EL=x0(.33,1.53,.69,.99),ZT=TL(EL),AL=ML(ZT),wL=n=>(n*=2)<1?.5*ZT(n):.5*(2-Math.pow(2,-10*(n-1))),KT=n=>1-Math.sin(Math.acos(n)),CL=TL(KT),RL=ML(KT),m8=x0(.42,0,1,1),g8=x0(0,0,.58,1),DL=x0(.42,0,.58,1),v8=n=>Array.isArray(n)&&typeof n[0]!="number",NL=n=>Array.isArray(n)&&typeof n[0]=="number",y8={linear:Va,easeIn:m8,easeInOut:DL,easeOut:g8,circIn:KT,circInOut:RL,circOut:CL,backIn:ZT,backInOut:AL,backOut:EL,anticipate:wL},x8=n=>typeof n=="string",WC=n=>{if(NL(n)){XT(n.length===4);const[t,e,i,s]=n;return x0(t,e,i,s)}else if(x8(n))return y8[n];return n},Qy=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function _8(n,t){let e=new Set,i=new Set,s=!1,r=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function h(m){l.has(m)&&(p.schedule(m),n()),m(u)}const p={schedule:(m,v=!1,x=!1)=>{const T=x&&s?e:i;return v&&l.add(m),T.has(m)||T.add(m),m},cancel:m=>{i.delete(m),l.delete(m)},process:m=>{if(u=m,s){r=!0;return}s=!0,[e,i]=[i,e],e.forEach(h),e.clear(),s=!1,r&&(r=!1,p.process(m))}};return p}const S8=40;function LL(n,t){let e=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},r=()=>e=!0,l=Qy.reduce((D,L)=>(D[L]=_8(r),D),{}),{setup:u,read:h,resolveKeyframes:p,preUpdate:m,update:v,preRender:x,render:_,postRender:T}=l,C=()=>{const D=pc.useManualTiming?s.timestamp:performance.now();e=!1,pc.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(D-s.timestamp,S8),1)),s.timestamp=D,s.isProcessing=!0,u.process(s),h.process(s),p.process(s),m.process(s),v.process(s),x.process(s),_.process(s),T.process(s),s.isProcessing=!1,e&&t&&(i=!1,n(C))},E=()=>{e=!0,i=!0,s.isProcessing||n(C)};return{schedule:Qy.reduce((D,L)=>{const z=l[L];return D[L]=(B,I=!1,V=!1)=>(e||E(),z.schedule(B,I,V)),D},{}),cancel:D=>{for(let L=0;L<Qy.length;L++)l[Qy[L]].cancel(D)},state:s,steps:l}}const{schedule:In,cancel:So,state:ms,steps:ab}=LL(typeof requestAnimationFrame<"u"?requestAnimationFrame:Va,!0);let dx;function b8(){dx=void 0}const za={now:()=>(dx===void 0&&za.set(ms.isProcessing||pc.useManualTiming?ms.timestamp:performance.now()),dx),set:n=>{dx=n,queueMicrotask(b8)}},UL=n=>t=>typeof t=="string"&&t.startsWith(n),QT=UL("--"),M8=UL("var(--"),$T=n=>M8(n)?T8.test(n.split("/*")[0].trim()):!1,T8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,xp={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Yg={...xp,transform:n=>vl(0,1,n)},$y={...xp,default:1},yg=n=>Math.round(n*1e5)/1e5,JT=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function E8(n){return n==null}const A8=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,tE=(n,t)=>e=>!!(typeof e=="string"&&A8.test(e)&&e.startsWith(n)||t&&!E8(e)&&Object.prototype.hasOwnProperty.call(e,t)),OL=(n,t,e)=>i=>{if(typeof i!="string")return i;const[s,r,l,u]=i.match(JT);return{[n]:parseFloat(s),[t]:parseFloat(r),[e]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},w8=n=>vl(0,255,n),rb={...xp,transform:n=>Math.round(w8(n))},qf={test:tE("rgb","red"),parse:OL("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:i=1})=>"rgba("+rb.transform(n)+", "+rb.transform(t)+", "+rb.transform(e)+", "+yg(Yg.transform(i))+")"};function C8(n){let t="",e="",i="",s="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),i=n.substring(5,7),s=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),i=n.substring(3,4),s=n.substring(4,5),t+=t,e+=e,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const aM={test:tE("#"),parse:C8,transform:qf.transform},_0=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),fu=_0("deg"),dl=_0("%"),Ve=_0("px"),R8=_0("vh"),D8=_0("vw"),ZC={...dl,parse:n=>dl.parse(n)/100,transform:n=>dl.transform(n*100)},Id={test:tE("hsl","hue"),parse:OL("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:i=1})=>"hsla("+Math.round(n)+", "+dl.transform(yg(t))+", "+dl.transform(yg(e))+", "+yg(Yg.transform(i))+")"},ki={test:n=>qf.test(n)||aM.test(n)||Id.test(n),parse:n=>qf.test(n)?qf.parse(n):Id.test(n)?Id.parse(n):aM.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?qf.transform(n):Id.transform(n),getAnimatableNone:n=>{const t=ki.parse(n);return t.alpha=0,ki.transform(t)}},N8=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function L8(n){var t,e;return isNaN(n)&&typeof n=="string"&&(((t=n.match(JT))==null?void 0:t.length)||0)+(((e=n.match(N8))==null?void 0:e.length)||0)>0}const PL="number",zL="color",U8="var",O8="var(",KC="${}",P8=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Wg(n){const t=n.toString(),e=[],i={color:[],number:[],var:[]},s=[];let r=0;const u=t.replace(P8,h=>(ki.test(h)?(i.color.push(r),s.push(zL),e.push(ki.parse(h))):h.startsWith(O8)?(i.var.push(r),s.push(U8),e.push(h)):(i.number.push(r),s.push(PL),e.push(parseFloat(h))),++r,KC)).split(KC);return{values:e,split:u,indexes:i,types:s}}function BL(n){return Wg(n).values}function VL(n){const{split:t,types:e}=Wg(n),i=t.length;return s=>{let r="";for(let l=0;l<i;l++)if(r+=t[l],s[l]!==void 0){const u=e[l];u===PL?r+=yg(s[l]):u===zL?r+=ki.transform(s[l]):r+=s[l]}return r}}const z8=n=>typeof n=="number"?0:ki.test(n)?ki.getAnimatableNone(n):n;function B8(n){const t=BL(n);return VL(n)(t.map(z8))}const Su={test:L8,parse:BL,createTransformer:VL,getAnimatableNone:B8};function ob(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function V8({hue:n,saturation:t,lightness:e,alpha:i}){n/=360,t/=100,e/=100;let s=0,r=0,l=0;if(!t)s=r=l=e;else{const u=e<.5?e*(1+t):e+t-e*t,h=2*e-u;s=ob(h,u,n+1/3),r=ob(h,u,n),l=ob(h,u,n-1/3)}return{red:Math.round(s*255),green:Math.round(r*255),blue:Math.round(l*255),alpha:i}}function f_(n,t){return e=>e>0?t:n}const gi=(n,t,e)=>n+(t-n)*e,lb=(n,t,e)=>{const i=n*n,s=e*(t*t-i)+i;return s<0?0:Math.sqrt(s)},I8=[aM,qf,Id],F8=n=>I8.find(t=>t.test(n));function QC(n){const t=F8(n);if(!t)return!1;let e=t.parse(n);return t===Id&&(e=V8(e)),e}const $C=(n,t)=>{const e=QC(n),i=QC(t);if(!e||!i)return f_(n,t);const s={...e};return r=>(s.red=lb(e.red,i.red,r),s.green=lb(e.green,i.green,r),s.blue=lb(e.blue,i.blue,r),s.alpha=gi(e.alpha,i.alpha,r),qf.transform(s))},rM=new Set(["none","hidden"]);function H8(n,t){return rM.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function G8(n,t){return e=>gi(n,t,e)}function eE(n){return typeof n=="number"?G8:typeof n=="string"?$T(n)?f_:ki.test(n)?$C:X8:Array.isArray(n)?IL:typeof n=="object"?ki.test(n)?$C:k8:f_}function IL(n,t){const e=[...n],i=e.length,s=n.map((r,l)=>eE(r)(r,t[l]));return r=>{for(let l=0;l<i;l++)e[l]=s[l](r);return e}}function k8(n,t){const e={...n,...t},i={};for(const s in e)n[s]!==void 0&&t[s]!==void 0&&(i[s]=eE(n[s])(n[s],t[s]));return s=>{for(const r in i)e[r]=i[r](s);return e}}function j8(n,t){const e=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const r=t.types[s],l=n.indexes[r][i[r]],u=n.values[l]??0;e[s]=u,i[r]++}return e}const X8=(n,t)=>{const e=Su.createTransformer(t),i=Wg(n),s=Wg(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?rM.has(n)&&!s.values.length||rM.has(t)&&!i.values.length?H8(n,t):y0(IL(j8(i,s),s.values),e):f_(n,t)};function FL(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?gi(n,t,e):eE(n)(n,t)}const q8=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>In.update(t,e),stop:()=>So(t),now:()=>ms.isProcessing?ms.timestamp:za.now()}},HL=(n,t,e=10)=>{let i="";const s=Math.max(Math.round(t/e),2);for(let r=0;r<s;r++)i+=Math.round(n(r/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},h_=2e4;function nE(n){let t=0;const e=50;let i=n.next(t);for(;!i.done&&t<h_;)t+=e,i=n.next(t);return t>=h_?1/0:t}function Y8(n,t=100,e){const i=e({...n,keyframes:[0,t]}),s=Math.min(nE(i),h_);return{type:"keyframes",ease:r=>i.next(s*r).value/t,duration:hl(s)}}const W8=5;function GL(n,t,e){const i=Math.max(t-W8,0);return WT(e-n(i),t-i)}const Ci={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},JC=.001;function Z8({duration:n=Ci.duration,bounce:t=Ci.bounce,velocity:e=Ci.velocity,mass:i=Ci.mass}){let s,r,l=1-t;l=vl(Ci.minDamping,Ci.maxDamping,l),n=vl(Ci.minDuration,Ci.maxDuration,hl(n)),l<1?(s=p=>{const m=p*l,v=m*n,x=m-e,_=oM(p,l),T=Math.exp(-v);return JC-x/_*T},r=p=>{const v=p*l*n,x=v*e+e,_=Math.pow(l,2)*Math.pow(p,2)*n,T=Math.exp(-v),C=oM(Math.pow(p,2),l);return(-s(p)+JC>0?-1:1)*((x-_)*T)/C}):(s=p=>{const m=Math.exp(-p*n),v=(p-e)*n+1;return-.001+m*v},r=p=>{const m=Math.exp(-p*n),v=(e-p)*(n*n);return m*v});const u=5/n,h=Q8(s,r,u);if(n=fl(n),isNaN(h))return{stiffness:Ci.stiffness,damping:Ci.damping,duration:n};{const p=Math.pow(h,2)*i;return{stiffness:p,damping:l*2*Math.sqrt(i*p),duration:n}}}const K8=12;function Q8(n,t,e){let i=e;for(let s=1;s<K8;s++)i=i-n(i)/t(i);return i}function oM(n,t){return n*Math.sqrt(1-t*t)}const $8=["duration","bounce"],J8=["stiffness","damping","mass"];function tR(n,t){return t.some(e=>n[e]!==void 0)}function tk(n){let t={velocity:Ci.velocity,stiffness:Ci.stiffness,damping:Ci.damping,mass:Ci.mass,isResolvedFromDuration:!1,...n};if(!tR(n,J8)&&tR(n,$8))if(n.visualDuration){const e=n.visualDuration,i=2*Math.PI/(e*1.2),s=i*i,r=2*vl(.05,1,1-(n.bounce||0))*Math.sqrt(s);t={...t,mass:Ci.mass,stiffness:s,damping:r}}else{const e=Z8(n);t={...t,...e,mass:Ci.mass},t.isResolvedFromDuration=!0}return t}function d_(n=Ci.visualDuration,t=Ci.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:i,restDelta:s}=e;const r=e.keyframes[0],l=e.keyframes[e.keyframes.length-1],u={done:!1,value:r},{stiffness:h,damping:p,mass:m,duration:v,velocity:x,isResolvedFromDuration:_}=tk({...e,velocity:-hl(e.velocity||0)}),T=x||0,C=p/(2*Math.sqrt(h*m)),E=l-r,M=hl(Math.sqrt(h/m)),R=Math.abs(E)<5;i||(i=R?Ci.restSpeed.granular:Ci.restSpeed.default),s||(s=R?Ci.restDelta.granular:Ci.restDelta.default);let D;if(C<1){const z=oM(M,C);D=B=>{const I=Math.exp(-C*M*B);return l-I*((T+C*M*E)/z*Math.sin(z*B)+E*Math.cos(z*B))}}else if(C===1)D=z=>l-Math.exp(-M*z)*(E+(T+M*E)*z);else{const z=M*Math.sqrt(C*C-1);D=B=>{const I=Math.exp(-C*M*B),V=Math.min(z*B,300);return l-I*((T+C*M*E)*Math.sinh(V)+z*E*Math.cosh(V))/z}}const L={calculatedDuration:_&&v||null,next:z=>{const B=D(z);if(_)u.done=z>=v;else{let I=z===0?T:0;C<1&&(I=z===0?fl(T):GL(D,z,B));const V=Math.abs(I)<=i,U=Math.abs(l-B)<=s;u.done=V&&U}return u.value=u.done?l:B,u},toString:()=>{const z=Math.min(nE(L),h_),B=HL(I=>L.next(z*I).value,z,30);return z+"ms "+B},toTransition:()=>{}};return L}d_.applyToOptions=n=>{const t=Y8(n,100,d_);return n.ease=t.ease,n.duration=fl(t.duration),n.type="keyframes",n};function lM({keyframes:n,velocity:t=0,power:e=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:r=500,modifyTarget:l,min:u,max:h,restDelta:p=.5,restSpeed:m}){const v=n[0],x={done:!1,value:v},_=V=>u!==void 0&&V<u||h!==void 0&&V>h,T=V=>u===void 0?h:h===void 0||Math.abs(u-V)<Math.abs(h-V)?u:h;let C=e*t;const E=v+C,M=l===void 0?E:l(E);M!==E&&(C=M-v);const R=V=>-C*Math.exp(-V/i),D=V=>M+R(V),L=V=>{const U=R(V),P=D(V);x.done=Math.abs(U)<=p,x.value=x.done?M:P};let z,B;const I=V=>{_(x.value)&&(z=V,B=d_({keyframes:[x.value,T(x.value)],velocity:GL(D,V,x.value),damping:s,stiffness:r,restDelta:p,restSpeed:m}))};return I(0),{calculatedDuration:null,next:V=>{let U=!1;return!B&&z===void 0&&(U=!0,L(V),I(V)),z!==void 0&&V>=z?B.next(V-z):(!U&&L(V),x)}}}function ek(n,t,e){const i=[],s=e||pc.mix||FL,r=n.length-1;for(let l=0;l<r;l++){let u=s(n[l],n[l+1]);if(t){const h=Array.isArray(t)?t[l]||Va:t;u=y0(h,u)}i.push(u)}return i}function iE(n,t,{clamp:e=!0,ease:i,mixer:s}={}){const r=n.length;if(XT(r===t.length),r===1)return()=>t[0];if(r===2&&t[0]===t[1])return()=>t[1];const l=n[0]===n[1];n[0]>n[r-1]&&(n=[...n].reverse(),t=[...t].reverse());const u=ek(t,i,s),h=u.length,p=m=>{if(l&&m<n[0])return t[0];let v=0;if(h>1)for(;v<n.length-2&&!(m<n[v+1]);v++);const x=ap(n[v],n[v+1],m);return u[v](x)};return e?m=>p(vl(n[0],n[r-1],m)):p}function nk(n,t){const e=n[n.length-1];for(let i=1;i<=t;i++){const s=ap(0,t,i);n.push(gi(e,1,s))}}function kL(n){const t=[0];return nk(t,n.length-1),t}function ik(n,t){return n.map(e=>e*t)}function sk(n,t){return n.map(()=>t||DL).splice(0,n.length-1)}function xg({duration:n=300,keyframes:t,times:e,ease:i="easeInOut"}){const s=v8(i)?i.map(WC):WC(i),r={done:!1,value:t[0]},l=ik(e&&e.length===t.length?e:kL(t),n),u=iE(l,t,{ease:Array.isArray(s)?s:sk(t,s)});return{calculatedDuration:n,next:h=>(r.value=u(h),r.done=h>=n,r)}}const ak=n=>n!==null;function sE(n,{repeat:t,repeatType:e="loop"},i,s=1){const r=n.filter(ak),u=s<0||t&&e!=="loop"&&t%2===1?0:r.length-1;return!u||i===void 0?r[u]:i}const rk={decay:lM,inertia:lM,tween:xg,keyframes:xg,spring:d_};function jL(n){typeof n.type=="string"&&(n.type=rk[n.type])}class aE{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const ok=n=>n/100;class oS extends aE{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,s;const{motionValue:e}=this.options;e&&e.updatedAt!==za.now()&&this.tick(za.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(i=this.options).onStop)==null||s.call(i))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;jL(t);const{type:e=xg,repeat:i=0,repeatDelay:s=0,repeatType:r,velocity:l=0}=t;let{keyframes:u}=t;const h=e||xg;h!==xg&&typeof u[0]!="number"&&(this.mixKeyframes=y0(ok,FL(u[0],u[1])),u=[0,100]);const p=h({...t,keyframes:u});r==="mirror"&&(this.mirroredGenerator=h({...t,keyframes:[...u].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=nE(p));const{calculatedDuration:m}=p;this.calculatedDuration=m,this.resolvedDuration=m+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=p}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:i,totalDuration:s,mixKeyframes:r,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:m,repeat:v,repeatType:x,repeatDelay:_,type:T,onUpdate:C,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const M=this.currentTime-p*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?M<0:M>s;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let D=this.currentTime,L=i;if(v){const V=Math.min(this.currentTime,s)/u;let U=Math.floor(V),P=V%1;!P&&V>=1&&(P=1),P===1&&U--,U=Math.min(U,v+1),!!(U%2)&&(x==="reverse"?(P=1-P,_&&(P-=_/u)):x==="mirror"&&(L=l)),D=vl(0,1,P)*u}const z=R?{done:!1,value:m[0]}:L.next(D);r&&(z.value=r(z.value));let{done:B}=z;!R&&h!==null&&(B=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return I&&T!==lM&&(z.value=sE(m,this.options,E,this.speed)),C&&C(z.value),I&&this.finish(),z}then(t,e){return this.finished.then(t,e)}get duration(){return hl(this.calculatedDuration)}get time(){return hl(this.currentTime)}set time(t){var e;t=fl(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(e=this.driver)==null||e.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(za.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=hl(this.currentTime))}play(){var s,r;if(this.isStopped)return;const{driver:t=q8,startTime:e}=this.options;this.driver||(this.driver=t(l=>this.tick(l))),(r=(s=this.options).onPlay)==null||r.call(s);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=e??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(za.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,e;this.notifyFinished(),this.teardown(),this.state="finished",(e=(t=this.options).onComplete)==null||e.call(t)}cancel(){var t,e;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(e=(t=this.options).onCancel)==null||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var e;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(e=this.driver)==null||e.stop(),t.observe(this)}}function lk(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const Yf=n=>n*180/Math.PI,cM=n=>{const t=Yf(Math.atan2(n[1],n[0]));return uM(t)},ck={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:cM,rotateZ:cM,skewX:n=>Yf(Math.atan(n[1])),skewY:n=>Yf(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},uM=n=>(n=n%360,n<0&&(n+=360),n),eR=cM,nR=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),iR=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),uk={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:nR,scaleY:iR,scale:n=>(nR(n)+iR(n))/2,rotateX:n=>uM(Yf(Math.atan2(n[6],n[5]))),rotateY:n=>uM(Yf(Math.atan2(-n[2],n[0]))),rotateZ:eR,rotate:eR,skewX:n=>Yf(Math.atan(n[4])),skewY:n=>Yf(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function fM(n){return n.includes("scale")?1:0}function hM(n,t){if(!n||n==="none")return fM(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(e)i=uk,s=e;else{const u=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=ck,s=u}if(!s)return fM(t);const r=i[t],l=s[1].split(",").map(hk);return typeof r=="function"?r(l):l[r]}const fk=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return hM(e,t)};function hk(n){return parseFloat(n.trim())}const _p=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Sp=new Set(_p),sR=n=>n===xp||n===Ve,dk=new Set(["x","y","z"]),pk=_p.filter(n=>!dk.has(n));function mk(n){const t=[];return pk.forEach(e=>{const i=n.getValue(e);i!==void 0&&(t.push([e,i.get()]),i.set(e.startsWith("scale")?1:0))}),t}const Jf={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>hM(t,"x"),y:(n,{transform:t})=>hM(t,"y")};Jf.translateX=Jf.x;Jf.translateY=Jf.y;const th=new Set;let dM=!1,pM=!1,mM=!1;function XL(){if(pM){const n=Array.from(th).filter(i=>i.needsMeasurement),t=new Set(n.map(i=>i.element)),e=new Map;t.forEach(i=>{const s=mk(i);s.length&&(e.set(i,s),i.render())}),n.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=e.get(i);s&&s.forEach(([r,l])=>{var u;(u=i.getValue(r))==null||u.set(l)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}pM=!1,dM=!1,th.forEach(n=>n.complete(mM)),th.clear()}function qL(){th.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(pM=!0)})}function gk(){mM=!0,qL(),XL(),mM=!1}let rE=class{constructor(t,e,i,s,r,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=i,this.motionValue=s,this.element=r,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(th.add(this),dM||(dM=!0,In.read(qL),In.resolveKeyframes(XL))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:i,motionValue:s}=this;if(t[0]===null){const r=s==null?void 0:s.get(),l=t[t.length-1];if(r!==void 0)t[0]=r;else if(i&&e){const u=i.readValue(e,l);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=l),s&&r===void 0&&s.set(t[0])}lk(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),th.delete(this)}cancel(){this.state==="scheduled"&&(th.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}};const vk=n=>n.startsWith("--");function yk(n,t,e){vk(t)?n.style.setProperty(t,e):n.style[t]=e}const YL=qT(()=>window.ScrollTimeline!==void 0),xk={};function _k(n,t){const e=qT(n);return()=>xk[t]??e()}const WL=_k(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),sg=([n,t,e,i])=>`cubic-bezier(${n}, ${t}, ${e}, ${i})`,aR={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:sg([0,.65,.55,1]),circOut:sg([.55,0,1,.45]),backIn:sg([.31,.01,.66,-.59]),backOut:sg([.33,1.53,.69,.99])};function ZL(n,t){if(n)return typeof n=="function"?WL()?HL(n,t):"ease-out":NL(n)?sg(n):Array.isArray(n)?n.map(e=>ZL(e,t)||aR.easeOut):aR[n]}function Sk(n,t,e,{delay:i=0,duration:s=300,repeat:r=0,repeatType:l="loop",ease:u="easeOut",times:h}={},p=void 0){const m={[t]:e};h&&(m.offset=h);const v=ZL(u,s);Array.isArray(v)&&(m.easing=v);const x={delay:i,duration:s,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:r+1,direction:l==="reverse"?"alternate":"normal"};return p&&(x.pseudoElement=p),n.animate(m,x)}function KL(n){return typeof n=="function"&&"applyToOptions"in n}function bk({type:n,...t}){return KL(n)&&WL()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Mk extends aE{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:i,keyframes:s,pseudoElement:r,allowFlatten:l=!1,finalKeyframe:u,onComplete:h}=t;this.isPseudoElement=!!r,this.allowFlatten=l,this.options=t,XT(typeof t.type!="string");const p=bk(t);this.animation=Sk(e,i,s,p,r),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const m=sE(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(m):yk(e,i,m),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,e;(e=(t=this.animation).finish)==null||e.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,e;this.isPseudoElement||(e=(t=this.animation).commitStyles)==null||e.call(t)}get duration(){var e,i;const t=((i=(e=this.animation.effect)==null?void 0:e.getComputedTiming)==null?void 0:i.call(e).duration)||0;return hl(Number(t))}get time(){return hl(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=fl(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&YL()?(this.animation.timeline=t,Va):e(this)}}const QL={anticipate:wL,backInOut:AL,circInOut:RL};function Tk(n){return n in QL}function Ek(n){typeof n.ease=="string"&&Tk(n.ease)&&(n.ease=QL[n.ease])}const rR=10;class Ak extends Mk{constructor(t){Ek(t),jL(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:i,onComplete:s,element:r,...l}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const u=new oS({...l,autoplay:!1}),h=fl(this.finishedTime??this.time);e.setWithVelocity(u.sample(h-rR).value,u.sample(h).value,rR),u.stop()}}const oR=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Su.test(n)||n==="0")&&!n.startsWith("url("));function wk(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function Ck(n,t,e,i){const s=n[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const r=n[n.length-1],l=oR(s,t),u=oR(r,t);return!l||!u?!1:wk(n)||(e==="spring"||KL(e))&&i}function lS(n){return _L(n)&&"offsetHeight"in n}const Rk=new Set(["opacity","clipPath","filter","transform"]),Dk=qT(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Nk(n){var p;const{motionValue:t,name:e,repeatDelay:i,repeatType:s,damping:r,type:l}=n;if(!lS((p=t==null?void 0:t.owner)==null?void 0:p.current))return!1;const{onUpdate:u,transformTemplate:h}=t.owner.getProps();return Dk()&&e&&Rk.has(e)&&(e!=="transform"||!h)&&!u&&!i&&s!=="mirror"&&r!==0&&l!=="inertia"}const Lk=40;class Uk extends aE{constructor({autoplay:t=!0,delay:e=0,type:i="keyframes",repeat:s=0,repeatDelay:r=0,repeatType:l="loop",keyframes:u,name:h,motionValue:p,element:m,...v}){var T;super(),this.stop=()=>{var C,E;this._animation&&(this._animation.stop(),(C=this.stopTimeline)==null||C.call(this)),(E=this.keyframeResolver)==null||E.cancel()},this.createdAt=za.now();const x={autoplay:t,delay:e,type:i,repeat:s,repeatDelay:r,repeatType:l,name:h,motionValue:p,element:m,...v},_=(m==null?void 0:m.KeyframeResolver)||rE;this.keyframeResolver=new _(u,(C,E,M)=>this.onKeyframesResolved(C,E,x,!M),h,p,m),(T=this.keyframeResolver)==null||T.scheduleResolve()}onKeyframesResolved(t,e,i,s){this.keyframeResolver=void 0;const{name:r,type:l,velocity:u,delay:h,isHandoff:p,onUpdate:m}=i;this.resolvedAt=za.now(),Ck(t,r,l,u)||((pc.instantAnimations||!h)&&(m==null||m(sE(t,i,e))),t[0]=t[t.length-1],i.duration=0,i.repeat=0);const x={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>Lk?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...i,keyframes:t},_=!p&&Nk(x)?new Ak({...x,element:x.motionValue.owner.current}):new oS(x);_.finished.then(()=>this.notifyFinished()).catch(Va),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),gk()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const Ok=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Pk(n){const t=Ok.exec(n);if(!t)return[,];const[,e,i,s]=t;return[`--${e??i}`,s]}function $L(n,t,e=1){const[i,s]=Pk(n);if(!i)return;const r=window.getComputedStyle(t).getPropertyValue(i);if(r){const l=r.trim();return xL(l)?parseFloat(l):l}return $T(s)?$L(s,t,e+1):s}function oE(n,t){return(n==null?void 0:n[t])??(n==null?void 0:n.default)??n}const JL=new Set(["width","height","top","left","right","bottom",..._p]),zk={test:n=>n==="auto",parse:n=>n},tU=n=>t=>t.test(n),eU=[xp,Ve,dl,fu,D8,R8,zk],lR=n=>eU.find(tU(n));function Bk(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||SL(n):!0}const Vk=new Set(["brightness","contrast","saturate","opacity"]);function Ik(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[i]=e.match(JT)||[];if(!i)return n;const s=e.replace(i,"");let r=Vk.has(t)?1:0;return i!==e&&(r*=100),t+"("+r+s+")"}const Fk=/\b([a-z-]*)\(.*?\)/gu,gM={...Su,getAnimatableNone:n=>{const t=n.match(Fk);return t?t.map(Ik).join(" "):n}},cR={...xp,transform:Math.round},Hk={rotate:fu,rotateX:fu,rotateY:fu,rotateZ:fu,scale:$y,scaleX:$y,scaleY:$y,scaleZ:$y,skew:fu,skewX:fu,skewY:fu,distance:Ve,translateX:Ve,translateY:Ve,translateZ:Ve,x:Ve,y:Ve,z:Ve,perspective:Ve,transformPerspective:Ve,opacity:Yg,originX:ZC,originY:ZC,originZ:Ve},lE={borderWidth:Ve,borderTopWidth:Ve,borderRightWidth:Ve,borderBottomWidth:Ve,borderLeftWidth:Ve,borderRadius:Ve,radius:Ve,borderTopLeftRadius:Ve,borderTopRightRadius:Ve,borderBottomRightRadius:Ve,borderBottomLeftRadius:Ve,width:Ve,maxWidth:Ve,height:Ve,maxHeight:Ve,top:Ve,right:Ve,bottom:Ve,left:Ve,padding:Ve,paddingTop:Ve,paddingRight:Ve,paddingBottom:Ve,paddingLeft:Ve,margin:Ve,marginTop:Ve,marginRight:Ve,marginBottom:Ve,marginLeft:Ve,backgroundPositionX:Ve,backgroundPositionY:Ve,...Hk,zIndex:cR,fillOpacity:Yg,strokeOpacity:Yg,numOctaves:cR},Gk={...lE,color:ki,backgroundColor:ki,outlineColor:ki,fill:ki,stroke:ki,borderColor:ki,borderTopColor:ki,borderRightColor:ki,borderBottomColor:ki,borderLeftColor:ki,filter:gM,WebkitFilter:gM},nU=n=>Gk[n];function iU(n,t){let e=nU(n);return e!==gM&&(e=Su),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const kk=new Set(["auto","none","0"]);function jk(n,t,e){let i=0,s;for(;i<n.length&&!s;){const r=n[i];typeof r=="string"&&!kk.has(r)&&Wg(r).values.length&&(s=n[i]),i++}if(s&&e)for(const r of t)n[r]=iU(e,s)}let Xk=class extends rE{constructor(t,e,i,s,r){super(t,e,i,s,r,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:i}=this;if(!e||!e.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let p=t[h];if(typeof p=="string"&&(p=p.trim(),$T(p))){const m=$L(p,e.current);m!==void 0&&(t[h]=m),h===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!JL.has(i)||t.length!==2)return;const[s,r]=t,l=lR(s),u=lR(r);if(l!==u)if(sR(l)&&sR(u))for(let h=0;h<t.length;h++){const p=t[h];typeof p=="string"&&(t[h]=parseFloat(p))}else Jf[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,i=[];for(let s=0;s<t.length;s++)(t[s]===null||Bk(t[s]))&&i.push(s);i.length&&jk(t,i,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Jf[i](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const s=e[e.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){var u;const{element:t,name:e,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(e);s&&s.jump(this.measuredOrigin,!1);const r=i.length-1,l=i[r];i[r]=Jf[e](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([h,p])=>{t.getValue(h).set(p)}),this.resolveNoneKeyframes()}};function cE(n,t,e){if(n instanceof EventTarget)return[n];if(typeof n=="string"){const s=document.querySelectorAll(n);return s?Array.from(s):[]}return Array.from(n)}const sU=(n,t)=>t&&typeof n=="number"?t.transform(n):n,uR=30,qk=n=>!isNaN(parseFloat(n)),_g={current:void 0};let Yk=class{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{var l,u;const r=za.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty();s&&((u=this.events.renderRequest)==null||u.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=za.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=qk(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new YT);const i=this.events[t].add(e);return t==="change"?()=>{i(),In.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t,e=!0){!e||!this.passiveEffect?this.updateAndNotify(t,e):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,e,i){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return _g.current&&_g.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=za.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>uR)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,uR);return WT(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,e;(t=this.dependents)==null||t.clear(),(e=this.events.destroy)==null||e.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function yo(n,t){return new Yk(n,t)}const{schedule:uE}=LL(queueMicrotask,!1),fo={x:!1,y:!1};function aU(){return fo.x||fo.y}function Wk(n){return n==="x"||n==="y"?fo[n]?null:(fo[n]=!0,()=>{fo[n]=!1}):fo.x||fo.y?null:(fo.x=fo.y=!0,()=>{fo.x=fo.y=!1})}function rU(n,t){const e=cE(n),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[e,s,()=>i.abort()]}function fR(n){return!(n.pointerType==="touch"||aU())}function Zk(n,t,e={}){const[i,s,r]=rU(n,e),l=u=>{if(!fR(u))return;const{target:h}=u,p=t(h,u);if(typeof p!="function"||!h)return;const m=v=>{fR(v)&&(p(v),h.removeEventListener("pointerleave",m))};h.addEventListener("pointerleave",m,s)};return i.forEach(u=>{u.addEventListener("pointerenter",l,s)}),r}const oU=(n,t)=>t?n===t?!0:oU(n,t.parentElement):!1,fE=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,Kk=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Qk(n){return Kk.has(n.tagName)||n.tabIndex!==-1}const px=new WeakSet;function hR(n){return t=>{t.key==="Enter"&&n(t)}}function cb(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const $k=(n,t)=>{const e=n.currentTarget;if(!e)return;const i=hR(()=>{if(px.has(e))return;cb(e,"down");const s=hR(()=>{cb(e,"up")}),r=()=>cb(e,"cancel");e.addEventListener("keyup",s,t),e.addEventListener("blur",r,t)});e.addEventListener("keydown",i,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",i),t)};function dR(n){return fE(n)&&!aU()}function Jk(n,t,e={}){const[i,s,r]=rU(n,e),l=u=>{const h=u.currentTarget;if(!dR(u))return;px.add(h);const p=t(h,u),m=(_,T)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",x),px.has(h)&&px.delete(h),dR(_)&&typeof p=="function"&&p(_,{success:T})},v=_=>{m(_,h===window||h===document||e.useGlobalTarget||oU(h,_.target))},x=_=>{m(_,!1)};window.addEventListener("pointerup",v,s),window.addEventListener("pointercancel",x,s)};return i.forEach(u=>{(e.useGlobalTarget?window:u).addEventListener("pointerdown",l,s),lS(u)&&(u.addEventListener("focus",p=>$k(p,s)),!Qk(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),r}function hE(n){return _L(n)&&"ownerSVGElement"in n}const mx=new WeakMap;let hu;const lU=(n,t,e)=>(i,s)=>s&&s[0]?s[0][n+"Size"]:hE(i)&&"getBBox"in i?i.getBBox()[t]:i[e],t7=lU("inline","width","offsetWidth"),e7=lU("block","height","offsetHeight");function n7({target:n,borderBoxSize:t}){var e;(e=mx.get(n))==null||e.forEach(i=>{i(n,{get width(){return t7(n,t)},get height(){return e7(n,t)}})})}function i7(n){n.forEach(n7)}function s7(){typeof ResizeObserver>"u"||(hu=new ResizeObserver(i7))}function a7(n,t){hu||s7();const e=cE(n);return e.forEach(i=>{let s=mx.get(i);s||(s=new Set,mx.set(i,s)),s.add(t),hu==null||hu.observe(i)}),()=>{e.forEach(i=>{const s=mx.get(i);s==null||s.delete(t),s!=null&&s.size||hu==null||hu.unobserve(i)})}}const gx=new Set;let Fd;function r7(){Fd=()=>{const n={get width(){return window.innerWidth},get height(){return window.innerHeight}};gx.forEach(t=>t(n))},window.addEventListener("resize",Fd)}function o7(n){return gx.add(n),Fd||r7(),()=>{gx.delete(n),!gx.size&&typeof Fd=="function"&&(window.removeEventListener("resize",Fd),Fd=void 0)}}function l7(n,t){return typeof n=="function"?o7(n):a7(n,t)}function cU(n,t){let e;const i=()=>{const{currentTime:s}=t,l=(s===null?0:s.value)/100;e!==l&&n(l),e=l};return In.preUpdate(i,!0),()=>So(i)}function c7(n){return hE(n)&&n.tagName==="svg"}function u7(...n){const t=!Array.isArray(n[0]),e=t?0:-1,i=n[0+e],s=n[1+e],r=n[2+e],l=n[3+e],u=iE(s,r,l);return t?u(i):u}const gs=n=>!!(n&&n.getVelocity);function f7(n,t,e){const i=n.get();let s=null,r=i,l;const u=typeof i=="string"?i.replace(/[\d.-]/g,""):void 0,h=()=>{s&&(s.stop(),s=null)},p=()=>{h(),s=new oS({keyframes:[mR(n.get()),mR(r)],velocity:n.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...e,onUpdate:l})};n.attach((v,x)=>(r=v,l=_=>x(pR(_,u)),In.postRender(p),n.get()),h);let m;return gs(t)&&(m=t.on("change",v=>n.set(pR(v,u))),n.on("destroy",m)),m}function pR(n,t){return t?n+t:n}function mR(n){return typeof n=="number"?n:parseFloat(n)}const h7=[...eU,ki,Su],d7=n=>h7.find(tU(n)),S0=Z.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});let p7=class extends Z.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const i=e.offsetParent,s=lS(i)&&i.offsetWidth||0,r=this.props.sizeRef.current;r.height=e.offsetHeight||0,r.width=e.offsetWidth||0,r.top=e.offsetTop,r.left=e.offsetLeft,r.right=s-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}};function m7({children:n,isPresent:t,anchorX:e}){const i=Z.useId(),s=Z.useRef(null),r=Z.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=Z.useContext(S0);return Z.useInsertionEffect(()=>{const{width:u,height:h,top:p,left:m,right:v}=r.current;if(t||!s.current||!u||!h)return;const x=e==="left"?`left: ${m}`:`right: ${v}`;s.current.dataset.motionPopId=i;const _=document.createElement("style");return l&&(_.nonce=l),document.head.appendChild(_),_.sheet&&_.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${h}px !important;
            ${x}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.contains(_)&&document.head.removeChild(_)}},[t]),nt.jsx(p7,{isPresent:t,childRef:s,sizeRef:r,children:Z.cloneElement(n,{ref:s})})}const g7=({children:n,initial:t,isPresent:e,onExitComplete:i,custom:s,presenceAffectsLayout:r,mode:l,anchorX:u})=>{const h=yp(v7),p=Z.useId();let m=!0,v=Z.useMemo(()=>(m=!1,{id:p,initial:t,isPresent:e,custom:s,onExitComplete:x=>{h.set(x,!0);for(const _ of h.values())if(!_)return;i&&i()},register:x=>(h.set(x,!1),()=>h.delete(x))}),[e,h,i]);return r&&m&&(v={...v}),Z.useMemo(()=>{h.forEach((x,_)=>h.set(_,!1))},[e]),Z.useEffect(()=>{!e&&!h.size&&i&&i()},[e]),l==="popLayout"&&(n=nt.jsx(m7,{isPresent:e,anchorX:u,children:n})),nt.jsx(rS.Provider,{value:v,children:n})};function v7(){return new Map}function uU(n=!0){const t=Z.useContext(rS);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:i,register:s}=t,r=Z.useId();Z.useEffect(()=>{if(n)return s(r)},[n]);const l=Z.useCallback(()=>n&&i&&i(r),[r,i,n]);return!e&&i?[!1,l]:[!0]}const Jy=n=>n.key||"";function gR(n){const t=[];return Z.Children.forEach(n,e=>{Z.isValidElement(e)&&t.push(e)}),t}const y7=({children:n,custom:t,initial:e=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:r="sync",propagate:l=!1,anchorX:u="left"})=>{const[h,p]=uU(l),m=Z.useMemo(()=>gR(n),[n]),v=l&&!h?[]:m.map(Jy),x=Z.useRef(!0),_=Z.useRef(m),T=yp(()=>new Map),[C,E]=Z.useState(m),[M,R]=Z.useState(m);aS(()=>{x.current=!1,_.current=m;for(let z=0;z<M.length;z++){const B=Jy(M[z]);v.includes(B)?T.delete(B):T.get(B)!==!0&&T.set(B,!1)}},[M,v.length,v.join("-")]);const D=[];if(m!==C){let z=[...m];for(let B=0;B<M.length;B++){const I=M[B],V=Jy(I);v.includes(V)||(z.splice(B,0,I),D.push(I))}return r==="wait"&&D.length&&(z=D),R(gR(z)),E(m),null}const{forceRender:L}=Z.useContext(HT);return nt.jsx(nt.Fragment,{children:M.map(z=>{const B=Jy(z),I=l&&!h?!1:m===M||v.includes(B),V=()=>{if(T.has(B))T.set(B,!0);else return;let U=!0;T.forEach(P=>{P||(U=!1)}),U&&(L==null||L(),R(_.current),l&&(p==null||p()),i&&i())};return nt.jsx(g7,{isPresent:I,initial:!x.current||e?void 0:!1,custom:t,presenceAffectsLayout:s,mode:r,onExitComplete:I?void 0:V,anchorX:u,children:z},B)})})},fU=Z.createContext({strict:!1}),vR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},rp={};for(const n in vR)rp[n]={isEnabled:t=>vR[n].some(e=>!!t[e])};function x7(n){for(const t in n)rp[t]={...rp[t],...n[t]}}const _7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function p_(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||_7.has(n)}let hU=n=>!p_(n);function S7(n){typeof n=="function"&&(hU=t=>t.startsWith("on")?!p_(t):n(t))}try{S7(require("@emotion/is-prop-valid").default)}catch{}function b7(n,t,e){const i={};for(const s in n)s==="values"&&typeof n.values=="object"||(hU(s)||e===!0&&p_(s)||!t&&!p_(s)||n.draggable&&s.startsWith("onDrag"))&&(i[s]=n[s]);return i}function M7(n){if(typeof Proxy>"u")return n;const t=new Map,e=(...i)=>n(...i);return new Proxy(e,{get:(i,s)=>s==="create"?n:(t.has(s)||t.set(s,n(s)),t.get(s))})}const cS=Z.createContext({});function uS(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Zg(n){return typeof n=="string"||Array.isArray(n)}const dE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],pE=["initial",...dE];function fS(n){return uS(n.animate)||pE.some(t=>Zg(n[t]))}function dU(n){return!!(fS(n)||n.variants)}function T7(n,t){if(fS(n)){const{initial:e,animate:i}=n;return{initial:e===!1||Zg(e)?e:void 0,animate:Zg(i)?i:void 0}}return n.inherit!==!1?t:{}}function E7(n){const{initial:t,animate:e}=T7(n,Z.useContext(cS));return Z.useMemo(()=>({initial:t,animate:e}),[yR(t),yR(e)])}function yR(n){return Array.isArray(n)?n.join(" "):n}const A7=Symbol.for("motionComponentSymbol");function Hd(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function w7(n,t,e){return Z.useCallback(i=>{i&&n.onMount&&n.onMount(i),t&&(i?t.mount(i):t.unmount()),e&&(typeof e=="function"?e(i):Hd(e)&&(e.current=i))},[t])}const mE=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),C7="framerAppearId",pU="data-"+mE(C7),mU=Z.createContext({});function R7(n,t,e,i,s){var C,E;const{visualElement:r}=Z.useContext(cS),l=Z.useContext(fU),u=Z.useContext(rS),h=Z.useContext(S0).reducedMotion,p=Z.useRef(null);i=i||l.renderer,!p.current&&i&&(p.current=i(n,{visualState:t,parent:r,props:e,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const m=p.current,v=Z.useContext(mU);m&&!m.projection&&s&&(m.type==="html"||m.type==="svg")&&D7(p.current,e,s,v);const x=Z.useRef(!1);Z.useInsertionEffect(()=>{m&&x.current&&m.update(e,u)});const _=e[pU],T=Z.useRef(!!_&&!((C=window.MotionHandoffIsComplete)!=null&&C.call(window,_))&&((E=window.MotionHasOptimisedAnimation)==null?void 0:E.call(window,_)));return aS(()=>{m&&(x.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),uE.render(m.render),T.current&&m.animationState&&m.animationState.animateChanges())}),Z.useEffect(()=>{m&&(!T.current&&m.animationState&&m.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var M;(M=window.MotionHandoffMarkAsComplete)==null||M.call(window,_)}),T.current=!1))}),m}function D7(n,t,e,i){const{layoutId:s,layout:r,drag:l,dragConstraints:u,layoutScroll:h,layoutRoot:p,layoutCrossfade:m}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:gU(n.parent)),n.projection.setOptions({layoutId:s,layout:r,alwaysMeasureLayout:!!l||u&&Hd(u),visualElement:n,animationType:typeof r=="string"?r:"both",initialPromotionConfig:i,crossfade:m,layoutScroll:h,layoutRoot:p})}function gU(n){if(n)return n.options.allowProjection!==!1?n.projection:gU(n.parent)}function N7({preloadedFeatures:n,createVisualElement:t,useRender:e,useVisualState:i,Component:s}){n&&x7(n);function r(u,h){let p;const m={...Z.useContext(S0),...u,layoutId:L7(u)},{isStatic:v}=m,x=E7(u),_=i(u,v);if(!v&&GT){U7();const T=O7(m);p=T.MeasureLayout,x.visualElement=R7(s,_,m,t,T.ProjectionNode)}return nt.jsxs(cS.Provider,{value:x,children:[p&&x.visualElement?nt.jsx(p,{visualElement:x.visualElement,...m}):null,e(s,u,w7(_,x.visualElement,h),_,v,x.visualElement)]})}r.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const l=Z.forwardRef(r);return l[A7]=s,l}function L7({layoutId:n}){const t=Z.useContext(HT).id;return t&&n!==void 0?t+"-"+n:n}function U7(n,t){Z.useContext(fU).strict}function O7(n){const{drag:t,layout:e}=rp;if(!t&&!e)return{};const i={...t,...e};return{MeasureLayout:t!=null&&t.isEnabled(n)||e!=null&&e.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const Kg={};function P7(n){for(const t in n)Kg[t]=n[t],QT(t)&&(Kg[t].isCSSVariable=!0)}function vU(n,{layout:t,layoutId:e}){return Sp.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!Kg[n]||n==="opacity")}const z7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},B7=_p.length;function V7(n,t,e){let i="",s=!0;for(let r=0;r<B7;r++){const l=_p[r],u=n[l];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(l.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||e){const p=sU(u,lE[l]);if(!h){s=!1;const m=z7[l]||l;i+=`${m}(${p}) `}e&&(t[l]=p)}}return i=i.trim(),e?i=e(t,s?"":i):s&&(i="none"),i}function gE(n,t,e){const{style:i,vars:s,transformOrigin:r}=n;let l=!1,u=!1;for(const h in t){const p=t[h];if(Sp.has(h)){l=!0;continue}else if(QT(h)){s[h]=p;continue}else{const m=sU(p,lE[h]);h.startsWith("origin")?(u=!0,r[h]=m):i[h]=m}}if(t.transform||(l||e?i.transform=V7(t,n.transform,e):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:p="50%",originZ:m=0}=r;i.transformOrigin=`${h} ${p} ${m}`}}const vE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function yU(n,t,e){for(const i in t)!gs(t[i])&&!vU(i,e)&&(n[i]=t[i])}function I7({transformTemplate:n},t){return Z.useMemo(()=>{const e=vE();return gE(e,t,n),Object.assign({},e.vars,e.style)},[t])}function F7(n,t){const e=n.style||{},i={};return yU(i,e,n),Object.assign(i,I7(n,t)),i}function H7(n,t){const e={},i=F7(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=i,e}const G7={offset:"stroke-dashoffset",array:"stroke-dasharray"},k7={offset:"strokeDashoffset",array:"strokeDasharray"};function j7(n,t,e=1,i=0,s=!0){n.pathLength=1;const r=s?G7:k7;n[r.offset]=Ve.transform(-i);const l=Ve.transform(t),u=Ve.transform(e);n[r.array]=`${l} ${u}`}function xU(n,{attrX:t,attrY:e,attrScale:i,pathLength:s,pathSpacing:r=1,pathOffset:l=0,...u},h,p,m){if(gE(n,u,p),h){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:x}=n;v.transform&&(x.transform=v.transform,delete v.transform),(x.transform||v.transformOrigin)&&(x.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),x.transform&&(x.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete v.transformBox),t!==void 0&&(v.x=t),e!==void 0&&(v.y=e),i!==void 0&&(v.scale=i),s!==void 0&&j7(v,s,r,l,!1)}const _U=()=>({...vE(),attrs:{}}),SU=n=>typeof n=="string"&&n.toLowerCase()==="svg";function X7(n,t,e,i){const s=Z.useMemo(()=>{const r=_U();return xU(r,t,SU(i),n.transformTemplate,n.style),{...r.attrs,style:{...r.style}}},[t]);if(n.style){const r={};yU(r,n.style,n),s.style={...r,...s.style}}return s}const q7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function yE(n){return typeof n!="string"||n.includes("-")?!1:!!(q7.indexOf(n)>-1||/[A-Z]/u.test(n))}function Y7(n=!1){return(e,i,s,{latestValues:r},l)=>{const h=(yE(e)?X7:H7)(i,r,l,e),p=b7(i,typeof e=="string",n),m=e!==Z.Fragment?{...p,...h,ref:s}:{},{children:v}=i,x=Z.useMemo(()=>gs(v)?v.get():v,[v]);return Z.createElement(e,{...m,children:x})}}function xR(n){const t=[{},{}];return n==null||n.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function xE(n,t,e,i){if(typeof t=="function"){const[s,r]=xR(i);t=t(e!==void 0?e:n.custom,s,r)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[s,r]=xR(i);t=t(e!==void 0?e:n.custom,s,r)}return t}function vx(n){return gs(n)?n.get():n}function W7({scrapeMotionValuesFromProps:n,createRenderState:t},e,i,s){return{latestValues:Z7(e,i,s,n),renderState:t()}}const bU=n=>(t,e)=>{const i=Z.useContext(cS),s=Z.useContext(rS),r=()=>W7(n,t,i,s);return e?r():yp(r)};function Z7(n,t,e,i){const s={},r=i(n,{});for(const x in r)s[x]=vx(r[x]);let{initial:l,animate:u}=n;const h=fS(n),p=dU(n);t&&p&&!h&&n.inherit!==!1&&(l===void 0&&(l=t.initial),u===void 0&&(u=t.animate));let m=e?e.initial===!1:!1;m=m||l===!1;const v=m?u:l;if(v&&typeof v!="boolean"&&!uS(v)){const x=Array.isArray(v)?v:[v];for(let _=0;_<x.length;_++){const T=xE(n,x[_]);if(T){const{transitionEnd:C,transition:E,...M}=T;for(const R in M){let D=M[R];if(Array.isArray(D)){const L=m?D.length-1:0;D=D[L]}D!==null&&(s[R]=D)}for(const R in C)s[R]=C[R]}}}return s}function _E(n,t,e){var r;const{style:i}=n,s={};for(const l in i)(gs(i[l])||t.style&&gs(t.style[l])||vU(l,n)||((r=e==null?void 0:e.getValue(l))==null?void 0:r.liveStyle)!==void 0)&&(s[l]=i[l]);return s}const K7={useVisualState:bU({scrapeMotionValuesFromProps:_E,createRenderState:vE})};function MU(n,t,e){const i=_E(n,t,e);for(const s in n)if(gs(n[s])||gs(t[s])){const r=_p.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[r]=n[s]}return i}const Q7={useVisualState:bU({scrapeMotionValuesFromProps:MU,createRenderState:_U})};function $7(n,t){return function(i,{forwardMotionProps:s}={forwardMotionProps:!1}){const l={...yE(i)?Q7:K7,preloadedFeatures:n,useRender:Y7(s),createVisualElement:t,Component:i};return N7(l)}}function Qg(n,t,e){const i=n.getProps();return xE(i,t,e!==void 0?e:i.custom,n)}const vM=n=>Array.isArray(n);function J7(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,yo(e))}function t9(n){return vM(n)?n[n.length-1]||0:n}function e9(n,t){const e=Qg(n,t);let{transitionEnd:i={},transition:s={},...r}=e||{};r={...r,...i};for(const l in r){const u=t9(r[l]);J7(n,l,u)}}function n9(n){return!!(gs(n)&&n.add)}function yM(n,t){const e=n.getValue("willChange");if(n9(e))return e.add(t);if(!e&&pc.WillChange){const i=new pc.WillChange("auto");n.addValue("willChange",i),i.add(t)}}function TU(n){return n.props[pU]}const i9=n=>n!==null;function s9(n,{repeat:t,repeatType:e="loop"},i){const s=n.filter(i9),r=t&&e!=="loop"&&t%2===1?0:s.length-1;return s[r]}const a9={type:"spring",stiffness:500,damping:25,restSpeed:10},r9=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),o9={type:"keyframes",duration:.8},l9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},c9=(n,{keyframes:t})=>t.length>2?o9:Sp.has(n)?n.startsWith("scale")?r9(t[1]):a9:l9;function u9({when:n,delay:t,delayChildren:e,staggerChildren:i,staggerDirection:s,repeat:r,repeatType:l,repeatDelay:u,from:h,elapsed:p,...m}){return!!Object.keys(m).length}const SE=(n,t,e,i={},s,r)=>l=>{const u=oE(i,n)||{},h=u.delay||i.delay||0;let{elapsed:p=0}=i;p=p-fl(h);const m={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-p,onUpdate:x=>{t.set(x),u.onUpdate&&u.onUpdate(x)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:n,motionValue:t,element:r?void 0:s};u9(u)||Object.assign(m,c9(n,m)),m.duration&&(m.duration=fl(m.duration)),m.repeatDelay&&(m.repeatDelay=fl(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let v=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(v=!0)),(pc.instantAnimations||pc.skipAnimations)&&(v=!0,m.duration=0,m.delay=0),m.allowFlatten=!u.type&&!u.ease,v&&!r&&t.get()!==void 0){const x=s9(m.keyframes,u);if(x!==void 0){In.update(()=>{m.onUpdate(x),m.onComplete()});return}}return u.isSync?new oS(m):new Uk(m)};function f9({protectedKeys:n,needsAnimating:t},e){const i=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,i}function EU(n,t,{delay:e=0,transitionOverride:i,type:s}={}){let{transition:r=n.getDefaultTransition(),transitionEnd:l,...u}=t;i&&(r=i);const h=[],p=s&&n.animationState&&n.animationState.getState()[s];for(const m in u){const v=n.getValue(m,n.latestValues[m]??null),x=u[m];if(x===void 0||p&&f9(p,m))continue;const _={delay:e,...oE(r||{},m)},T=v.get();if(T!==void 0&&!v.isAnimating&&!Array.isArray(x)&&x===T&&!_.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const M=TU(n);if(M){const R=window.MotionHandoffAnimation(M,m,In);R!==null&&(_.startTime=R,C=!0)}}yM(n,m),v.start(SE(m,v,x,n.shouldReduceMotion&&JL.has(m)?{type:!1}:_,n,C));const E=v.animation;E&&h.push(E)}return l&&Promise.all(h).then(()=>{In.update(()=>{l&&e9(n,l)})}),h}function xM(n,t,e={}){var h;const i=Qg(n,t,e.type==="exit"?(h=n.presenceContext)==null?void 0:h.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=i||{};e.transitionOverride&&(s=e.transitionOverride);const r=i?()=>Promise.all(EU(n,i,e)):()=>Promise.resolve(),l=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:m=0,staggerChildren:v,staggerDirection:x}=s;return h9(n,t,m+p,v,x,e)}:()=>Promise.resolve(),{when:u}=s;if(u){const[p,m]=u==="beforeChildren"?[r,l]:[l,r];return p().then(()=>m())}else return Promise.all([r(),l(e.delay)])}function h9(n,t,e=0,i=0,s=1,r){const l=[],u=(n.variantChildren.size-1)*i,h=s===1?(p=0)=>p*i:(p=0)=>u-p*i;return Array.from(n.variantChildren).sort(d9).forEach((p,m)=>{p.notify("AnimationStart",t),l.push(xM(p,t,{...r,delay:e+h(m)}).then(()=>p.notify("AnimationComplete",t)))}),Promise.all(l)}function d9(n,t){return n.sortNodePosition(t)}function p9(n,t,e={}){n.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(r=>xM(n,r,e));i=Promise.all(s)}else if(typeof t=="string")i=xM(n,t,e);else{const s=typeof t=="function"?Qg(n,t,e.custom):t;i=Promise.all(EU(n,s,e))}return i.then(()=>{n.notify("AnimationComplete",t)})}function AU(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let i=0;i<e;i++)if(t[i]!==n[i])return!1;return!0}const m9=pE.length;function wU(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?wU(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<m9;e++){const i=pE[e],s=n.props[i];(Zg(s)||s===!1)&&(t[i]=s)}return t}const g9=[...dE].reverse(),v9=dE.length;function y9(n){return t=>Promise.all(t.map(({animation:e,options:i})=>p9(n,e,i)))}function x9(n){let t=y9(n),e=_R(),i=!0;const s=h=>(p,m)=>{var x;const v=Qg(n,m,h==="exit"?(x=n.presenceContext)==null?void 0:x.custom:void 0);if(v){const{transition:_,transitionEnd:T,...C}=v;p={...p,...C,...T}}return p};function r(h){t=h(n)}function l(h){const{props:p}=n,m=wU(n.parent)||{},v=[],x=new Set;let _={},T=1/0;for(let E=0;E<v9;E++){const M=g9[E],R=e[M],D=p[M]!==void 0?p[M]:m[M],L=Zg(D),z=M===h?R.isActive:null;z===!1&&(T=E);let B=D===m[M]&&D!==p[M]&&L;if(B&&i&&n.manuallyAnimateOnMount&&(B=!1),R.protectedKeys={..._},!R.isActive&&z===null||!D&&!R.prevProp||uS(D)||typeof D=="boolean")continue;const I=_9(R.prevProp,D);let V=I||M===h&&R.isActive&&!B&&L||E>T&&L,U=!1;const P=Array.isArray(D)?D:[D];let X=P.reduce(s(M),{});z===!1&&(X={});const{prevResolvedValues:pt={}}=R,it={...pt,...X},K=tt=>{V=!0,x.has(tt)&&(U=!0,x.delete(tt)),R.needsAnimating[tt]=!0;const Q=n.getValue(tt);Q&&(Q.liveStyle=!1)};for(const tt in it){const Q=X[tt],_t=pt[tt];if(_.hasOwnProperty(tt))continue;let j=!1;vM(Q)&&vM(_t)?j=!AU(Q,_t):j=Q!==_t,j?Q!=null?K(tt):x.add(tt):Q!==void 0&&x.has(tt)?K(tt):R.protectedKeys[tt]=!0}R.prevProp=D,R.prevResolvedValues=X,R.isActive&&(_={..._,...X}),i&&n.blockInitialAnimation&&(V=!1),V&&(!(B&&I)||U)&&v.push(...P.map(tt=>({animation:tt,options:{type:M}})))}if(x.size){const E={};if(typeof p.initial!="boolean"){const M=Qg(n,Array.isArray(p.initial)?p.initial[0]:p.initial);M&&M.transition&&(E.transition=M.transition)}x.forEach(M=>{const R=n.getBaseTarget(M),D=n.getValue(M);D&&(D.liveStyle=!0),E[M]=R??null}),v.push({animation:E})}let C=!!v.length;return i&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(C=!1),i=!1,C?t(v):Promise.resolve()}function u(h,p){var v;if(e[h].isActive===p)return Promise.resolve();(v=n.variantChildren)==null||v.forEach(x=>{var _;return(_=x.animationState)==null?void 0:_.setActive(h,p)}),e[h].isActive=p;const m=l(h);for(const x in e)e[x].protectedKeys={};return m}return{animateChanges:l,setActive:u,setAnimateFunction:r,getState:()=>e,reset:()=>{e=_R(),i=!0}}}function _9(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!AU(t,n):!1}function Uf(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _R(){return{animate:Uf(!0),whileInView:Uf(),whileHover:Uf(),whileTap:Uf(),whileDrag:Uf(),whileFocus:Uf(),exit:Uf()}}let Cu=class{constructor(t){this.isMounted=!1,this.node=t}update(){}},S9=class extends Cu{constructor(t){super(t),t.animationState||(t.animationState=x9(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();uS(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}},b9=0,M9=class extends Cu{constructor(){super(...arguments),this.id=b9++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);e&&!t&&s.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}};const T9={animation:{Feature:S9},exit:{Feature:M9}};function $g(n,t,e,i={passive:!0}){return n.addEventListener(t,e,i),()=>n.removeEventListener(t,e)}function b0(n){return{point:{x:n.pageX,y:n.pageY}}}const E9=n=>t=>fE(t)&&n(t,b0(t));function Sg(n,t,e,i){return $g(n,t,E9(e),i)}function CU({top:n,left:t,right:e,bottom:i}){return{x:{min:t,max:e},y:{min:n,max:i}}}function A9({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function w9(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),i=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:i.y,right:i.x}}const RU=1e-4,C9=1-RU,R9=1+RU,DU=.01,D9=0-DU,N9=0+DU;function fa(n){return n.max-n.min}function L9(n,t,e){return Math.abs(n-t)<=e}function SR(n,t,e,i=.5){n.origin=i,n.originPoint=gi(t.min,t.max,n.origin),n.scale=fa(e)/fa(t),n.translate=gi(e.min,e.max,n.origin)-n.originPoint,(n.scale>=C9&&n.scale<=R9||isNaN(n.scale))&&(n.scale=1),(n.translate>=D9&&n.translate<=N9||isNaN(n.translate))&&(n.translate=0)}function bg(n,t,e,i){SR(n.x,t.x,e.x,i?i.originX:void 0),SR(n.y,t.y,e.y,i?i.originY:void 0)}function bR(n,t,e){n.min=e.min+t.min,n.max=n.min+fa(t)}function U9(n,t,e){bR(n.x,t.x,e.x),bR(n.y,t.y,e.y)}function MR(n,t,e){n.min=t.min-e.min,n.max=n.min+fa(t)}function Mg(n,t,e){MR(n.x,t.x,e.x),MR(n.y,t.y,e.y)}const TR=()=>({translate:0,scale:1,origin:0,originPoint:0}),Gd=()=>({x:TR(),y:TR()}),ER=()=>({min:0,max:0}),zi=()=>({x:ER(),y:ER()});function Ar(n){return[n("x"),n("y")]}function ub(n){return n===void 0||n===1}function _M({scale:n,scaleX:t,scaleY:e}){return!ub(n)||!ub(t)||!ub(e)}function If(n){return _M(n)||NU(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function NU(n){return AR(n.x)||AR(n.y)}function AR(n){return n&&n!=="0%"}function m_(n,t,e){const i=n-e,s=t*i;return e+s}function wR(n,t,e,i,s){return s!==void 0&&(n=m_(n,s,i)),m_(n,e,i)+t}function SM(n,t=0,e=1,i,s){n.min=wR(n.min,t,e,i,s),n.max=wR(n.max,t,e,i,s)}function LU(n,{x:t,y:e}){SM(n.x,t.translate,t.scale,t.originPoint),SM(n.y,e.translate,e.scale,e.originPoint)}const CR=.999999999999,RR=1.0000000000001;function O9(n,t,e,i=!1){const s=e.length;if(!s)return;t.x=t.y=1;let r,l;for(let u=0;u<s;u++){r=e[u],l=r.projectionDelta;const{visualElement:h}=r.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&r.options.layoutScroll&&r.scroll&&r!==r.root&&jd(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,LU(n,l)),i&&If(r.latestValues)&&jd(n,r.latestValues))}t.x<RR&&t.x>CR&&(t.x=1),t.y<RR&&t.y>CR&&(t.y=1)}function kd(n,t){n.min=n.min+t,n.max=n.max+t}function DR(n,t,e,i,s=.5){const r=gi(n.min,n.max,s);SM(n,t,e,r,i)}function jd(n,t){DR(n.x,t.x,t.scaleX,t.scale,t.originX),DR(n.y,t.y,t.scaleY,t.scale,t.originY)}function UU(n,t){return CU(w9(n.getBoundingClientRect(),t))}function P9(n,t,e){const i=UU(n,e),{scroll:s}=t;return s&&(kd(i.x,s.offset.x),kd(i.y,s.offset.y)),i}const OU=({current:n})=>n?n.ownerDocument.defaultView:null,NR=(n,t)=>Math.abs(n-t);function z9(n,t){const e=NR(n.x,t.x),i=NR(n.y,t.y);return Math.sqrt(e**2+i**2)}let PU=class{constructor(t,e,{transformPagePoint:i,contextWindow:s,dragSnapToOrigin:r=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=hb(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,_=z9(v.offset,{x:0,y:0})>=3;if(!x&&!_)return;const{point:T}=v,{timestamp:C}=ms;this.history.push({...T,timestamp:C});const{onStart:E,onMove:M}=this.handlers;x||(E&&E(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,v)},this.handlePointerMove=(v,x)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=fb(x,this.transformPagePoint),In.update(this.updatePoint,!0)},this.handlePointerUp=(v,x)=>{this.end();const{onEnd:_,onSessionEnd:T,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=hb(v.type==="pointercancel"?this.lastMoveEventInfo:fb(x,this.transformPagePoint),this.history);this.startEvent&&_&&_(v,E),T&&T(v,E)},!fE(t))return;this.dragSnapToOrigin=r,this.handlers=e,this.transformPagePoint=i,this.contextWindow=s||window;const l=b0(t),u=fb(l,this.transformPagePoint),{point:h}=u,{timestamp:p}=ms;this.history=[{...h,timestamp:p}];const{onSessionStart:m}=e;m&&m(t,hb(u,this.history)),this.removeListeners=y0(Sg(this.contextWindow,"pointermove",this.handlePointerMove),Sg(this.contextWindow,"pointerup",this.handlePointerUp),Sg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),So(this.updatePoint)}};function fb(n,t){return t?{point:t(n.point)}:n}function LR(n,t){return{x:n.x-t.x,y:n.y-t.y}}function hb({point:n},t){return{point:n,delta:LR(n,zU(t)),offset:LR(n,B9(t)),velocity:V9(t,.1)}}function B9(n){return n[0]}function zU(n){return n[n.length-1]}function V9(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,i=null;const s=zU(n);for(;e>=0&&(i=n[e],!(s.timestamp-i.timestamp>fl(t)));)e--;if(!i)return{x:0,y:0};const r=hl(s.timestamp-i.timestamp);if(r===0)return{x:0,y:0};const l={x:(s.x-i.x)/r,y:(s.y-i.y)/r};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function I9(n,{min:t,max:e},i){return t!==void 0&&n<t?n=i?gi(t,n,i.min):Math.max(n,t):e!==void 0&&n>e&&(n=i?gi(e,n,i.max):Math.min(n,e)),n}function UR(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function F9(n,{top:t,left:e,bottom:i,right:s}){return{x:UR(n.x,e,s),y:UR(n.y,t,i)}}function OR(n,t){let e=t.min-n.min,i=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,i]=[i,e]),{min:e,max:i}}function H9(n,t){return{x:OR(n.x,t.x),y:OR(n.y,t.y)}}function G9(n,t){let e=.5;const i=fa(n),s=fa(t);return s>i?e=ap(t.min,t.max-i,n.min):i>s&&(e=ap(n.min,n.max-s,t.min)),vl(0,1,e)}function k9(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const bM=.35;function j9(n=bM){return n===!1?n=0:n===!0&&(n=bM),{x:PR(n,"left","right"),y:PR(n,"top","bottom")}}function PR(n,t,e){return{min:zR(n,t),max:zR(n,e)}}function zR(n,t){return typeof n=="number"?n:n[t]||0}const X9=new WeakMap;let q9=class{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=zi(),this.visualElement=t}start(t,{snapToCursor:e=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=m=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(b0(m).point)},r=(m,v)=>{const{drag:x,dragPropagation:_,onDragStart:T}=this.getProps();if(x&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Wk(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ar(E=>{let M=this.getAxisMotionValue(E).get()||0;if(dl.test(M)){const{projection:R}=this.visualElement;if(R&&R.layout){const D=R.layout.layoutBox[E];D&&(M=fa(D)*(parseFloat(M)/100))}}this.originPoint[E]=M}),T&&In.postRender(()=>T(m,v)),yM(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},l=(m,v)=>{const{dragPropagation:x,dragDirectionLock:_,onDirectionLock:T,onDrag:C}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:E}=v;if(_&&this.currentDirection===null){this.currentDirection=Y9(E),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",v.point,E),this.updateAxis("y",v.point,E),this.visualElement.render(),C&&C(m,v)},u=(m,v)=>this.stop(m,v),h=()=>Ar(m=>{var v;return this.getAnimationState(m)==="paused"&&((v=this.getAxisMotionValue(m).animation)==null?void 0:v.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new PU(t,{onSessionStart:s,onStart:r,onMove:l,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:OU(this.visualElement)})}stop(t,e){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=e;this.startAnimation(s);const{onDragEnd:r}=this.getProps();r&&In.postRender(()=>r(t,e))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,i){const{drag:s}=this.getProps();if(!i||!tx(t,s,this.currentDirection))return;const r=this.getAxisMotionValue(t);let l=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(l=I9(l,this.constraints[t],this.elastic[t])),r.set(l)}resolveConstraints(){var r;const{dragConstraints:t,dragElastic:e}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(r=this.visualElement.projection)==null?void 0:r.layout,s=this.constraints;t&&Hd(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=F9(i.layoutBox,t):this.constraints=!1,this.elastic=j9(e),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ar(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=k9(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Hd(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const r=P9(i,s.root,this.visualElement.getTransformPagePoint());let l=H9(s.layout.layoutBox,r);if(e){const u=e(A9(l));this.hasMutatedConstraints=!!u,u&&(l=CU(u))}return l}startAnimation(t){const{drag:e,dragMomentum:i,dragElastic:s,dragTransition:r,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},p=Ar(m=>{if(!tx(m,e,this.currentDirection))return;let v=h&&h[m]||{};l&&(v={min:0,max:0});const x=s?200:1e6,_=s?40:1e7,T={type:"inertia",velocity:i?t[m]:0,bounceStiffness:x,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...r,...v};return this.startAxisValueAnimation(m,T)});return Promise.all(p).then(u)}startAxisValueAnimation(t,e){const i=this.getAxisMotionValue(t);return yM(this.visualElement,t),i.start(SE(t,i,0,e,this.visualElement,!1))}stopAnimation(){Ar(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ar(t=>{var e;return(e=this.getAxisMotionValue(t).animation)==null?void 0:e.pause()})}getAnimationState(t){var e;return(e=this.getAxisMotionValue(t).animation)==null?void 0:e.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[e];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Ar(e=>{const{drag:i}=this.getProps();if(!tx(e,i,this.currentDirection))return;const{projection:s}=this.visualElement,r=this.getAxisMotionValue(e);if(s&&s.layout){const{min:l,max:u}=s.layout.layoutBox[e];r.set(t[e]-gi(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:i}=this.visualElement;if(!Hd(e)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ar(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const h=u.get();s[l]=G9({min:h,max:h},this.constraints[l])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Ar(l=>{if(!tx(l,t,null))return;const u=this.getAxisMotionValue(l),{min:h,max:p}=this.constraints[l];u.set(gi(h,p,s[l]))})}addListeners(){if(!this.visualElement.current)return;X9.set(this.visualElement,this);const t=this.visualElement.current,e=Sg(t,"pointerdown",h=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();Hd(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,r=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),In.read(i);const l=$g(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(Ar(m=>{const v=this.getAxisMotionValue(m);v&&(this.originPoint[m]+=h[m].translate,v.set(v.get()+h[m].translate))}),this.visualElement.render())});return()=>{l(),e(),r(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:r=!1,dragElastic:l=bM,dragMomentum:u=!0}=t;return{...t,drag:e,dragDirectionLock:i,dragPropagation:s,dragConstraints:r,dragElastic:l,dragMomentum:u}}};function tx(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function Y9(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}let W9=class extends Cu{constructor(t){super(t),this.removeGroupControls=Va,this.removeListeners=Va,this.controls=new q9(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Va}unmount(){this.removeGroupControls(),this.removeListeners()}};const BR=n=>(t,e)=>{n&&In.postRender(()=>n(t,e))};let Z9=class extends Cu{constructor(){super(...arguments),this.removePointerDownListener=Va}onPointerDown(t){this.session=new PU(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:OU(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:BR(t),onStart:BR(e),onMove:i,onEnd:(r,l)=>{delete this.session,s&&In.postRender(()=>s(r,l))}}}mount(){this.removePointerDownListener=Sg(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}};const yx={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function VR(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const Qm={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(Ve.test(n))n=parseFloat(n);else return n;const e=VR(n,t.target.x),i=VR(n,t.target.y);return`${e}% ${i}%`}},K9={correct:(n,{treeScale:t,projectionDelta:e})=>{const i=n,s=Su.parse(n);if(s.length>5)return i;const r=Su.createTransformer(n),l=typeof s[0]!="number"?1:0,u=e.x.scale*t.x,h=e.y.scale*t.y;s[0+l]/=u,s[1+l]/=h;const p=gi(u,h,.5);return typeof s[2+l]=="number"&&(s[2+l]/=p),typeof s[3+l]=="number"&&(s[3+l]/=p),r(s)}};let Q9=class extends Z.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i,layoutId:s}=this.props,{projection:r}=t;P7($9),r&&(e.group&&e.group.add(r),i&&i.register&&s&&i.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),yx.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:i,drag:s,isPresent:r}=this.props,{projection:l}=i;return l&&(l.isPresent=r,s||t.layoutDependency!==e||e===void 0||t.isPresent!==r?l.willUpdate():this.safeToRemove(),t.isPresent!==r&&(r?l.promote():l.relegate()||In.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),uE.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}};function BU(n){const[t,e]=uU(),i=Z.useContext(HT);return nt.jsx(Q9,{...n,layoutGroup:i,switchLayoutGroup:Z.useContext(mU),isPresent:t,safeToRemove:e})}const $9={borderRadius:{...Qm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Qm,borderTopRightRadius:Qm,borderBottomLeftRadius:Qm,borderBottomRightRadius:Qm,boxShadow:K9};function J9(n,t,e){const i=gs(n)?n:yo(n);return i.start(SE("",i,t,e)),i.animation}const tj=(n,t)=>n.depth-t.depth;let ej=class{constructor(){this.children=[],this.isDirty=!1}add(t){kT(this.children,t),this.isDirty=!0}remove(t){jT(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(tj),this.isDirty=!1,this.children.forEach(t)}};function nj(n,t){const e=za.now(),i=({timestamp:s})=>{const r=s-e;r>=t&&(So(i),n(r-t))};return In.setup(i,!0),()=>So(i)}const VU=["TopLeft","TopRight","BottomLeft","BottomRight"],ij=VU.length,IR=n=>typeof n=="string"?parseFloat(n):n,FR=n=>typeof n=="number"||Ve.test(n);function sj(n,t,e,i,s,r){s?(n.opacity=gi(0,e.opacity??1,aj(i)),n.opacityExit=gi(t.opacity??1,0,rj(i))):r&&(n.opacity=gi(t.opacity??1,e.opacity??1,i));for(let l=0;l<ij;l++){const u=`border${VU[l]}Radius`;let h=HR(t,u),p=HR(e,u);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||FR(h)===FR(p)?(n[u]=Math.max(gi(IR(h),IR(p),i),0),(dl.test(p)||dl.test(h))&&(n[u]+="%")):n[u]=p}(t.rotate||e.rotate)&&(n.rotate=gi(t.rotate||0,e.rotate||0,i))}function HR(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const aj=IU(0,.5,CL),rj=IU(.5,.95,Va);function IU(n,t,e){return i=>i<n?0:i>t?1:e(ap(n,t,i))}function GR(n,t){n.min=t.min,n.max=t.max}function Mr(n,t){GR(n.x,t.x),GR(n.y,t.y)}function kR(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function jR(n,t,e,i,s){return n-=t,n=m_(n,1/e,i),s!==void 0&&(n=m_(n,1/s,i)),n}function oj(n,t=0,e=1,i=.5,s,r=n,l=n){if(dl.test(t)&&(t=parseFloat(t),t=gi(l.min,l.max,t/100)-l.min),typeof t!="number")return;let u=gi(r.min,r.max,i);n===r&&(u-=t),n.min=jR(n.min,t,e,u,s),n.max=jR(n.max,t,e,u,s)}function XR(n,t,[e,i,s],r,l){oj(n,t[e],t[i],t[s],t.scale,r,l)}const lj=["x","scaleX","originX"],cj=["y","scaleY","originY"];function qR(n,t,e,i){XR(n.x,t,lj,e?e.x:void 0,i?i.x:void 0),XR(n.y,t,cj,e?e.y:void 0,i?i.y:void 0)}function YR(n){return n.translate===0&&n.scale===1}function FU(n){return YR(n.x)&&YR(n.y)}function WR(n,t){return n.min===t.min&&n.max===t.max}function uj(n,t){return WR(n.x,t.x)&&WR(n.y,t.y)}function ZR(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function HU(n,t){return ZR(n.x,t.x)&&ZR(n.y,t.y)}function KR(n){return fa(n.x)/fa(n.y)}function QR(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}let fj=class{constructor(){this.members=[]}add(t){kT(this.members,t),t.scheduleRender()}remove(t){if(jT(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(s=>t===s);if(e===0)return!1;let i;for(let s=e;s>=0;s--){const r=this.members[s];if(r.isPresent!==!1){i=r;break}}return i?(this.promote(i),!0):!1}promote(t,e){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,e&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:i}=t;e.onExitComplete&&e.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}};function hj(n,t,e){let i="";const s=n.x.translate/t.x,r=n.y.translate/t.y,l=(e==null?void 0:e.z)||0;if((s||r||l)&&(i=`translate3d(${s}px, ${r}px, ${l}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:p,rotate:m,rotateX:v,rotateY:x,skewX:_,skewY:T}=e;p&&(i=`perspective(${p}px) ${i}`),m&&(i+=`rotate(${m}deg) `),v&&(i+=`rotateX(${v}deg) `),x&&(i+=`rotateY(${x}deg) `),_&&(i+=`skewX(${_}deg) `),T&&(i+=`skewY(${T}deg) `)}const u=n.x.scale*t.x,h=n.y.scale*t.y;return(u!==1||h!==1)&&(i+=`scale(${u}, ${h})`),i||"none"}const db=["","X","Y","Z"],dj={visibility:"hidden"},pj=1e3;let mj=0;function pb(n,t,e,i){const{latestValues:s}=t;s[n]&&(e[n]=s[n],t.setStaticValue(n,0),i&&(i[n]=0))}function GU(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=TU(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:s,layoutId:r}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",In,!(s||r))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&GU(i)}function kU({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(l={},u=t==null?void 0:t()){this.id=mj++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(yj),this.nodes.forEach(Mj),this.nodes.forEach(Tj),this.nodes.forEach(xj)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new ej)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new YT),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const h=this.eventHandlers.get(l);h&&h.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=hE(l)&&!c7(l),this.instance=l;const{layoutId:u,layout:h,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||u)&&(this.isLayoutDirty=!0),n){let m;const v=()=>this.root.updateBlockedByResize=!1;n(l,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=nj(v,250),yx.hasAnimatedSinceResize&&(yx.hasAnimatedSinceResize=!1,this.nodes.forEach(JR))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&p&&(u||h)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:v,hasRelativeLayoutChanged:x,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||p.getDefaultTransition()||Rj,{onLayoutAnimationStart:C,onLayoutAnimationComplete:E}=p.getProps(),M=!this.targetLayout||!HU(this.targetLayout,_),R=!v&&x;if(this.options.layoutRoot||this.resumeFrom||R||v&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const D={...oE(T,"layout"),onPlay:C,onComplete:E};(p.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D),this.setAnimationOrigin(m,R)}else v||JR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),So(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ej),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&GU(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const v=this.path[m];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($R);return}this.isUpdating||this.nodes.forEach(Sj),this.isUpdating=!1,this.nodes.forEach(bj),this.nodes.forEach(gj),this.nodes.forEach(vj),this.clearAllSnapshots();const u=za.now();ms.delta=vl(0,1e3/60,u-ms.timestamp),ms.timestamp=u,ms.isProcessing=!0,ab.update.process(ms),ab.preRender.process(ms),ab.render.process(ms),ms.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,uE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(_j),this.sharedNodes.forEach(Aj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,In.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){In.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!fa(this.snapshot.measuredBox.x)&&!fa(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=zi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!FU(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;l&&this.instance&&(u||If(this.latestValues)||m)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return l&&(h=this.removeTransform(h)),Dj(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:l}=this.options;if(!l)return zi();const u=l.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(Nj))){const{scroll:m}=this.root;m&&(kd(u.x,m.offset.x),kd(u.y,m.offset.y))}return u}removeElementScroll(l){var h;const u=zi();if(Mr(u,l),(h=this.scroll)!=null&&h.wasRoot)return u;for(let p=0;p<this.path.length;p++){const m=this.path[p],{scroll:v,options:x}=m;m!==this.root&&v&&x.layoutScroll&&(v.wasRoot&&Mr(u,l),kd(u.x,v.offset.x),kd(u.y,v.offset.y))}return u}applyTransform(l,u=!1){const h=zi();Mr(h,l);for(let p=0;p<this.path.length;p++){const m=this.path[p];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&jd(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),If(m.latestValues)&&jd(h,m.latestValues)}return If(this.latestValues)&&jd(h,this.latestValues),h}removeTransform(l){const u=zi();Mr(u,l);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!If(p.latestValues))continue;_M(p.latestValues)&&p.updateSnapshot();const m=zi(),v=p.measurePageBox();Mr(m,v),qR(u,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return If(this.latestValues)&&qR(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ms.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var x;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:v}=this.options;if(!(!this.layout||!(m||v))){if(this.resolvedRelativeTargetAt=ms.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zi(),this.relativeTargetOrigin=zi(),Mg(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),Mr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=zi(),this.targetWithTransforms=zi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),U9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Mr(this.target,this.layout.layoutBox),LU(this.target,this.targetDelta)):Mr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zi(),this.relativeTargetOrigin=zi(),Mg(this.relativeTargetOrigin,this.target,_.target),Mr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||_M(this.parent.latestValues)||NU(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var T;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===ms.timestamp&&(h=!1),h)return;const{layout:p,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||m))return;Mr(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,x=this.treeScale.y;O9(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=zi());const{target:_}=l;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(kR(this.prevProjectionDelta.x,this.projectionDelta.x),kR(this.prevProjectionDelta.y,this.projectionDelta.y)),bg(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==x||!QR(this.projectionDelta.x,this.prevProjectionDelta.x)||!QR(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Gd(),this.projectionDelta=Gd(),this.projectionDeltaWithTransform=Gd()}setAnimationOrigin(l,u=!1){const h=this.snapshot,p=h?h.latestValues:{},m={...this.latestValues},v=Gd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const x=zi(),_=h?h.source:void 0,T=this.layout?this.layout.source:void 0,C=_!==T,E=this.getStack(),M=!E||E.members.length<=1,R=!!(C&&!M&&this.options.crossfade===!0&&!this.path.some(Cj));this.animationProgress=0;let D;this.mixTargetDelta=L=>{const z=L/1e3;t2(v.x,l.x,z),t2(v.y,l.y,z),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Mg(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),wj(this.relativeTarget,this.relativeTargetOrigin,x,z),D&&uj(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=zi()),Mr(D,this.relativeTarget)),C&&(this.animationValues=m,sj(m,p,this.latestValues,z,R,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var u,h,p;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(p=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||p.stop(),this.pendingAnimation&&(So(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=In.update(()=>{yx.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=yo(0)),this.currentAnimation=J9(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),l.onUpdate&&l.onUpdate(m)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(pj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:h,layout:p,latestValues:m}=l;if(!(!u||!h||!p)){if(this!==l&&this.layout&&p&&jU(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||zi();const v=fa(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+v;const x=fa(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+x}Mr(u,h),jd(u,m),bg(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new fj),this.sharedNodes.get(l).add(u);const p=u.options.initialPromotionConfig;u.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var u;const{layoutId:l}=this.options;return l?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:l}=this.options;return l?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const p={};h.z&&pb("z",l,p,this.animationValues);for(let m=0;m<db.length;m++)pb(`rotate${db[m]}`,l,p,this.animationValues),pb(`skew${db[m]}`,l,p,this.animationValues);l.render();for(const m in p)l.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);l.scheduleRender()}getProjectionStyles(l){if(!this.instance||this.isSVG)return;if(!this.isVisible)return dj;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=vx(l==null?void 0:l.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=vx(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!If(this.latestValues)&&(_.transform=h?h({},""):"none",this.hasProjected=!1),_}const m=p.animationValues||p.latestValues;this.applyTransformsToTarget(),u.transform=hj(this.projectionDeltaWithTransform,this.treeScale,m),h&&(u.transform=h(m,u.transform));const{x:v,y:x}=this.projectionDelta;u.transformOrigin=`${v.origin*100}% ${x.origin*100}% 0`,p.animationValues?u.opacity=p===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const _ in Kg){if(m[_]===void 0)continue;const{correct:T,applyTo:C,isCSSVariable:E}=Kg[_],M=u.transform==="none"?m[_]:T(m[_],p);if(C){const R=C.length;for(let D=0;D<R;D++)u[C[D]]=M}else E?this.options.visualElement.renderState.vars[_]=M:u[_]=M}return this.options.layoutId&&(u.pointerEvents=p===this?vx(l==null?void 0:l.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach($R),this.root.sharedNodes.clear()}}}function gj(n){n.updateLayout()}function vj(n){var e;const t=((e=n.resumeFrom)==null?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=n.layout,{animationType:r}=n.options,l=t.source!==n.layout.source;r==="size"?Ar(v=>{const x=l?t.measuredBox[v]:t.layoutBox[v],_=fa(x);x.min=i[v].min,x.max=x.min+_}):jU(r,t.layoutBox,i)&&Ar(v=>{const x=l?t.measuredBox[v]:t.layoutBox[v],_=fa(i[v]);x.max=x.min+_,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[v].max=n.relativeTarget[v].min+_)});const u=Gd();bg(u,i,t.layoutBox);const h=Gd();l?bg(h,n.applyTransform(s,!0),t.measuredBox):bg(h,i,t.layoutBox);const p=!FU(u);let m=!1;if(!n.resumeFrom){const v=n.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:x,layout:_}=v;if(x&&_){const T=zi();Mg(T,t.layoutBox,x.layoutBox);const C=zi();Mg(C,i,_.layoutBox),HU(T,C)||(m=!0),v.options.layoutRoot&&(n.relativeTarget=C,n.relativeTargetOrigin=T,n.relativeParent=v)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:h,layoutDelta:u,hasLayoutChanged:p,hasRelativeLayoutChanged:m})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function yj(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function xj(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function _j(n){n.clearSnapshot()}function $R(n){n.clearMeasurements()}function Sj(n){n.isLayoutDirty=!1}function bj(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function JR(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function Mj(n){n.resolveTargetDelta()}function Tj(n){n.calcProjection()}function Ej(n){n.resetSkewAndRotation()}function Aj(n){n.removeLeadSnapshot()}function t2(n,t,e){n.translate=gi(t.translate,0,e),n.scale=gi(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function e2(n,t,e,i){n.min=gi(t.min,e.min,i),n.max=gi(t.max,e.max,i)}function wj(n,t,e,i){e2(n.x,t.x,e.x,i),e2(n.y,t.y,e.y,i)}function Cj(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const Rj={duration:.45,ease:[.4,0,.1,1]},n2=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),i2=n2("applewebkit/")&&!n2("chrome/")?Math.round:Va;function s2(n){n.min=i2(n.min),n.max=i2(n.max)}function Dj(n){s2(n.x),s2(n.y)}function jU(n,t,e){return n==="position"||n==="preserve-aspect"&&!L9(KR(t),KR(e),.2)}function Nj(n){var t;return n!==n.root&&((t=n.scroll)==null?void 0:t.wasRoot)}const Lj=kU({attachResizeListener:(n,t)=>$g(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),mb={current:void 0},XU=kU({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!mb.current){const n=new Lj({});n.mount(window),n.setOptions({layoutScroll:!0}),mb.current=n}return mb.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Uj={pan:{Feature:Z9},drag:{Feature:W9,ProjectionNode:XU,MeasureLayout:BU}};function a2(n,t,e){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",e==="Start");const s="onHover"+e,r=i[s];r&&In.postRender(()=>r(t,b0(t)))}let Oj=class extends Cu{mount(){const{current:t}=this.node;t&&(this.unmount=Zk(t,(e,i)=>(a2(this.node,i,"Start"),s=>a2(this.node,s,"End"))))}unmount(){}},Pj=class extends Cu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=y0($g(this.node.current,"focus",()=>this.onFocus()),$g(this.node.current,"blur",()=>this.onBlur()))}unmount(){}};function r2(n,t,e){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",e==="Start");const s="onTap"+(e==="End"?"":e),r=i[s];r&&In.postRender(()=>r(t,b0(t)))}let zj=class extends Cu{mount(){const{current:t}=this.node;t&&(this.unmount=Jk(t,(e,i)=>(r2(this.node,i,"Start"),(s,{success:r})=>r2(this.node,s,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}};const MM=new WeakMap,gb=new WeakMap,Bj=n=>{const t=MM.get(n.target);t&&t(n)},Vj=n=>{n.forEach(Bj)};function Ij({root:n,...t}){const e=n||document;gb.has(e)||gb.set(e,{});const i=gb.get(e),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(Vj,{root:n,...t})),i[s]}function Fj(n,t,e){const i=Ij(t);return MM.set(n,e),i.observe(n),()=>{MM.delete(n),i.unobserve(n)}}const Hj={some:0,all:1};let Gj=class extends Cu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:i,amount:s="some",once:r}=t,l={root:e?e.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:Hj[s]},u=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,r&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:v}=this.node.getProps(),x=p?m:v;x&&x(h)};return Fj(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(kj(t,e))&&this.startObserver()}unmount(){}};function kj({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const jj={inView:{Feature:Gj},tap:{Feature:zj},focus:{Feature:Pj},hover:{Feature:Oj}},Xj={layout:{ProjectionNode:XU,MeasureLayout:BU}},TM={current:null},qU={current:!1};function qj(){if(qU.current=!0,!!GT)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>TM.current=n.matches;n.addListener(t),t()}else TM.current=!1}const Yj=new WeakMap;function Wj(n,t,e){for(const i in t){const s=t[i],r=e[i];if(gs(s))n.addValue(i,s);else if(gs(r))n.addValue(i,yo(s,{owner:n}));else if(r!==s)if(n.hasValue(i)){const l=n.getValue(i);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=n.getStaticValue(i);n.addValue(i,yo(l!==void 0?l:s,{owner:n}))}}for(const i in e)t[i]===void 0&&n.removeValue(i);return t}const o2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Zj=class{scrapeMotionValuesFromProps(t,e,i){return{}}constructor({parent:t,props:e,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:r,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=rE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=za.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,In.render(this.render,!1,!0))};const{latestValues:h,renderState:p}=l;this.latestValues=h,this.baseTarget={...h},this.initialValues=e.initial?{...h}:{},this.renderState=p,this.parent=t,this.props=e,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!r,this.isControllingVariants=fS(e),this.isVariantNode=dU(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...v}=this.scrapeMotionValuesFromProps(e,{},this);for(const x in v){const _=v[x];h[x]!==void 0&&gs(_)&&_.set(h[x],!1)}}mount(t){this.current=t,Yj.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,i)=>this.bindToMotionValue(i,e)),qU.current||qj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:TM.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),So(this.notifyUpdate),So(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Sp.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=e.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&In.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),r=e.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{s(),r(),l&&l(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in rp){const e=rp[t];if(!e)continue;const{isEnabled:i,Feature:s}=e;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):zi()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let i=0;i<o2.length;i++){const s=o2[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const r="on"+s,l=t[r];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=Wj(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const i=this.values.get(t);e!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&e!==void 0&&(i=yo(e===null?void 0:e,{owner:this}),this.addValue(t,i)),i}readValue(t,e){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(xL(i)||SL(i))?i=parseFloat(i):!d7(i)&&Su.test(e)&&(i=iU(t,e)),this.setBaseTarget(t,gs(i)?i.get():i)),gs(i)?i.get():i}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var r;const{initial:e}=this.props;let i;if(typeof e=="string"||typeof e=="object"){const l=xE(this.props,e,(r=this.presenceContext)==null?void 0:r.custom);l&&(i=l[t])}if(e&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!gs(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new YT),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}},YU=class extends Zj{constructor(){super(...arguments),this.KeyframeResolver=Xk}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:i}){delete e[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;gs(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}};function WU(n,{style:t,vars:e},i,s){Object.assign(n.style,t,s&&s.getProjectionStyles(i));for(const r in e)n.style.setProperty(r,e[r])}function Kj(n){return window.getComputedStyle(n)}let Qj=class extends YU{constructor(){super(...arguments),this.type="html",this.renderInstance=WU}readValueFromInstance(t,e){var i;if(Sp.has(e))return(i=this.projection)!=null&&i.isProjecting?fM(e):fk(t,e);{const s=Kj(t),r=(QT(e)?s.getPropertyValue(e):s[e])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:e}){return UU(t,e)}build(t,e,i){gE(t,e,i.transformTemplate)}scrapeMotionValuesFromProps(t,e,i){return _E(t,e,i)}};const ZU=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function $j(n,t,e,i){WU(n,t,void 0,i);for(const s in t.attrs)n.setAttribute(ZU.has(s)?s:mE(s),t.attrs[s])}let Jj=class extends YU{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=zi}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Sp.has(e)){const i=nU(e);return i&&i.default||0}return e=ZU.has(e)?e:mE(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,i){return MU(t,e,i)}build(t,e,i){xU(t,e,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,e,i,s){$j(t,e,i,s)}mount(t){this.isSVGTag=SU(t.tagName),super.mount(t)}};const tX=(n,t)=>yE(n)?new Jj(t):new Qj(t,{allowProjection:n!==Z.Fragment}),eX=$7({...T9,...jj,...Uj,...Xj},tX),Di=M7(eX),nX=50,l2=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),iX=()=>({time:0,x:l2(),y:l2()}),sX={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function c2(n,t,e,i){const s=e[t],{length:r,position:l}=sX[t],u=s.current,h=e.time;s.current=n[`scroll${l}`],s.scrollLength=n[`scroll${r}`]-n[`client${r}`],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=ap(0,s.scrollLength,s.current);const p=i-h;s.velocity=p>nX?0:WT(s.current-u,p)}function aX(n,t,e){c2(n,"x",t,e),c2(n,"y",t,e),t.time=e}function rX(n,t){const e={x:0,y:0};let i=n;for(;i&&i!==t;)if(lS(i))e.x+=i.offsetLeft,e.y+=i.offsetTop,i=i.offsetParent;else if(i.tagName==="svg"){const s=i.getBoundingClientRect();i=i.parentElement;const r=i.getBoundingClientRect();e.x+=s.left-r.left,e.y+=s.top-r.top}else if(i instanceof SVGGraphicsElement){const{x:s,y:r}=i.getBBox();e.x+=s,e.y+=r;let l=null,u=i.parentNode;for(;!l;)u.tagName==="svg"&&(l=u),u=i.parentNode;i=l}else break;return e}const EM={start:0,center:.5,end:1};function u2(n,t,e=0){let i=0;if(n in EM&&(n=EM[n]),typeof n=="string"){const s=parseFloat(n);n.endsWith("px")?i=s:n.endsWith("%")?n=s/100:n.endsWith("vw")?i=s/100*document.documentElement.clientWidth:n.endsWith("vh")?i=s/100*document.documentElement.clientHeight:n=s}return typeof n=="number"&&(i=t*n),e+i}const oX=[0,0];function lX(n,t,e,i){let s=Array.isArray(n)?n:oX,r=0,l=0;return typeof n=="number"?s=[n,n]:typeof n=="string"&&(n=n.trim(),n.includes(" ")?s=n.split(" "):s=[n,EM[n]?n:"0"]),r=u2(s[0],e,i),l=u2(s[1],t),r-l}const cX={All:[[0,0],[1,1]]},uX={x:0,y:0};function fX(n){return"getBBox"in n&&n.tagName!=="svg"?n.getBBox():{width:n.clientWidth,height:n.clientHeight}}function hX(n,t,e){const{offset:i=cX.All}=e,{target:s=n,axis:r="y"}=e,l=r==="y"?"height":"width",u=s!==n?rX(s,n):uX,h=s===n?{width:n.scrollWidth,height:n.scrollHeight}:fX(s),p={width:n.clientWidth,height:n.clientHeight};t[r].offset.length=0;let m=!t[r].interpolate;const v=i.length;for(let x=0;x<v;x++){const _=lX(i[x],p[l],h[l],u[r]);!m&&_!==t[r].interpolatorOffsets[x]&&(m=!0),t[r].offset[x]=_}m&&(t[r].interpolate=iE(t[r].offset,kL(i),{clamp:!1}),t[r].interpolatorOffsets=[...t[r].offset]),t[r].progress=vl(0,1,t[r].interpolate(t[r].current))}function dX(n,t=n,e){if(e.x.targetOffset=0,e.y.targetOffset=0,t!==n){let i=t;for(;i&&i!==n;)e.x.targetOffset+=i.offsetLeft,e.y.targetOffset+=i.offsetTop,i=i.offsetParent}e.x.targetLength=t===n?t.scrollWidth:t.clientWidth,e.y.targetLength=t===n?t.scrollHeight:t.clientHeight,e.x.containerLength=n.clientWidth,e.y.containerLength=n.clientHeight}function pX(n,t,e,i={}){return{measure:s=>{dX(n,i.target,e),aX(n,e,s),(i.offset||i.target)&&hX(n,e,i)},notify:()=>t(e)}}const $m=new WeakMap,f2=new WeakMap,vb=new WeakMap,h2=n=>n===document.scrollingElement?window:n;function KU(n,{container:t=document.scrollingElement,...e}={}){if(!t)return Va;let i=vb.get(t);i||(i=new Set,vb.set(t,i));const s=iX(),r=pX(t,n,s,e);if(i.add(r),!$m.has(t)){const u=()=>{for(const v of i)v.measure(ms.timestamp);In.preUpdate(h)},h=()=>{for(const v of i)v.notify()},p=()=>In.read(u);$m.set(t,p);const m=h2(t);window.addEventListener("resize",p,{passive:!0}),t!==document.documentElement&&f2.set(t,l7(t,p)),m.addEventListener("scroll",p,{passive:!0}),p()}const l=$m.get(t);return In.read(l,!1,!0),()=>{var p;So(l);const u=vb.get(t);if(!u||(u.delete(r),u.size))return;const h=$m.get(t);$m.delete(t),h&&(h2(t).removeEventListener("scroll",h),(p=f2.get(t))==null||p(),window.removeEventListener("resize",h))}}const d2=new Map;function mX(n){const t={value:0},e=KU(i=>{t.value=i[n.axis].progress*100},n);return{currentTime:t,cancel:e}}function QU({source:n,container:t,...e}){const{axis:i}=e;n&&(t=n);const s=d2.get(t)??new Map;d2.set(t,s);const r=e.target??"self",l=s.get(r)??{},u=i+(e.offset??[]).join(",");return l[u]||(l[u]=!e.target&&YL()?new ScrollTimeline({source:t,axis:i}):mX({container:t,...e})),l[u]}function gX(n,t){const e=QU(t);return n.attachTimeline({timeline:t.target?void 0:e,observe:i=>(i.pause(),cU(s=>{i.time=i.duration*s},e))})}function vX(n){return n.length===2}function yX(n,t){return vX(n)?KU(e=>{n(e[t.axis].progress,e)},t):cU(n,QU(t))}function xX(n,{axis:t="y",container:e=document.scrollingElement,...i}={}){if(!e)return Va;const s={axis:t,container:e,...i};return typeof n=="function"?yX(n,s):gX(n,s)}function p2(n,t){u8(!!(!t||t.current))}const _X=()=>({scrollX:yo(0),scrollY:yo(0),scrollXProgress:yo(0),scrollYProgress:yo(0)});function $U({container:n,target:t,layoutEffect:e=!0,...i}={}){const s=yp(_X);return(e?aS:Z.useEffect)(()=>(p2("target",t),p2("container",n),xX((l,{x:u,y:h})=>{s.scrollX.set(u.current),s.scrollXProgress.set(u.progress),s.scrollY.set(h.current),s.scrollYProgress.set(h.progress)},{...i,container:(n==null?void 0:n.current)||void 0,target:(t==null?void 0:t.current)||void 0})),[n,t,JSON.stringify(i.offset)]),s}function g_(n){const t=yp(()=>yo(n)),{isStatic:e}=Z.useContext(S0);if(e){const[,i]=Z.useState(n);Z.useEffect(()=>t.on("change",i),[])}return t}function JU(n,t){const e=g_(t()),i=()=>e.set(t());return i(),aS(()=>{const s=()=>In.preRender(i,!1,!0),r=n.map(l=>l.on("change",s));return()=>{r.forEach(l=>l()),So(i)}}),e}function SX(n){_g.current=[],n();const t=JU(_g.current,n);return _g.current=void 0,t}function vu(n,t,e,i){if(typeof n=="function")return SX(n);const s=typeof t=="function"?t:u7(t,e,i);return Array.isArray(n)?m2(n,s):m2([n],([r])=>s(r))}function m2(n,t){const e=yp(()=>[]);return JU(n,()=>{e.length=0;const i=n.length;for(let s=0;s<i;s++)e[s]=n[s].get();return t(e)})}function AM(n,t={}){const{isStatic:e}=Z.useContext(S0),i=()=>gs(n)?n.get():n;if(e)return vu(i);const s=g_(i());return Z.useInsertionEffect(()=>f7(s,n,t),[s,JSON.stringify(t)]),s}const bX={some:0,all:1};function MX(n,t,{root:e,margin:i,amount:s="some"}={}){const r=cE(n),l=new WeakMap,u=p=>{p.forEach(m=>{const v=l.get(m.target);if(m.isIntersecting!==!!v)if(m.isIntersecting){const x=t(m.target,m);typeof x=="function"?l.set(m.target,x):h.unobserve(m.target)}else typeof v=="function"&&(v(m),l.delete(m.target))})},h=new IntersectionObserver(u,{root:e,rootMargin:i,threshold:typeof s=="number"?s:bX[s]});return r.forEach(p=>h.observe(p)),()=>h.disconnect()}function tO(n,{root:t,margin:e,amount:i,once:s=!1,initial:r=!1}={}){const[l,u]=Z.useState(r);return Z.useEffect(()=>{if(!n.current||s&&l)return;const h=()=>(u(!0),s?void 0:()=>u(!1)),p={root:t&&t.current||void 0,margin:e,amount:i};return MX(n.current,h,p)},[t,n,e,s,i]),l}const bE="-",TX=n=>{const t=AX(n),{conflictingClassGroups:e,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:l=>{const u=l.split(bE);return u[0]===""&&u.length!==1&&u.shift(),eO(u,t)||EX(l)},getConflictingClassGroupIds:(l,u)=>{const h=e[l]||[];return u&&i[l]?[...h,...i[l]]:h}}},eO=(n,t)=>{var l;if(n.length===0)return t.classGroupId;const e=n[0],i=t.nextPart.get(e),s=i?eO(n.slice(1),i):void 0;if(s)return s;if(t.validators.length===0)return;const r=n.join(bE);return(l=t.validators.find(({validator:u})=>u(r)))==null?void 0:l.classGroupId},g2=/^\[(.+)\]$/,EX=n=>{if(g2.test(n)){const t=g2.exec(n)[1],e=t==null?void 0:t.substring(0,t.indexOf(":"));if(e)return"arbitrary.."+e}},AX=n=>{const{theme:t,classGroups:e}=n,i={nextPart:new Map,validators:[]};for(const s in e)wM(e[s],i,s,t);return i},wM=(n,t,e,i)=>{n.forEach(s=>{if(typeof s=="string"){const r=s===""?t:v2(t,s);r.classGroupId=e;return}if(typeof s=="function"){if(wX(s)){wM(s(i),t,e,i);return}t.validators.push({validator:s,classGroupId:e});return}Object.entries(s).forEach(([r,l])=>{wM(l,v2(t,r),e,i)})})},v2=(n,t)=>{let e=n;return t.split(bE).forEach(i=>{e.nextPart.has(i)||e.nextPart.set(i,{nextPart:new Map,validators:[]}),e=e.nextPart.get(i)}),e},wX=n=>n.isThemeGetter,CX=n=>{if(n<1)return{get:()=>{},set:()=>{}};let t=0,e=new Map,i=new Map;const s=(r,l)=>{e.set(r,l),t++,t>n&&(t=0,i=e,e=new Map)};return{get(r){let l=e.get(r);if(l!==void 0)return l;if((l=i.get(r))!==void 0)return s(r,l),l},set(r,l){e.has(r)?e.set(r,l):s(r,l)}}},CM="!",RM=":",RX=RM.length,DX=n=>{const{prefix:t,experimentalParseClassName:e}=n;let i=s=>{const r=[];let l=0,u=0,h=0,p;for(let T=0;T<s.length;T++){let C=s[T];if(l===0&&u===0){if(C===RM){r.push(s.slice(h,T)),h=T+RX;continue}if(C==="/"){p=T;continue}}C==="["?l++:C==="]"?l--:C==="("?u++:C===")"&&u--}const m=r.length===0?s:s.substring(h),v=NX(m),x=v!==m,_=p&&p>h?p-h:void 0;return{modifiers:r,hasImportantModifier:x,baseClassName:v,maybePostfixModifierPosition:_}};if(t){const s=t+RM,r=i;i=l=>l.startsWith(s)?r(l.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(e){const s=i;i=r=>e({className:r,parseClassName:s})}return i},NX=n=>n.endsWith(CM)?n.substring(0,n.length-1):n.startsWith(CM)?n.substring(1):n,LX=n=>{const t=Object.fromEntries(n.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const s=[];let r=[];return i.forEach(l=>{l[0]==="["||t[l]?(s.push(...r.sort(),l),r=[]):r.push(l)}),s.push(...r.sort()),s}},UX=n=>({cache:CX(n.cacheSize),parseClassName:DX(n),sortModifiers:LX(n),...TX(n)}),OX=/\s+/,PX=(n,t)=>{const{parseClassName:e,getClassGroupId:i,getConflictingClassGroupIds:s,sortModifiers:r}=t,l=[],u=n.trim().split(OX);let h="";for(let p=u.length-1;p>=0;p-=1){const m=u[p],{isExternal:v,modifiers:x,hasImportantModifier:_,baseClassName:T,maybePostfixModifierPosition:C}=e(m);if(v){h=m+(h.length>0?" "+h:h);continue}let E=!!C,M=i(E?T.substring(0,C):T);if(!M){if(!E){h=m+(h.length>0?" "+h:h);continue}if(M=i(T),!M){h=m+(h.length>0?" "+h:h);continue}E=!1}const R=r(x).join(":"),D=_?R+CM:R,L=D+M;if(l.includes(L))continue;l.push(L);const z=s(M,E);for(let B=0;B<z.length;++B){const I=z[B];l.push(D+I)}h=m+(h.length>0?" "+h:h)}return h};function zX(){let n=0,t,e,i="";for(;n<arguments.length;)(t=arguments[n++])&&(e=nO(t))&&(i&&(i+=" "),i+=e);return i}const nO=n=>{if(typeof n=="string")return n;let t,e="";for(let i=0;i<n.length;i++)n[i]&&(t=nO(n[i]))&&(e&&(e+=" "),e+=t);return e};function BX(n,...t){let e,i,s,r=l;function l(h){const p=t.reduce((m,v)=>v(m),n());return e=UX(p),i=e.cache.get,s=e.cache.set,r=u,u(h)}function u(h){const p=i(h);if(p)return p;const m=PX(h,e);return s(h,m),m}return function(){return r(zX.apply(null,arguments))}}const ps=n=>{const t=e=>e[n]||[];return t.isThemeGetter=!0,t},iO=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,sO=/^\((?:(\w[\w-]*):)?(.+)\)$/i,VX=/^\d+\/\d+$/,IX=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,FX=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,HX=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,GX=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,kX=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Nd=n=>VX.test(n),pn=n=>!!n&&!Number.isNaN(Number(n)),Of=n=>!!n&&Number.isInteger(Number(n)),y2=n=>n.endsWith("%")&&pn(n.slice(0,-1)),uu=n=>IX.test(n),jX=()=>!0,XX=n=>FX.test(n)&&!HX.test(n),ME=()=>!1,qX=n=>GX.test(n),YX=n=>kX.test(n),WX=n=>!me(n)&&!ge(n),ZX=n=>bp(n,oO,ME),me=n=>iO.test(n),Pf=n=>bp(n,lO,XX),yb=n=>bp(n,rq,pn),KX=n=>bp(n,aO,ME),QX=n=>bp(n,rO,YX),$X=n=>bp(n,ME,qX),ge=n=>sO.test(n),ex=n=>Mp(n,lO),JX=n=>Mp(n,oq),tq=n=>Mp(n,aO),eq=n=>Mp(n,oO),nq=n=>Mp(n,rO),iq=n=>Mp(n,lq,!0),bp=(n,t,e)=>{const i=iO.exec(n);return i?i[1]?t(i[1]):e(i[2]):!1},Mp=(n,t,e=!1)=>{const i=sO.exec(n);return i?i[1]?t(i[1]):e:!1},aO=n=>n==="position",sq=new Set(["image","url"]),rO=n=>sq.has(n),aq=new Set(["length","size","percentage"]),oO=n=>aq.has(n),lO=n=>n==="length",rq=n=>n==="number",oq=n=>n==="family-name",lq=n=>n==="shadow",cq=()=>{const n=ps("color"),t=ps("font"),e=ps("text"),i=ps("font-weight"),s=ps("tracking"),r=ps("leading"),l=ps("breakpoint"),u=ps("container"),h=ps("spacing"),p=ps("radius"),m=ps("shadow"),v=ps("inset-shadow"),x=ps("drop-shadow"),_=ps("blur"),T=ps("perspective"),C=ps("aspect"),E=ps("ease"),M=ps("animate"),R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto","contain","none"],B=()=>[Nd,"px","full","auto",ge,me,h],I=()=>[Of,"none","subgrid",ge,me],V=()=>["auto",{span:["full",Of,ge,me]},ge,me],U=()=>[Of,"auto",ge,me],P=()=>["auto","min","max","fr",ge,me],X=()=>[ge,me,h],pt=()=>["start","end","center","between","around","evenly","stretch","baseline"],it=()=>["start","end","center","stretch"],K=()=>[ge,me,h],lt=()=>["px",...K()],J=()=>["px","auto",...K()],tt=()=>[Nd,"auto","px","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",ge,me,h],Q=()=>[n,ge,me],_t=()=>[y2,Pf],j=()=>["","none","full",p,ge,me],at=()=>["",pn,ex,Pf],At=()=>["solid","dashed","dotted","double"],zt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],st=()=>["","none",_,ge,me],Et=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ge,me],Ut=()=>["none",pn,ge,me],It=()=>["none",pn,ge,me],kt=()=>[pn,ge,me],ye=()=>[Nd,"full","px",ge,me,h];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[uu],breakpoint:[uu],color:[jX],container:[uu],"drop-shadow":[uu],ease:["in","out","in-out"],font:[WX],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[uu],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[uu],shadow:[uu],spacing:[pn],text:[uu],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Nd,me,ge,C]}],container:["container"],columns:[{columns:[pn,me,ge,u]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...D(),me,ge]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:B()}],"inset-x":[{"inset-x":B()}],"inset-y":[{"inset-y":B()}],start:[{start:B()}],end:[{end:B()}],top:[{top:B()}],right:[{right:B()}],bottom:[{bottom:B()}],left:[{left:B()}],visibility:["visible","invisible","collapse"],z:[{z:[Of,"auto",ge,me]}],basis:[{basis:[Nd,"full","auto",ge,me,u,h]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[pn,Nd,"auto","initial","none",me]}],grow:[{grow:["",pn,ge,me]}],shrink:[{shrink:["",pn,ge,me]}],order:[{order:[Of,"first","last","none",ge,me]}],"grid-cols":[{"grid-cols":I()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":I()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":P()}],"auto-rows":[{"auto-rows":P()}],gap:[{gap:X()}],"gap-x":[{"gap-x":X()}],"gap-y":[{"gap-y":X()}],"justify-content":[{justify:[...pt(),"normal"]}],"justify-items":[{"justify-items":[...it(),"normal"]}],"justify-self":[{"justify-self":["auto",...it()]}],"align-content":[{content:["normal",...pt()]}],"align-items":[{items:[...it(),"baseline"]}],"align-self":[{self:["auto",...it(),"baseline"]}],"place-content":[{"place-content":pt()}],"place-items":[{"place-items":[...it(),"baseline"]}],"place-self":[{"place-self":["auto",...it()]}],p:[{p:lt()}],px:[{px:lt()}],py:[{py:lt()}],ps:[{ps:lt()}],pe:[{pe:lt()}],pt:[{pt:lt()}],pr:[{pr:lt()}],pb:[{pb:lt()}],pl:[{pl:lt()}],m:[{m:J()}],mx:[{mx:J()}],my:[{my:J()}],ms:[{ms:J()}],me:[{me:J()}],mt:[{mt:J()}],mr:[{mr:J()}],mb:[{mb:J()}],ml:[{ml:J()}],"space-x":[{"space-x":K()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":K()}],"space-y-reverse":["space-y-reverse"],size:[{size:tt()}],w:[{w:[u,"screen",...tt()]}],"min-w":[{"min-w":[u,"screen","none",...tt()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...tt()]}],h:[{h:["screen",...tt()]}],"min-h":[{"min-h":["screen","none",...tt()]}],"max-h":[{"max-h":["screen",...tt()]}],"font-size":[{text:["base",e,ex,Pf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,ge,yb]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",y2,me]}],"font-family":[{font:[JX,me,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,ge,me]}],"line-clamp":[{"line-clamp":[pn,"none",ge,yb]}],leading:[{leading:[ge,me,r,h]}],"list-image":[{"list-image":["none",ge,me]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ge,me]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Q()}],"text-color":[{text:Q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...At(),"wavy"]}],"text-decoration-thickness":[{decoration:[pn,"from-font","auto",ge,Pf]}],"text-decoration-color":[{decoration:Q()}],"underline-offset":[{"underline-offset":[pn,"auto",ge,me]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:["px",...K()]}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ge,me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ge,me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...D(),tq,KX]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",eq,ZX]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Of,ge,me],radial:["",ge,me],conic:[Of,ge,me]},nq,QX]}],"bg-color":[{bg:Q()}],"gradient-from-pos":[{from:_t()}],"gradient-via-pos":[{via:_t()}],"gradient-to-pos":[{to:_t()}],"gradient-from":[{from:Q()}],"gradient-via":[{via:Q()}],"gradient-to":[{to:Q()}],rounded:[{rounded:j()}],"rounded-s":[{"rounded-s":j()}],"rounded-e":[{"rounded-e":j()}],"rounded-t":[{"rounded-t":j()}],"rounded-r":[{"rounded-r":j()}],"rounded-b":[{"rounded-b":j()}],"rounded-l":[{"rounded-l":j()}],"rounded-ss":[{"rounded-ss":j()}],"rounded-se":[{"rounded-se":j()}],"rounded-ee":[{"rounded-ee":j()}],"rounded-es":[{"rounded-es":j()}],"rounded-tl":[{"rounded-tl":j()}],"rounded-tr":[{"rounded-tr":j()}],"rounded-br":[{"rounded-br":j()}],"rounded-bl":[{"rounded-bl":j()}],"border-w":[{border:at()}],"border-w-x":[{"border-x":at()}],"border-w-y":[{"border-y":at()}],"border-w-s":[{"border-s":at()}],"border-w-e":[{"border-e":at()}],"border-w-t":[{"border-t":at()}],"border-w-r":[{"border-r":at()}],"border-w-b":[{"border-b":at()}],"border-w-l":[{"border-l":at()}],"divide-x":[{"divide-x":at()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":at()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...At(),"hidden","none"]}],"divide-style":[{divide:[...At(),"hidden","none"]}],"border-color":[{border:Q()}],"border-color-x":[{"border-x":Q()}],"border-color-y":[{"border-y":Q()}],"border-color-s":[{"border-s":Q()}],"border-color-e":[{"border-e":Q()}],"border-color-t":[{"border-t":Q()}],"border-color-r":[{"border-r":Q()}],"border-color-b":[{"border-b":Q()}],"border-color-l":[{"border-l":Q()}],"divide-color":[{divide:Q()}],"outline-style":[{outline:[...At(),"none","hidden"]}],"outline-offset":[{"outline-offset":[pn,ge,me]}],"outline-w":[{outline:["",pn,ex,Pf]}],"outline-color":[{outline:[n]}],shadow:[{shadow:["","none",m,iq,$X]}],"shadow-color":[{shadow:Q()}],"inset-shadow":[{"inset-shadow":["none",ge,me,v]}],"inset-shadow-color":[{"inset-shadow":Q()}],"ring-w":[{ring:at()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Q()}],"ring-offset-w":[{"ring-offset":[pn,Pf]}],"ring-offset-color":[{"ring-offset":Q()}],"inset-ring-w":[{"inset-ring":at()}],"inset-ring-color":[{"inset-ring":Q()}],opacity:[{opacity:[pn,ge,me]}],"mix-blend":[{"mix-blend":[...zt(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":zt()}],filter:[{filter:["","none",ge,me]}],blur:[{blur:st()}],brightness:[{brightness:[pn,ge,me]}],contrast:[{contrast:[pn,ge,me]}],"drop-shadow":[{"drop-shadow":["","none",x,ge,me]}],grayscale:[{grayscale:["",pn,ge,me]}],"hue-rotate":[{"hue-rotate":[pn,ge,me]}],invert:[{invert:["",pn,ge,me]}],saturate:[{saturate:[pn,ge,me]}],sepia:[{sepia:["",pn,ge,me]}],"backdrop-filter":[{"backdrop-filter":["","none",ge,me]}],"backdrop-blur":[{"backdrop-blur":st()}],"backdrop-brightness":[{"backdrop-brightness":[pn,ge,me]}],"backdrop-contrast":[{"backdrop-contrast":[pn,ge,me]}],"backdrop-grayscale":[{"backdrop-grayscale":["",pn,ge,me]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[pn,ge,me]}],"backdrop-invert":[{"backdrop-invert":["",pn,ge,me]}],"backdrop-opacity":[{"backdrop-opacity":[pn,ge,me]}],"backdrop-saturate":[{"backdrop-saturate":[pn,ge,me]}],"backdrop-sepia":[{"backdrop-sepia":["",pn,ge,me]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":K()}],"border-spacing-x":[{"border-spacing-x":K()}],"border-spacing-y":[{"border-spacing-y":K()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ge,me]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[pn,"initial",ge,me]}],ease:[{ease:["linear","initial",E,ge,me]}],delay:[{delay:[pn,ge,me]}],animate:[{animate:["none",M,ge,me]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[T,ge,me]}],"perspective-origin":[{"perspective-origin":Et()}],rotate:[{rotate:Ut()}],"rotate-x":[{"rotate-x":Ut()}],"rotate-y":[{"rotate-y":Ut()}],"rotate-z":[{"rotate-z":Ut()}],scale:[{scale:It()}],"scale-x":[{"scale-x":It()}],"scale-y":[{"scale-y":It()}],"scale-z":[{"scale-z":It()}],"scale-3d":["scale-3d"],skew:[{skew:kt()}],"skew-x":[{"skew-x":kt()}],"skew-y":[{"skew-y":kt()}],transform:[{transform:[ge,me,"","none","gpu","cpu"]}],"transform-origin":[{origin:Et()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ye()}],"translate-x":[{"translate-x":ye()}],"translate-y":[{"translate-y":ye()}],"translate-z":[{"translate-z":ye()}],"translate-none":["translate-none"],accent:[{accent:Q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ge,me]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":K()}],"scroll-mx":[{"scroll-mx":K()}],"scroll-my":[{"scroll-my":K()}],"scroll-ms":[{"scroll-ms":K()}],"scroll-me":[{"scroll-me":K()}],"scroll-mt":[{"scroll-mt":K()}],"scroll-mr":[{"scroll-mr":K()}],"scroll-mb":[{"scroll-mb":K()}],"scroll-ml":[{"scroll-ml":K()}],"scroll-p":[{"scroll-p":K()}],"scroll-px":[{"scroll-px":K()}],"scroll-py":[{"scroll-py":K()}],"scroll-ps":[{"scroll-ps":K()}],"scroll-pe":[{"scroll-pe":K()}],"scroll-pt":[{"scroll-pt":K()}],"scroll-pr":[{"scroll-pr":K()}],"scroll-pb":[{"scroll-pb":K()}],"scroll-pl":[{"scroll-pl":K()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ge,me]}],fill:[{fill:["none",...Q()]}],"stroke-w":[{stroke:[pn,ex,Pf,yb]}],stroke:[{stroke:["none",...Q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},cO=BX(cq),x2=({words:n,duration:t=3e3,className:e})=>{const[i,s]=Z.useState(n[0]),[r,l]=Z.useState(!1),u=Z.useCallback(()=>{const h=n[n.indexOf(i)+1]||n[0];s(h),l(!0)},[i,n]);return Z.useEffect(()=>{r||setTimeout(()=>{u()},t)},[r,t,u]),nt.jsx(y7,{onExitComplete:()=>{l(!1)},children:nt.jsx(Di.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:100,damping:10},exit:{opacity:0,y:-40,x:40,filter:"blur(8px)",scale:2,position:"absolute"},className:cO("z-10 inline-block relative text-left",e),children:i.split(" ").map((h,p)=>nt.jsxs(Di.span,{initial:{opacity:0,y:10,filter:"blur(8px)"},animate:{opacity:1,y:0,filter:"blur(0px)"},transition:{delay:p*.3,duration:.3},className:"inline-block whitespace-nowrap",children:[h.split("").map((m,v)=>nt.jsx(Di.span,{initial:{opacity:0,y:10,filter:"blur(8px)"},animate:{opacity:1,y:0,filter:"blur(0px)"},transition:{delay:p*.3+v*.05,duration:.2},className:"inline-block",children:m},h+v)),nt.jsx("span",{className:"inline-block",children:" "})]},h+p))},i)})},TE=Z.createContext({});function EE(n){const t=Z.useRef(null);return t.current===null&&(t.current=n()),t.current}const hS=Z.createContext(null),AE=Z.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class uq extends Z.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const i=e.offsetParent,s=i instanceof HTMLElement&&i.offsetWidth||0,r=this.props.sizeRef.current;r.height=e.offsetHeight||0,r.width=e.offsetWidth||0,r.top=e.offsetTop,r.left=e.offsetLeft,r.right=s-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function fq({children:n,isPresent:t,anchorX:e}){const i=Z.useId(),s=Z.useRef(null),r=Z.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=Z.useContext(AE);return Z.useInsertionEffect(()=>{const{width:u,height:h,top:p,left:m,right:v}=r.current;if(t||!s.current||!u||!h)return;const x=e==="left"?`left: ${m}`:`right: ${v}`;s.current.dataset.motionPopId=i;const _=document.createElement("style");return l&&(_.nonce=l),document.head.appendChild(_),_.sheet&&_.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${h}px !important;
            ${x}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.removeChild(_)}},[t]),nt.jsx(uq,{isPresent:t,childRef:s,sizeRef:r,children:Z.cloneElement(n,{ref:s})})}const hq=({children:n,initial:t,isPresent:e,onExitComplete:i,custom:s,presenceAffectsLayout:r,mode:l,anchorX:u})=>{const h=EE(dq),p=Z.useId(),m=Z.useCallback(x=>{h.set(x,!0);for(const _ of h.values())if(!_)return;i&&i()},[h,i]),v=Z.useMemo(()=>({id:p,initial:t,isPresent:e,custom:s,onExitComplete:m,register:x=>(h.set(x,!1),()=>h.delete(x))}),r?[Math.random(),m]:[e,m]);return Z.useMemo(()=>{h.forEach((x,_)=>h.set(_,!1))},[e]),Z.useEffect(()=>{!e&&!h.size&&i&&i()},[e]),l==="popLayout"&&(n=nt.jsx(fq,{isPresent:e,anchorX:u,children:n})),nt.jsx(hS.Provider,{value:v,children:n})};function dq(){return new Map}function uO(n=!0){const t=Z.useContext(hS);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:i,register:s}=t,r=Z.useId();Z.useEffect(()=>{n&&s(r)},[n]);const l=Z.useCallback(()=>n&&i&&i(r),[r,i,n]);return!e&&i?[!1,l]:[!0]}const nx=n=>n.key||"";function _2(n){const t=[];return Z.Children.forEach(n,e=>{Z.isValidElement(e)&&t.push(e)}),t}const wE=typeof window<"u",fO=wE?Z.useLayoutEffect:Z.useEffect,pq=({children:n,custom:t,initial:e=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:r="sync",propagate:l=!1,anchorX:u="left"})=>{const[h,p]=uO(l),m=Z.useMemo(()=>_2(n),[n]),v=l&&!h?[]:m.map(nx),x=Z.useRef(!0),_=Z.useRef(m),T=EE(()=>new Map),[C,E]=Z.useState(m),[M,R]=Z.useState(m);fO(()=>{x.current=!1,_.current=m;for(let z=0;z<M.length;z++){const B=nx(M[z]);v.includes(B)?T.delete(B):T.get(B)!==!0&&T.set(B,!1)}},[M,v.length,v.join("-")]);const D=[];if(m!==C){let z=[...m];for(let B=0;B<M.length;B++){const I=M[B],V=nx(I);v.includes(V)||(z.splice(B,0,I),D.push(I))}return r==="wait"&&D.length&&(z=D),R(_2(z)),E(m),null}const{forceRender:L}=Z.useContext(TE);return nt.jsx(nt.Fragment,{children:M.map(z=>{const B=nx(z),I=l&&!h?!1:m===M||v.includes(B),V=()=>{if(T.has(B))T.set(B,!0);else return;let U=!0;T.forEach(P=>{P||(U=!1)}),U&&(L==null||L(),R(_.current),l&&(p==null||p()),i&&i())};return nt.jsx(hq,{isPresent:I,initial:!x.current||e?void 0:!1,custom:t,presenceAffectsLayout:s,mode:r,onExitComplete:I?void 0:V,anchorX:u,children:z},B)})})},sr=n=>n;let hO=sr;const mq={useManualTiming:!1},ix=["read","resolveKeyframes","update","preRender","render","postRender"],S2={value:null};function gq(n,t){let e=new Set,i=new Set,s=!1,r=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},h=0;function p(v){l.has(v)&&(m.schedule(v),n()),h++,v(u)}const m={schedule:(v,x=!1,_=!1)=>{const C=_&&s?e:i;return x&&l.add(v),C.has(v)||C.add(v),v},cancel:v=>{i.delete(v),l.delete(v)},process:v=>{if(u=v,s){r=!0;return}s=!0,[e,i]=[i,e],e.forEach(p),t&&S2.value&&S2.value.frameloop[t].push(h),h=0,e.clear(),s=!1,r&&(r=!1,m.process(v))}};return m}const vq=40;function dO(n,t){let e=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},r=()=>e=!0,l=ix.reduce((M,R)=>(M[R]=gq(r,t?R:void 0),M),{}),{read:u,resolveKeyframes:h,update:p,preRender:m,render:v,postRender:x}=l,_=()=>{const M=performance.now();e=!1,s.delta=i?1e3/60:Math.max(Math.min(M-s.timestamp,vq),1),s.timestamp=M,s.isProcessing=!0,u.process(s),h.process(s),p.process(s),m.process(s),v.process(s),x.process(s),s.isProcessing=!1,e&&t&&(i=!1,n(_))},T=()=>{e=!0,i=!0,s.isProcessing||n(_)};return{schedule:ix.reduce((M,R)=>{const D=l[R];return M[R]=(L,z=!1,B=!1)=>(e||T(),D.schedule(L,z,B)),M},{}),cancel:M=>{for(let R=0;R<ix.length;R++)l[ix[R]].cancel(M)},state:s,steps:l}}const{schedule:$n,cancel:bu,state:Cs,steps:xb}=dO(typeof requestAnimationFrame<"u"?requestAnimationFrame:sr,!0),pO=Z.createContext({strict:!1}),b2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},op={};for(const n in b2)op[n]={isEnabled:t=>b2[n].some(e=>!!t[e])};function yq(n){for(const t in n)op[t]={...op[t],...n[t]}}const xq=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function v_(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||xq.has(n)}let mO=n=>!v_(n);function _q(n){n&&(mO=t=>t.startsWith("on")?!v_(t):n(t))}try{_q(require("@emotion/is-prop-valid").default)}catch{}function Sq(n,t,e){const i={};for(const s in n)s==="values"&&typeof n.values=="object"||(mO(s)||e===!0&&v_(s)||!t&&!v_(s)||n.draggable&&s.startsWith("onDrag"))&&(i[s]=n[s]);return i}function bq(n){if(typeof Proxy>"u")return n;const t=new Map,e=(...i)=>n(...i);return new Proxy(e,{get:(i,s)=>s==="create"?n:(t.has(s)||t.set(s,n(s)),t.get(s))})}const dS=Z.createContext({});function pS(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Jg(n){return typeof n=="string"||Array.isArray(n)}const CE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],RE=["initial",...CE];function mS(n){return pS(n.animate)||RE.some(t=>Jg(n[t]))}function gO(n){return!!(mS(n)||n.variants)}function Mq(n,t){if(mS(n)){const{initial:e,animate:i}=n;return{initial:e===!1||Jg(e)?e:void 0,animate:Jg(i)?i:void 0}}return n.inherit!==!1?t:{}}function Tq(n){const{initial:t,animate:e}=Mq(n,Z.useContext(dS));return Z.useMemo(()=>({initial:t,animate:e}),[M2(t),M2(e)])}function M2(n){return Array.isArray(n)?n.join(" "):n}const Eq=Symbol.for("motionComponentSymbol");function Xd(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function Aq(n,t,e){return Z.useCallback(i=>{i&&n.onMount&&n.onMount(i),t&&(i?t.mount(i):t.unmount()),e&&(typeof e=="function"?e(i):Xd(e)&&(e.current=i))},[t])}const DE=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),wq="framerAppearId",vO="data-"+DE(wq),{schedule:NE}=dO(queueMicrotask,!1),yO=Z.createContext({});function Cq(n,t,e,i,s){var r,l;const{visualElement:u}=Z.useContext(dS),h=Z.useContext(pO),p=Z.useContext(hS),m=Z.useContext(AE).reducedMotion,v=Z.useRef(null);i=i||h.renderer,!v.current&&i&&(v.current=i(n,{visualState:t,parent:u,props:e,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:m}));const x=v.current,_=Z.useContext(yO);x&&!x.projection&&s&&(x.type==="html"||x.type==="svg")&&Rq(v.current,e,s,_);const T=Z.useRef(!1);Z.useInsertionEffect(()=>{x&&T.current&&x.update(e,p)});const C=e[vO],E=Z.useRef(!!C&&!(!((r=window.MotionHandoffIsComplete)===null||r===void 0)&&r.call(window,C))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,C)));return fO(()=>{x&&(T.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),NE.render(x.render),E.current&&x.animationState&&x.animationState.animateChanges())}),Z.useEffect(()=>{x&&(!E.current&&x.animationState&&x.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var M;(M=window.MotionHandoffMarkAsComplete)===null||M===void 0||M.call(window,C)}),E.current=!1))}),x}function Rq(n,t,e,i){const{layoutId:s,layout:r,drag:l,dragConstraints:u,layoutScroll:h,layoutRoot:p}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:xO(n.parent)),n.projection.setOptions({layoutId:s,layout:r,alwaysMeasureLayout:!!l||u&&Xd(u),visualElement:n,animationType:typeof r=="string"?r:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:p})}function xO(n){if(n)return n.options.allowProjection!==!1?n.projection:xO(n.parent)}function Dq({preloadedFeatures:n,createVisualElement:t,useRender:e,useVisualState:i,Component:s}){var r,l;n&&yq(n);function u(p,m){let v;const x={...Z.useContext(AE),...p,layoutId:Nq(p)},{isStatic:_}=x,T=Tq(p),C=i(p,_);if(!_&&wE){Lq();const E=Uq(x);v=E.MeasureLayout,T.visualElement=Cq(s,C,x,t,E.ProjectionNode)}return nt.jsxs(dS.Provider,{value:T,children:[v&&T.visualElement?nt.jsx(v,{visualElement:T.visualElement,...x}):null,e(s,p,Aq(C,T.visualElement,m),C,_,T.visualElement)]})}u.displayName=`motion.${typeof s=="string"?s:`create(${(l=(r=s.displayName)!==null&&r!==void 0?r:s.name)!==null&&l!==void 0?l:""})`}`;const h=Z.forwardRef(u);return h[Eq]=s,h}function Nq({layoutId:n}){const t=Z.useContext(TE).id;return t&&n!==void 0?t+"-"+n:n}function Lq(n,t){Z.useContext(pO).strict}function Uq(n){const{drag:t,layout:e}=op;if(!t&&!e)return{};const i={...t,...e};return{MeasureLayout:t!=null&&t.isEnabled(n)||e!=null&&e.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const _O=n=>t=>typeof t=="string"&&t.startsWith(n),LE=_O("--"),Oq=_O("var(--"),UE=n=>Oq(n)?Pq.test(n.split("/*")[0].trim()):!1,Pq=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,t0={};function zq(n){for(const t in n)t0[t]=n[t],LE(t)&&(t0[t].isCSSVariable=!0)}const Tp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],hh=new Set(Tp);function SO(n,{layout:t,layoutId:e}){return hh.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!t0[n]||n==="opacity")}const Ws=n=>!!(n&&n.getVelocity),bO=(n,t)=>t&&typeof n=="number"?t.transform(n):n,mc=(n,t,e)=>e>t?t:e<n?n:e,Ep={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},e0={...Ep,transform:n=>mc(0,1,n)},sx={...Ep,default:1},M0=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),du=M0("deg"),pl=M0("%"),ze=M0("px"),Bq=M0("vh"),Vq=M0("vw"),T2={...pl,parse:n=>pl.parse(n)/100,transform:n=>pl.transform(n*100)},Iq={borderWidth:ze,borderTopWidth:ze,borderRightWidth:ze,borderBottomWidth:ze,borderLeftWidth:ze,borderRadius:ze,radius:ze,borderTopLeftRadius:ze,borderTopRightRadius:ze,borderBottomRightRadius:ze,borderBottomLeftRadius:ze,width:ze,maxWidth:ze,height:ze,maxHeight:ze,top:ze,right:ze,bottom:ze,left:ze,padding:ze,paddingTop:ze,paddingRight:ze,paddingBottom:ze,paddingLeft:ze,margin:ze,marginTop:ze,marginRight:ze,marginBottom:ze,marginLeft:ze,backgroundPositionX:ze,backgroundPositionY:ze},Fq={rotate:du,rotateX:du,rotateY:du,rotateZ:du,scale:sx,scaleX:sx,scaleY:sx,scaleZ:sx,skew:du,skewX:du,skewY:du,distance:ze,translateX:ze,translateY:ze,translateZ:ze,x:ze,y:ze,z:ze,perspective:ze,transformPerspective:ze,opacity:e0,originX:T2,originY:T2,originZ:ze},E2={...Ep,transform:Math.round},OE={...Iq,...Fq,zIndex:E2,size:ze,fillOpacity:e0,strokeOpacity:e0,numOctaves:E2},Hq={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Gq=Tp.length;function kq(n,t,e){let i="",s=!0;for(let r=0;r<Gq;r++){const l=Tp[r],u=n[l];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(l.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||e){const p=bO(u,OE[l]);if(!h){s=!1;const m=Hq[l]||l;i+=`${m}(${p}) `}e&&(t[l]=p)}}return i=i.trim(),e?i=e(t,s?"":i):s&&(i="none"),i}function PE(n,t,e){const{style:i,vars:s,transformOrigin:r}=n;let l=!1,u=!1;for(const h in t){const p=t[h];if(hh.has(h)){l=!0;continue}else if(LE(h)){s[h]=p;continue}else{const m=bO(p,OE[h]);h.startsWith("origin")?(u=!0,r[h]=m):i[h]=m}}if(t.transform||(l||e?i.transform=kq(t,n.transform,e):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:p="50%",originZ:m=0}=r;i.transformOrigin=`${h} ${p} ${m}`}}const zE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function MO(n,t,e){for(const i in t)!Ws(t[i])&&!SO(i,e)&&(n[i]=t[i])}function jq({transformTemplate:n},t){return Z.useMemo(()=>{const e=zE();return PE(e,t,n),Object.assign({},e.vars,e.style)},[t])}function Xq(n,t){const e=n.style||{},i={};return MO(i,e,n),Object.assign(i,jq(n,t)),i}function qq(n,t){const e={},i=Xq(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=i,e}const Yq=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function BE(n){return typeof n!="string"||n.includes("-")?!1:!!(Yq.indexOf(n)>-1||/[A-Z]/u.test(n))}const Wq={offset:"stroke-dashoffset",array:"stroke-dasharray"},Zq={offset:"strokeDashoffset",array:"strokeDasharray"};function Kq(n,t,e=1,i=0,s=!0){n.pathLength=1;const r=s?Wq:Zq;n[r.offset]=ze.transform(-i);const l=ze.transform(t),u=ze.transform(e);n[r.array]=`${l} ${u}`}function A2(n,t,e){return typeof n=="string"?n:ze.transform(t+e*n)}function Qq(n,t,e){const i=A2(t,n.x,n.width),s=A2(e,n.y,n.height);return`${i} ${s}`}function VE(n,{attrX:t,attrY:e,attrScale:i,originX:s,originY:r,pathLength:l,pathSpacing:u=1,pathOffset:h=0,...p},m,v){if(PE(n,p,v),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:x,style:_,dimensions:T}=n;x.transform&&(T&&(_.transform=x.transform),delete x.transform),T&&(s!==void 0||r!==void 0||_.transform)&&(_.transformOrigin=Qq(T,s!==void 0?s:.5,r!==void 0?r:.5)),t!==void 0&&(x.x=t),e!==void 0&&(x.y=e),i!==void 0&&(x.scale=i),l!==void 0&&Kq(x,l,u,h,!1)}const TO=()=>({...zE(),attrs:{}}),IE=n=>typeof n=="string"&&n.toLowerCase()==="svg";function $q(n,t,e,i){const s=Z.useMemo(()=>{const r=TO();return VE(r,t,IE(i),n.transformTemplate),{...r.attrs,style:{...r.style}}},[t]);if(n.style){const r={};MO(r,n.style,n),s.style={...r,...s.style}}return s}function Jq(n=!1){return(e,i,s,{latestValues:r},l)=>{const h=(BE(e)?$q:qq)(i,r,l,e),p=Sq(i,typeof e=="string",n),m=e!==Z.Fragment?{...p,...h,ref:s}:{},{children:v}=i,x=Z.useMemo(()=>Ws(v)?v.get():v,[v]);return Z.createElement(e,{...m,children:x})}}function w2(n){const t=[{},{}];return n==null||n.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function FE(n,t,e,i){if(typeof t=="function"){const[s,r]=w2(i);t=t(e!==void 0?e:n.custom,s,r)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[s,r]=w2(i);t=t(e!==void 0?e:n.custom,s,r)}return t}const DM=n=>Array.isArray(n),tY=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),eY=n=>DM(n)?n[n.length-1]||0:n;function xx(n){const t=Ws(n)?n.get():n;return tY(t)?t.toValue():t}function nY({scrapeMotionValuesFromProps:n,createRenderState:t,onUpdate:e},i,s,r){const l={latestValues:iY(i,s,r,n),renderState:t()};return e&&(l.onMount=u=>e({props:i,current:u,...l}),l.onUpdate=u=>e(u)),l}const EO=n=>(t,e)=>{const i=Z.useContext(dS),s=Z.useContext(hS),r=()=>nY(n,t,i,s);return e?r():EE(r)};function iY(n,t,e,i){const s={},r=i(n,{});for(const x in r)s[x]=xx(r[x]);let{initial:l,animate:u}=n;const h=mS(n),p=gO(n);t&&p&&!h&&n.inherit!==!1&&(l===void 0&&(l=t.initial),u===void 0&&(u=t.animate));let m=e?e.initial===!1:!1;m=m||l===!1;const v=m?u:l;if(v&&typeof v!="boolean"&&!pS(v)){const x=Array.isArray(v)?v:[v];for(let _=0;_<x.length;_++){const T=FE(n,x[_]);if(T){const{transitionEnd:C,transition:E,...M}=T;for(const R in M){let D=M[R];if(Array.isArray(D)){const L=m?D.length-1:0;D=D[L]}D!==null&&(s[R]=D)}for(const R in C)s[R]=C[R]}}}return s}function HE(n,t,e){var i;const{style:s}=n,r={};for(const l in s)(Ws(s[l])||t.style&&Ws(t.style[l])||SO(l,n)||((i=e==null?void 0:e.getValue(l))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(r[l]=s[l]);return r}const sY={useVisualState:EO({scrapeMotionValuesFromProps:HE,createRenderState:zE})};function AO(n,t){try{t.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function wO(n,{style:t,vars:e},i,s){Object.assign(n.style,t,s&&s.getProjectionStyles(i));for(const r in e)n.style.setProperty(r,e[r])}const CO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function RO(n,t,e,i){wO(n,t,void 0,i);for(const s in t.attrs)n.setAttribute(CO.has(s)?s:DE(s),t.attrs[s])}function DO(n,t,e){const i=HE(n,t,e);for(const s in n)if(Ws(n[s])||Ws(t[s])){const r=Tp.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[r]=n[s]}return i}const C2=["x","y","width","height","cx","cy","r"],aY={useVisualState:EO({scrapeMotionValuesFromProps:DO,createRenderState:TO,onUpdate:({props:n,prevProps:t,current:e,renderState:i,latestValues:s})=>{if(!e)return;let r=!!n.drag;if(!r){for(const u in s)if(hh.has(u)){r=!0;break}}if(!r)return;let l=!t;if(t)for(let u=0;u<C2.length;u++){const h=C2[u];n[h]!==t[h]&&(l=!0)}l&&$n.read(()=>{AO(e,i),$n.render(()=>{VE(i,s,IE(e.tagName),n.transformTemplate),RO(e,i)})})}})};function rY(n,t){return function(i,{forwardMotionProps:s}={forwardMotionProps:!1}){const l={...BE(i)?aY:sY,preloadedFeatures:n,useRender:Jq(s),createVisualElement:t,Component:i};return Dq(l)}}function n0(n,t,e){const i=n.getProps();return FE(i,t,e!==void 0?e:i.custom,n)}function GE(n,t){return n?n[t]||n.default||n:void 0}const NO=new Set(["width","height","top","left","right","bottom",...Tp]);let _x;function oY(){_x=void 0}const ml={now:()=>(_x===void 0&&ml.set(Cs.isProcessing||mq.useManualTiming?Cs.timestamp:performance.now()),_x),set:n=>{_x=n,queueMicrotask(oY)}};function kE(n,t){n.indexOf(t)===-1&&n.push(t)}function jE(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}class XE{constructor(){this.subscriptions=[]}add(t){return kE(this.subscriptions,t),()=>jE(this.subscriptions,t)}notify(t,e,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,e,i);else for(let r=0;r<s;r++){const l=this.subscriptions[r];l&&l(t,e,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function LO(n,t){return t?n*(1e3/t):0}const R2=30,lY=n=>!isNaN(parseFloat(n));class cY{constructor(t,e={}){this.version="12.4.5",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{const r=ml.now();this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=ml.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=lY(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new XE);const i=this.events[t].add(e);return t==="change"?()=>{i(),$n.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t,e=!0){!e||!this.passiveEffect?this.updateAndNotify(t,e):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,e,i){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=ml.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>R2)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,R2);return LO(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function i0(n,t){return new cY(n,t)}function uY(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,i0(e))}function fY(n,t){const e=n0(n,t);let{transitionEnd:i={},transition:s={},...r}=e||{};r={...r,...i};for(const l in r){const u=eY(r[l]);uY(n,l,u)}}function hY(n){return!!(Ws(n)&&n.add)}function NM(n,t){const e=n.getValue("willChange");if(hY(e))return e.add(t)}function UO(n){return n.props[vO]}function qE(n){let t;return()=>(t===void 0&&(t=n()),t)}const dY=qE(()=>window.ScrollTimeline!==void 0);class pY{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,e){for(let i=0;i<this.animations.length;i++)this.animations[i][t]=e}attachTimeline(t,e){const i=this.animations.map(s=>{if(dY()&&s.attachTimeline)return s.attachTimeline(t);if(typeof e=="function")return e(s)});return()=>{i.forEach((s,r)=>{s&&s(),this.animations[r].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let e=0;e<this.animations.length;e++)t=Math.max(t,this.animations[e].duration);return t}runAll(t){this.animations.forEach(e=>e[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class mY extends pY{then(t,e){return Promise.all(this.animations).then(t).catch(e)}}const lc=n=>n*1e3,cc=n=>n/1e3;function YE(n){return typeof n=="function"}function D2(n,t){n.timeline=t,n.onfinish=null}const WE=n=>Array.isArray(n)&&typeof n[0]=="number",gY={linearEasing:void 0};function vY(n,t){const e=qE(n);return()=>{var i;return(i=gY[t])!==null&&i!==void 0?i:e()}}const y_=vY(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),lp=(n,t,e)=>{const i=t-n;return i===0?1:(e-n)/i},OO=(n,t,e=10)=>{let i="";const s=Math.max(Math.round(t/e),2);for(let r=0;r<s;r++)i+=n(lp(0,s-1,r))+", ";return`linear(${i.substring(0,i.length-2)})`};function PO(n){return!!(typeof n=="function"&&y_()||!n||typeof n=="string"&&(n in LM||y_())||WE(n)||Array.isArray(n)&&n.every(PO))}const ag=([n,t,e,i])=>`cubic-bezier(${n}, ${t}, ${e}, ${i})`,LM={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ag([0,.65,.55,1]),circOut:ag([.55,0,1,.45]),backIn:ag([.31,.01,.66,-.59]),backOut:ag([.33,1.53,.69,.99])};function zO(n,t){if(n)return typeof n=="function"&&y_()?OO(n,t):WE(n)?ag(n):Array.isArray(n)?n.map(e=>zO(e,t)||LM.easeOut):LM[n]}const BO=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,yY=1e-7,xY=12;function _Y(n,t,e,i,s){let r,l,u=0;do l=t+(e-t)/2,r=BO(l,i,s)-n,r>0?e=l:t=l;while(Math.abs(r)>yY&&++u<xY);return l}function T0(n,t,e,i){if(n===t&&e===i)return sr;const s=r=>_Y(r,0,1,n,e);return r=>r===0||r===1?r:BO(s(r),t,i)}const VO=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,IO=n=>t=>1-n(1-t),FO=T0(.33,1.53,.69,.99),ZE=IO(FO),HO=VO(ZE),GO=n=>(n*=2)<1?.5*ZE(n):.5*(2-Math.pow(2,-10*(n-1))),KE=n=>1-Math.sin(Math.acos(n)),kO=IO(KE),jO=VO(KE),XO=n=>/^0[^.\s]+$/u.test(n);function SY(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||XO(n):!0}const Tg=n=>Math.round(n*1e5)/1e5,QE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function bY(n){return n==null}const MY=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$E=(n,t)=>e=>!!(typeof e=="string"&&MY.test(e)&&e.startsWith(n)||t&&!bY(e)&&Object.prototype.hasOwnProperty.call(e,t)),qO=(n,t,e)=>i=>{if(typeof i!="string")return i;const[s,r,l,u]=i.match(QE);return{[n]:parseFloat(s),[t]:parseFloat(r),[e]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},TY=n=>mc(0,255,n),_b={...Ep,transform:n=>Math.round(TY(n))},Wf={test:$E("rgb","red"),parse:qO("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:i=1})=>"rgba("+_b.transform(n)+", "+_b.transform(t)+", "+_b.transform(e)+", "+Tg(e0.transform(i))+")"};function EY(n){let t="",e="",i="",s="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),i=n.substring(5,7),s=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),i=n.substring(3,4),s=n.substring(4,5),t+=t,e+=e,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const UM={test:$E("#"),parse:EY,transform:Wf.transform},qd={test:$E("hsl","hue"),parse:qO("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:i=1})=>"hsla("+Math.round(n)+", "+pl.transform(Tg(t))+", "+pl.transform(Tg(e))+", "+Tg(e0.transform(i))+")"},Xs={test:n=>Wf.test(n)||UM.test(n)||qd.test(n),parse:n=>Wf.test(n)?Wf.parse(n):qd.test(n)?qd.parse(n):UM.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Wf.transform(n):qd.transform(n)},AY=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function wY(n){var t,e;return isNaN(n)&&typeof n=="string"&&(((t=n.match(QE))===null||t===void 0?void 0:t.length)||0)+(((e=n.match(AY))===null||e===void 0?void 0:e.length)||0)>0}const YO="number",WO="color",CY="var",RY="var(",N2="${}",DY=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function s0(n){const t=n.toString(),e=[],i={color:[],number:[],var:[]},s=[];let r=0;const u=t.replace(DY,h=>(Xs.test(h)?(i.color.push(r),s.push(WO),e.push(Xs.parse(h))):h.startsWith(RY)?(i.var.push(r),s.push(CY),e.push(h)):(i.number.push(r),s.push(YO),e.push(parseFloat(h))),++r,N2)).split(N2);return{values:e,split:u,indexes:i,types:s}}function ZO(n){return s0(n).values}function KO(n){const{split:t,types:e}=s0(n),i=t.length;return s=>{let r="";for(let l=0;l<i;l++)if(r+=t[l],s[l]!==void 0){const u=e[l];u===YO?r+=Tg(s[l]):u===WO?r+=Xs.transform(s[l]):r+=s[l]}return r}}const NY=n=>typeof n=="number"?0:n;function LY(n){const t=ZO(n);return KO(n)(t.map(NY))}const Mu={test:wY,parse:ZO,createTransformer:KO,getAnimatableNone:LY},UY=new Set(["brightness","contrast","saturate","opacity"]);function OY(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[i]=e.match(QE)||[];if(!i)return n;const s=e.replace(i,"");let r=UY.has(t)?1:0;return i!==e&&(r*=100),t+"("+r+s+")"}const PY=/\b([a-z-]*)\(.*?\)/gu,OM={...Mu,getAnimatableNone:n=>{const t=n.match(PY);return t?t.map(OY).join(" "):n}},zY={...OE,color:Xs,backgroundColor:Xs,outlineColor:Xs,fill:Xs,stroke:Xs,borderColor:Xs,borderTopColor:Xs,borderRightColor:Xs,borderBottomColor:Xs,borderLeftColor:Xs,filter:OM,WebkitFilter:OM},JE=n=>zY[n];function QO(n,t){let e=JE(n);return e!==OM&&(e=Mu),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const BY=new Set(["auto","none","0"]);function VY(n,t,e){let i=0,s;for(;i<n.length&&!s;){const r=n[i];typeof r=="string"&&!BY.has(r)&&s0(r).values.length&&(s=n[i]),i++}if(s&&e)for(const r of t)n[r]=QO(e,s)}const L2=n=>n===Ep||n===ze,U2=(n,t)=>parseFloat(n.split(", ")[t]),O2=(n,t)=>(e,{transform:i})=>{if(i==="none"||!i)return 0;const s=i.match(/^matrix3d\((.+)\)$/u);if(s)return U2(s[1],t);{const r=i.match(/^matrix\((.+)\)$/u);return r?U2(r[1],n):0}},IY=new Set(["x","y","z"]),FY=Tp.filter(n=>!IY.has(n));function HY(n){const t=[];return FY.forEach(e=>{const i=n.getValue(e);i!==void 0&&(t.push([e,i.get()]),i.set(e.startsWith("scale")?1:0))}),t}const cp={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:O2(4,13),y:O2(5,14)};cp.translateX=cp.x;cp.translateY=cp.y;const eh=new Set;let PM=!1,zM=!1;function $O(){if(zM){const n=Array.from(eh).filter(i=>i.needsMeasurement),t=new Set(n.map(i=>i.element)),e=new Map;t.forEach(i=>{const s=HY(i);s.length&&(e.set(i,s),i.render())}),n.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=e.get(i);s&&s.forEach(([r,l])=>{var u;(u=i.getValue(r))===null||u===void 0||u.set(l)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}zM=!1,PM=!1,eh.forEach(n=>n.complete()),eh.clear()}function JO(){eh.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(zM=!0)})}function GY(){JO(),$O()}class tA{constructor(t,e,i,s,r,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=i,this.motionValue=s,this.element=r,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(eh.add(this),PM||(PM=!0,$n.read(JO),$n.resolveKeyframes($O))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:i,motionValue:s}=this;for(let r=0;r<t.length;r++)if(t[r]===null)if(r===0){const l=s==null?void 0:s.get(),u=t[t.length-1];if(l!==void 0)t[0]=l;else if(i&&e){const h=i.readValue(e,u);h!=null&&(t[0]=h)}t[0]===void 0&&(t[0]=u),s&&l===void 0&&s.set(t[0])}else t[r]=t[r-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),eh.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,eh.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const tP=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),kY=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function jY(n){const t=kY.exec(n);if(!t)return[,];const[,e,i,s]=t;return[`--${e??i}`,s]}function eP(n,t,e=1){const[i,s]=jY(n);if(!i)return;const r=window.getComputedStyle(t).getPropertyValue(i);if(r){const l=r.trim();return tP(l)?parseFloat(l):l}return UE(s)?eP(s,t,e+1):s}const nP=n=>t=>t.test(n),XY={test:n=>n==="auto",parse:n=>n},iP=[Ep,ze,pl,du,Vq,Bq,XY],P2=n=>iP.find(nP(n));class sP extends tA{constructor(t,e,i,s,r){super(t,e,i,s,r,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:i}=this;if(!e||!e.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let p=t[h];if(typeof p=="string"&&(p=p.trim(),UE(p))){const m=eP(p,e.current);m!==void 0&&(t[h]=m),h===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!NO.has(i)||t.length!==2)return;const[s,r]=t,l=P2(s),u=P2(r);if(l!==u)if(L2(l)&&L2(u))for(let h=0;h<t.length;h++){const p=t[h];typeof p=="string"&&(t[h]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,i=[];for(let s=0;s<t.length;s++)SY(t[s])&&i.push(s);i.length&&VY(t,i,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=cp[i](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const s=e[e.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){var t;const{element:e,name:i,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const r=e.getValue(i);r&&r.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=cp[i](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([h,p])=>{e.getValue(h).set(p)}),this.resolveNoneKeyframes()}}const z2=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Mu.test(n)||n==="0")&&!n.startsWith("url("));function qY(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function YY(n,t,e,i){const s=n[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const r=n[n.length-1],l=z2(s,t),u=z2(r,t);return!l||!u?!1:qY(n)||(e==="spring"||YE(e))&&i}const WY=n=>n!==null;function gS(n,{repeat:t,repeatType:e="loop"},i){const s=n.filter(WY),r=t&&e!=="loop"&&t%2===1?0:s.length-1;return!r||i===void 0?s[r]:i}const ZY=40;class aP{constructor({autoplay:t=!0,delay:e=0,type:i="keyframes",repeat:s=0,repeatDelay:r=0,repeatType:l="loop",...u}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ml.now(),this.options={autoplay:t,delay:e,type:i,repeat:s,repeatDelay:r,repeatType:l,...u},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>ZY?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&GY(),this._resolved}onKeyframesResolved(t,e){this.resolvedAt=ml.now(),this.hasAttemptedResolve=!0;const{name:i,type:s,velocity:r,delay:l,onComplete:u,onUpdate:h,isGenerator:p}=this.options;if(!p&&!YY(t,i,s,r))if(l)this.options.duration=0;else{h&&h(gS(t,this.options,e)),u&&u(),this.resolveFinishedPromise();return}const m=this.initPlayback(t,e);m!==!1&&(this._resolved={keyframes:t,finalKeyframe:e,...m},this.onPostResolved())}onPostResolved(){}then(t,e){return this.currentFinishedPromise.then(t,e)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const BM=2e4;function rP(n){let t=0;const e=50;let i=n.next(t);for(;!i.done&&t<BM;)t+=e,i=n.next(t);return t>=BM?1/0:t}const vi=(n,t,e)=>n+(t-n)*e;function Sb(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function KY({hue:n,saturation:t,lightness:e,alpha:i}){n/=360,t/=100,e/=100;let s=0,r=0,l=0;if(!t)s=r=l=e;else{const u=e<.5?e*(1+t):e+t-e*t,h=2*e-u;s=Sb(h,u,n+1/3),r=Sb(h,u,n),l=Sb(h,u,n-1/3)}return{red:Math.round(s*255),green:Math.round(r*255),blue:Math.round(l*255),alpha:i}}function x_(n,t){return e=>e>0?t:n}const bb=(n,t,e)=>{const i=n*n,s=e*(t*t-i)+i;return s<0?0:Math.sqrt(s)},QY=[UM,Wf,qd],$Y=n=>QY.find(t=>t.test(n));function B2(n){const t=$Y(n);if(!t)return!1;let e=t.parse(n);return t===qd&&(e=KY(e)),e}const V2=(n,t)=>{const e=B2(n),i=B2(t);if(!e||!i)return x_(n,t);const s={...e};return r=>(s.red=bb(e.red,i.red,r),s.green=bb(e.green,i.green,r),s.blue=bb(e.blue,i.blue,r),s.alpha=vi(e.alpha,i.alpha,r),Wf.transform(s))},JY=(n,t)=>e=>t(n(e)),E0=(...n)=>n.reduce(JY),VM=new Set(["none","hidden"]);function tW(n,t){return VM.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function eW(n,t){return e=>vi(n,t,e)}function eA(n){return typeof n=="number"?eW:typeof n=="string"?UE(n)?x_:Xs.test(n)?V2:sW:Array.isArray(n)?oP:typeof n=="object"?Xs.test(n)?V2:nW:x_}function oP(n,t){const e=[...n],i=e.length,s=n.map((r,l)=>eA(r)(r,t[l]));return r=>{for(let l=0;l<i;l++)e[l]=s[l](r);return e}}function nW(n,t){const e={...n,...t},i={};for(const s in e)n[s]!==void 0&&t[s]!==void 0&&(i[s]=eA(n[s])(n[s],t[s]));return s=>{for(const r in i)e[r]=i[r](s);return e}}function iW(n,t){var e;const i=[],s={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const l=t.types[r],u=n.indexes[l][s[l]],h=(e=n.values[u])!==null&&e!==void 0?e:0;i[r]=h,s[l]++}return i}const sW=(n,t)=>{const e=Mu.createTransformer(t),i=s0(n),s=s0(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?VM.has(n)&&!s.values.length||VM.has(t)&&!i.values.length?tW(n,t):E0(oP(iW(i,s),s.values),e):x_(n,t)};function lP(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?vi(n,t,e):eA(n)(n,t)}const aW=5;function cP(n,t,e){const i=Math.max(t-aW,0);return LO(e-n(i),t-i)}const Ri={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},I2=.001;function rW({duration:n=Ri.duration,bounce:t=Ri.bounce,velocity:e=Ri.velocity,mass:i=Ri.mass}){let s,r,l=1-t;l=mc(Ri.minDamping,Ri.maxDamping,l),n=mc(Ri.minDuration,Ri.maxDuration,cc(n)),l<1?(s=p=>{const m=p*l,v=m*n,x=m-e,_=IM(p,l),T=Math.exp(-v);return I2-x/_*T},r=p=>{const v=p*l*n,x=v*e+e,_=Math.pow(l,2)*Math.pow(p,2)*n,T=Math.exp(-v),C=IM(Math.pow(p,2),l);return(-s(p)+I2>0?-1:1)*((x-_)*T)/C}):(s=p=>{const m=Math.exp(-p*n),v=(p-e)*n+1;return-.001+m*v},r=p=>{const m=Math.exp(-p*n),v=(e-p)*(n*n);return m*v});const u=5/n,h=lW(s,r,u);if(n=lc(n),isNaN(h))return{stiffness:Ri.stiffness,damping:Ri.damping,duration:n};{const p=Math.pow(h,2)*i;return{stiffness:p,damping:l*2*Math.sqrt(i*p),duration:n}}}const oW=12;function lW(n,t,e){let i=e;for(let s=1;s<oW;s++)i=i-n(i)/t(i);return i}function IM(n,t){return n*Math.sqrt(1-t*t)}const cW=["duration","bounce"],uW=["stiffness","damping","mass"];function F2(n,t){return t.some(e=>n[e]!==void 0)}function fW(n){let t={velocity:Ri.velocity,stiffness:Ri.stiffness,damping:Ri.damping,mass:Ri.mass,isResolvedFromDuration:!1,...n};if(!F2(n,uW)&&F2(n,cW))if(n.visualDuration){const e=n.visualDuration,i=2*Math.PI/(e*1.2),s=i*i,r=2*mc(.05,1,1-(n.bounce||0))*Math.sqrt(s);t={...t,mass:Ri.mass,stiffness:s,damping:r}}else{const e=rW(n);t={...t,...e,mass:Ri.mass},t.isResolvedFromDuration=!0}return t}function uP(n=Ri.visualDuration,t=Ri.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:i,restDelta:s}=e;const r=e.keyframes[0],l=e.keyframes[e.keyframes.length-1],u={done:!1,value:r},{stiffness:h,damping:p,mass:m,duration:v,velocity:x,isResolvedFromDuration:_}=fW({...e,velocity:-cc(e.velocity||0)}),T=x||0,C=p/(2*Math.sqrt(h*m)),E=l-r,M=cc(Math.sqrt(h/m)),R=Math.abs(E)<5;i||(i=R?Ri.restSpeed.granular:Ri.restSpeed.default),s||(s=R?Ri.restDelta.granular:Ri.restDelta.default);let D;if(C<1){const z=IM(M,C);D=B=>{const I=Math.exp(-C*M*B);return l-I*((T+C*M*E)/z*Math.sin(z*B)+E*Math.cos(z*B))}}else if(C===1)D=z=>l-Math.exp(-M*z)*(E+(T+M*E)*z);else{const z=M*Math.sqrt(C*C-1);D=B=>{const I=Math.exp(-C*M*B),V=Math.min(z*B,300);return l-I*((T+C*M*E)*Math.sinh(V)+z*E*Math.cosh(V))/z}}const L={calculatedDuration:_&&v||null,next:z=>{const B=D(z);if(_)u.done=z>=v;else{let I=0;C<1&&(I=z===0?lc(T):cP(D,z,B));const V=Math.abs(I)<=i,U=Math.abs(l-B)<=s;u.done=V&&U}return u.value=u.done?l:B,u},toString:()=>{const z=Math.min(rP(L),BM),B=OO(I=>L.next(z*I).value,z,30);return z+"ms "+B}};return L}function H2({keyframes:n,velocity:t=0,power:e=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:r=500,modifyTarget:l,min:u,max:h,restDelta:p=.5,restSpeed:m}){const v=n[0],x={done:!1,value:v},_=V=>u!==void 0&&V<u||h!==void 0&&V>h,T=V=>u===void 0?h:h===void 0||Math.abs(u-V)<Math.abs(h-V)?u:h;let C=e*t;const E=v+C,M=l===void 0?E:l(E);M!==E&&(C=M-v);const R=V=>-C*Math.exp(-V/i),D=V=>M+R(V),L=V=>{const U=R(V),P=D(V);x.done=Math.abs(U)<=p,x.value=x.done?M:P};let z,B;const I=V=>{_(x.value)&&(z=V,B=uP({keyframes:[x.value,T(x.value)],velocity:cP(D,V,x.value),damping:s,stiffness:r,restDelta:p,restSpeed:m}))};return I(0),{calculatedDuration:null,next:V=>{let U=!1;return!B&&z===void 0&&(U=!0,L(V),I(V)),z!==void 0&&V>=z?B.next(V-z):(!U&&L(V),x)}}}const hW=T0(.42,0,1,1),dW=T0(0,0,.58,1),fP=T0(.42,0,.58,1),pW=n=>Array.isArray(n)&&typeof n[0]!="number",mW={linear:sr,easeIn:hW,easeInOut:fP,easeOut:dW,circIn:KE,circInOut:jO,circOut:kO,backIn:ZE,backInOut:HO,backOut:FO,anticipate:GO},G2=n=>{if(WE(n)){hO(n.length===4);const[t,e,i,s]=n;return T0(t,e,i,s)}else if(typeof n=="string")return mW[n];return n};function gW(n,t,e){const i=[],s=e||lP,r=n.length-1;for(let l=0;l<r;l++){let u=s(n[l],n[l+1]);if(t){const h=Array.isArray(t)?t[l]||sr:t;u=E0(h,u)}i.push(u)}return i}function vW(n,t,{clamp:e=!0,ease:i,mixer:s}={}){const r=n.length;if(hO(r===t.length),r===1)return()=>t[0];if(r===2&&t[0]===t[1])return()=>t[1];const l=n[0]===n[1];n[0]>n[r-1]&&(n=[...n].reverse(),t=[...t].reverse());const u=gW(t,i,s),h=u.length,p=m=>{if(l&&m<n[0])return t[0];let v=0;if(h>1)for(;v<n.length-2&&!(m<n[v+1]);v++);const x=lp(n[v],n[v+1],m);return u[v](x)};return e?m=>p(mc(n[0],n[r-1],m)):p}function yW(n,t){const e=n[n.length-1];for(let i=1;i<=t;i++){const s=lp(0,t,i);n.push(vi(e,1,s))}}function xW(n){const t=[0];return yW(t,n.length-1),t}function _W(n,t){return n.map(e=>e*t)}function SW(n,t){return n.map(()=>t||fP).splice(0,n.length-1)}function __({duration:n=300,keyframes:t,times:e,ease:i="easeInOut"}){const s=pW(i)?i.map(G2):G2(i),r={done:!1,value:t[0]},l=_W(e&&e.length===t.length?e:xW(t),n),u=vW(l,t,{ease:Array.isArray(s)?s:SW(t,s)});return{calculatedDuration:n,next:h=>(r.value=u(h),r.done=h>=n,r)}}const bW=n=>{const t=({timestamp:e})=>n(e);return{start:()=>$n.update(t,!0),stop:()=>bu(t),now:()=>Cs.isProcessing?Cs.timestamp:ml.now()}},MW={decay:H2,inertia:H2,tween:__,keyframes:__,spring:uP},TW=n=>n/100;class nA extends aP{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:e,motionValue:i,element:s,keyframes:r}=this.options,l=(s==null?void 0:s.KeyframeResolver)||tA,u=(h,p)=>this.onKeyframesResolved(h,p);this.resolver=new l(r,u,e,i,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:e="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:r,velocity:l=0}=this.options,u=YE(e)?e:MW[e]||__;let h,p;u!==__&&typeof t[0]!="number"&&(h=E0(TW,lP(t[0],t[1])),t=[0,100]);const m=u({...this.options,keyframes:t});r==="mirror"&&(p=u({...this.options,keyframes:[...t].reverse(),velocity:-l})),m.calculatedDuration===null&&(m.calculatedDuration=rP(m));const{calculatedDuration:v}=m,x=v+s,_=x*(i+1)-s;return{generator:m,mirroredGenerator:p,mapPercentToKeyframes:h,calculatedDuration:v,resolvedDuration:x,totalDuration:_}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,e=!1){const{resolved:i}=this;if(!i){const{keyframes:V}=this.options;return{done:!0,value:V[V.length-1]}}const{finalKeyframe:s,generator:r,mirroredGenerator:l,mapPercentToKeyframes:u,keyframes:h,calculatedDuration:p,totalDuration:m,resolvedDuration:v}=i;if(this.startTime===null)return r.next(0);const{delay:x,repeat:_,repeatType:T,repeatDelay:C,onUpdate:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-m/this.speed,this.startTime)),e?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const M=this.currentTime-x*(this.speed>=0?1:-1),R=this.speed>=0?M<0:M>m;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let D=this.currentTime,L=r;if(_){const V=Math.min(this.currentTime,m)/v;let U=Math.floor(V),P=V%1;!P&&V>=1&&(P=1),P===1&&U--,U=Math.min(U,_+1),!!(U%2)&&(T==="reverse"?(P=1-P,C&&(P-=C/v)):T==="mirror"&&(L=l)),D=mc(0,1,P)*v}const z=R?{done:!1,value:h[0]}:L.next(D);u&&(z.value=u(z.value));let{done:B}=z;!R&&p!==null&&(B=this.speed>=0?this.currentTime>=m:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return I&&s!==void 0&&(z.value=gS(h,this.options,s)),E&&E(z.value),I&&this.finish(),z}get duration(){const{resolved:t}=this;return t?cc(t.calculatedDuration):0}get time(){return cc(this.currentTime)}set time(t){t=lc(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=cc(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=bW,onPlay:e,startTime:i}=this.options;this.driver||(this.driver=t(r=>this.tick(r))),e&&e();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const EW=new Set(["opacity","clipPath","filter","transform"]);function AW(n,t,e,{delay:i=0,duration:s=300,repeat:r=0,repeatType:l="loop",ease:u="easeInOut",times:h}={}){const p={[t]:e};h&&(p.offset=h);const m=zO(u,s);return Array.isArray(m)&&(p.easing=m),n.animate(p,{delay:i,duration:s,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:r+1,direction:l==="reverse"?"alternate":"normal"})}const wW=qE(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),S_=10,CW=2e4;function RW(n){return YE(n.type)||n.type==="spring"||!PO(n.ease)}function DW(n,t){const e=new nA({...t,keyframes:n,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:n[0]};const s=[];let r=0;for(;!i.done&&r<CW;)i=e.sample(r),s.push(i.value),r+=S_;return{times:void 0,keyframes:s,duration:r-S_,ease:"linear"}}const hP={anticipate:GO,backInOut:HO,circInOut:jO};function NW(n){return n in hP}class k2 extends aP{constructor(t){super(t);const{name:e,motionValue:i,element:s,keyframes:r}=this.options;this.resolver=new sP(r,(l,u)=>this.onKeyframesResolved(l,u),e,i,s),this.resolver.scheduleResolve()}initPlayback(t,e){let{duration:i=300,times:s,ease:r,type:l,motionValue:u,name:h,startTime:p}=this.options;if(!u.owner||!u.owner.current)return!1;if(typeof r=="string"&&y_()&&NW(r)&&(r=hP[r]),RW(this.options)){const{onComplete:v,onUpdate:x,motionValue:_,element:T,...C}=this.options,E=DW(t,C);t=E.keyframes,t.length===1&&(t[1]=t[0]),i=E.duration,s=E.times,r=E.ease,l="keyframes"}const m=AW(u.owner.current,h,t,{...this.options,duration:i,times:s,ease:r});return m.startTime=p??this.calcStartTime(),this.pendingTimeline?(D2(m,this.pendingTimeline),this.pendingTimeline=void 0):m.onfinish=()=>{const{onComplete:v}=this.options;u.set(gS(t,this.options,e)),v&&v(),this.cancel(),this.resolveFinishedPromise()},{animation:m,duration:i,times:s,type:l,ease:r,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:e}=t;return cc(e)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:e}=t;return cc(e.currentTime||0)}set time(t){const{resolved:e}=this;if(!e)return;const{animation:i}=e;i.currentTime=lc(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:e}=t;return e.playbackRate}set speed(t){const{resolved:e}=this;if(!e)return;const{animation:i}=e;i.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:e}=t;return e.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:e}=t;return e.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:e}=this;if(!e)return sr;const{animation:i}=e;D2(i,t)}return sr}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:e}=t;e.playState==="finished"&&this.updateFinishedPromise(),e.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:e}=t;e.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:e,keyframes:i,duration:s,type:r,ease:l,times:u}=t;if(e.playState==="idle"||e.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:m,onComplete:v,element:x,..._}=this.options,T=new nA({..._,keyframes:i,duration:s,type:r,ease:l,times:u,isGenerator:!0}),C=lc(this.time);p.setWithVelocity(T.sample(C-S_).value,T.sample(C).value,S_)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:e,name:i,repeatDelay:s,repeatType:r,damping:l,type:u}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:p}=e.owner.getProps();return wW()&&i&&EW.has(i)&&!h&&!p&&!s&&r!=="mirror"&&l!==0&&u!=="inertia"}}const LW={type:"spring",stiffness:500,damping:25,restSpeed:10},UW=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),OW={type:"keyframes",duration:.8},PW={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},zW=(n,{keyframes:t})=>t.length>2?OW:hh.has(n)?n.startsWith("scale")?UW(t[1]):LW:PW;function BW({when:n,delay:t,delayChildren:e,staggerChildren:i,staggerDirection:s,repeat:r,repeatType:l,repeatDelay:u,from:h,elapsed:p,...m}){return!!Object.keys(m).length}const iA=(n,t,e,i={},s,r)=>l=>{const u=GE(i,n)||{},h=u.delay||i.delay||0;let{elapsed:p=0}=i;p=p-lc(h);let m={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-p,onUpdate:x=>{t.set(x),u.onUpdate&&u.onUpdate(x)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:n,motionValue:t,element:r?void 0:s};BW(u)||(m={...m,...zW(n,m)}),m.duration&&(m.duration=lc(m.duration)),m.repeatDelay&&(m.repeatDelay=lc(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let v=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(v=!0)),v&&!r&&t.get()!==void 0){const x=gS(m.keyframes,u);if(x!==void 0)return $n.update(()=>{m.onUpdate(x),m.onComplete()}),new mY([])}return!r&&k2.supports(m)?new k2(m):new nA(m)};function VW({protectedKeys:n,needsAnimating:t},e){const i=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,i}function dP(n,t,{delay:e=0,transitionOverride:i,type:s}={}){var r;let{transition:l=n.getDefaultTransition(),transitionEnd:u,...h}=t;i&&(l=i);const p=[],m=s&&n.animationState&&n.animationState.getState()[s];for(const v in h){const x=n.getValue(v,(r=n.latestValues[v])!==null&&r!==void 0?r:null),_=h[v];if(_===void 0||m&&VW(m,v))continue;const T={delay:e,...GE(l||{},v)};let C=!1;if(window.MotionHandoffAnimation){const M=UO(n);if(M){const R=window.MotionHandoffAnimation(M,v,$n);R!==null&&(T.startTime=R,C=!0)}}NM(n,v),x.start(iA(v,x,_,n.shouldReduceMotion&&NO.has(v)?{type:!1}:T,n,C));const E=x.animation;E&&p.push(E)}return u&&Promise.all(p).then(()=>{$n.update(()=>{u&&fY(n,u)})}),p}function FM(n,t,e={}){var i;const s=n0(n,t,e.type==="exit"?(i=n.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:r=n.getDefaultTransition()||{}}=s||{};e.transitionOverride&&(r=e.transitionOverride);const l=s?()=>Promise.all(dP(n,s,e)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:m=0,staggerChildren:v,staggerDirection:x}=r;return IW(n,t,m+p,v,x,e)}:()=>Promise.resolve(),{when:h}=r;if(h){const[p,m]=h==="beforeChildren"?[l,u]:[u,l];return p().then(()=>m())}else return Promise.all([l(),u(e.delay)])}function IW(n,t,e=0,i=0,s=1,r){const l=[],u=(n.variantChildren.size-1)*i,h=s===1?(p=0)=>p*i:(p=0)=>u-p*i;return Array.from(n.variantChildren).sort(FW).forEach((p,m)=>{p.notify("AnimationStart",t),l.push(FM(p,t,{...r,delay:e+h(m)}).then(()=>p.notify("AnimationComplete",t)))}),Promise.all(l)}function FW(n,t){return n.sortNodePosition(t)}function HW(n,t,e={}){n.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(r=>FM(n,r,e));i=Promise.all(s)}else if(typeof t=="string")i=FM(n,t,e);else{const s=typeof t=="function"?n0(n,t,e.custom):t;i=Promise.all(dP(n,s,e))}return i.then(()=>{n.notify("AnimationComplete",t)})}function pP(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let i=0;i<e;i++)if(t[i]!==n[i])return!1;return!0}const GW=RE.length;function mP(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?mP(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<GW;e++){const i=RE[e],s=n.props[i];(Jg(s)||s===!1)&&(t[i]=s)}return t}const kW=[...CE].reverse(),jW=CE.length;function XW(n){return t=>Promise.all(t.map(({animation:e,options:i})=>HW(n,e,i)))}function qW(n){let t=XW(n),e=j2(),i=!0;const s=h=>(p,m)=>{var v;const x=n0(n,m,h==="exit"?(v=n.presenceContext)===null||v===void 0?void 0:v.custom:void 0);if(x){const{transition:_,transitionEnd:T,...C}=x;p={...p,...C,...T}}return p};function r(h){t=h(n)}function l(h){const{props:p}=n,m=mP(n.parent)||{},v=[],x=new Set;let _={},T=1/0;for(let E=0;E<jW;E++){const M=kW[E],R=e[M],D=p[M]!==void 0?p[M]:m[M],L=Jg(D),z=M===h?R.isActive:null;z===!1&&(T=E);let B=D===m[M]&&D!==p[M]&&L;if(B&&i&&n.manuallyAnimateOnMount&&(B=!1),R.protectedKeys={..._},!R.isActive&&z===null||!D&&!R.prevProp||pS(D)||typeof D=="boolean")continue;const I=YW(R.prevProp,D);let V=I||M===h&&R.isActive&&!B&&L||E>T&&L,U=!1;const P=Array.isArray(D)?D:[D];let X=P.reduce(s(M),{});z===!1&&(X={});const{prevResolvedValues:pt={}}=R,it={...pt,...X},K=tt=>{V=!0,x.has(tt)&&(U=!0,x.delete(tt)),R.needsAnimating[tt]=!0;const Q=n.getValue(tt);Q&&(Q.liveStyle=!1)};for(const tt in it){const Q=X[tt],_t=pt[tt];if(_.hasOwnProperty(tt))continue;let j=!1;DM(Q)&&DM(_t)?j=!pP(Q,_t):j=Q!==_t,j?Q!=null?K(tt):x.add(tt):Q!==void 0&&x.has(tt)?K(tt):R.protectedKeys[tt]=!0}R.prevProp=D,R.prevResolvedValues=X,R.isActive&&(_={..._,...X}),i&&n.blockInitialAnimation&&(V=!1),V&&(!(B&&I)||U)&&v.push(...P.map(tt=>({animation:tt,options:{type:M}})))}if(x.size){const E={};if(typeof p.initial!="boolean"){const M=n0(n,Array.isArray(p.initial)?p.initial[0]:p.initial);M&&M.transition&&(E.transition=M.transition)}x.forEach(M=>{const R=n.getBaseTarget(M),D=n.getValue(M);D&&(D.liveStyle=!0),E[M]=R??null}),v.push({animation:E})}let C=!!v.length;return i&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(C=!1),i=!1,C?t(v):Promise.resolve()}function u(h,p){var m;if(e[h].isActive===p)return Promise.resolve();(m=n.variantChildren)===null||m===void 0||m.forEach(x=>{var _;return(_=x.animationState)===null||_===void 0?void 0:_.setActive(h,p)}),e[h].isActive=p;const v=l(h);for(const x in e)e[x].protectedKeys={};return v}return{animateChanges:l,setActive:u,setAnimateFunction:r,getState:()=>e,reset:()=>{e=j2(),i=!0}}}function YW(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!pP(t,n):!1}function zf(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function j2(){return{animate:zf(!0),whileInView:zf(),whileHover:zf(),whileTap:zf(),whileDrag:zf(),whileFocus:zf(),exit:zf()}}class Ru{constructor(t){this.isMounted=!1,this.node=t}update(){}}class WW extends Ru{constructor(t){super(t),t.animationState||(t.animationState=qW(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();pS(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let ZW=0;class KW extends Ru{constructor(){super(...arguments),this.id=ZW++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);e&&!t&&s.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const QW={animation:{Feature:WW},exit:{Feature:KW}},ho={x:!1,y:!1};function gP(){return ho.x||ho.y}function $W(n){return n==="x"||n==="y"?ho[n]?null:(ho[n]=!0,()=>{ho[n]=!1}):ho.x||ho.y?null:(ho.x=ho.y=!0,()=>{ho.x=ho.y=!1})}function a0(n,t,e,i={passive:!0}){return n.addEventListener(t,e,i),()=>n.removeEventListener(t,e)}const sA=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function A0(n){return{point:{x:n.pageX,y:n.pageY}}}const JW=n=>t=>sA(t)&&n(t,A0(t));function Yd(n,t,e,i){return a0(n,t,JW(e),i)}function vP({top:n,left:t,right:e,bottom:i}){return{x:{min:t,max:e},y:{min:n,max:i}}}function tZ({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function eZ(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),i=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:i.y,right:i.x}}const yP=1e-4,nZ=1-yP,iZ=1+yP,xP=.01,sZ=0-xP,aZ=0+xP;function ha(n){return n.max-n.min}function rZ(n,t,e){return Math.abs(n-t)<=e}function X2(n,t,e,i=.5){n.origin=i,n.originPoint=vi(t.min,t.max,n.origin),n.scale=ha(e)/ha(t),n.translate=vi(e.min,e.max,n.origin)-n.originPoint,(n.scale>=nZ&&n.scale<=iZ||isNaN(n.scale))&&(n.scale=1),(n.translate>=sZ&&n.translate<=aZ||isNaN(n.translate))&&(n.translate=0)}function Eg(n,t,e,i){X2(n.x,t.x,e.x,i?i.originX:void 0),X2(n.y,t.y,e.y,i?i.originY:void 0)}function q2(n,t,e){n.min=e.min+t.min,n.max=n.min+ha(t)}function oZ(n,t,e){q2(n.x,t.x,e.x),q2(n.y,t.y,e.y)}function Y2(n,t,e){n.min=t.min-e.min,n.max=n.min+ha(t)}function Ag(n,t,e){Y2(n.x,t.x,e.x),Y2(n.y,t.y,e.y)}const W2=()=>({translate:0,scale:1,origin:0,originPoint:0}),Wd=()=>({x:W2(),y:W2()}),Z2=()=>({min:0,max:0}),Bi=()=>({x:Z2(),y:Z2()});function wr(n){return[n("x"),n("y")]}function Mb(n){return n===void 0||n===1}function HM({scale:n,scaleX:t,scaleY:e}){return!Mb(n)||!Mb(t)||!Mb(e)}function Ff(n){return HM(n)||_P(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function _P(n){return K2(n.x)||K2(n.y)}function K2(n){return n&&n!=="0%"}function b_(n,t,e){const i=n-e,s=t*i;return e+s}function Q2(n,t,e,i,s){return s!==void 0&&(n=b_(n,s,i)),b_(n,e,i)+t}function GM(n,t=0,e=1,i,s){n.min=Q2(n.min,t,e,i,s),n.max=Q2(n.max,t,e,i,s)}function SP(n,{x:t,y:e}){GM(n.x,t.translate,t.scale,t.originPoint),GM(n.y,e.translate,e.scale,e.originPoint)}const $2=.999999999999,J2=1.0000000000001;function lZ(n,t,e,i=!1){const s=e.length;if(!s)return;t.x=t.y=1;let r,l;for(let u=0;u<s;u++){r=e[u],l=r.projectionDelta;const{visualElement:h}=r.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&r.options.layoutScroll&&r.scroll&&r!==r.root&&Kd(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,SP(n,l)),i&&Ff(r.latestValues)&&Kd(n,r.latestValues))}t.x<J2&&t.x>$2&&(t.x=1),t.y<J2&&t.y>$2&&(t.y=1)}function Zd(n,t){n.min=n.min+t,n.max=n.max+t}function tD(n,t,e,i,s=.5){const r=vi(n.min,n.max,s);GM(n,t,e,r,i)}function Kd(n,t){tD(n.x,t.x,t.scaleX,t.scale,t.originX),tD(n.y,t.y,t.scaleY,t.scale,t.originY)}function bP(n,t){return vP(eZ(n.getBoundingClientRect(),t))}function cZ(n,t,e){const i=bP(n,e),{scroll:s}=t;return s&&(Zd(i.x,s.offset.x),Zd(i.y,s.offset.y)),i}function M_(n,t){const e=`${t}PointerCapture`;if(n.target instanceof Element&&e in n.target&&n.pointerId!==void 0)try{n.target[e](n.pointerId)}catch{}}const eD=(n,t)=>Math.abs(n-t);function uZ(n,t){const e=eD(n.x,t.x),i=eD(n.y,t.y);return Math.sqrt(e**2+i**2)}class MP{constructor(t,e,{transformPagePoint:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Eb(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,x=uZ(m.offset,{x:0,y:0})>=3;if(!v&&!x)return;const{point:_}=m,{timestamp:T}=Cs;this.history.push({..._,timestamp:T});const{onStart:C,onMove:E}=this.handlers;v||(C&&C(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,m)},this.handlePointerMove=(m,v)=>{if(m.currentTarget instanceof Element&&m.currentTarget.hasPointerCapture&&m.pointerId!==void 0)try{if(!m.currentTarget.hasPointerCapture(m.pointerId))return}catch{}this.lastMoveEvent=m,this.lastMoveEventInfo=Tb(v,this.transformPagePoint),$n.update(this.updatePoint,!0)},this.handlePointerUp=(m,v)=>{M_(m,"release"),this.end();const{onEnd:x,onSessionEnd:_,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Eb(m.type==="pointercancel"||m.type==="lostpointercapture"?this.lastMoveEventInfo:Tb(v,this.transformPagePoint),this.history);this.startEvent&&x&&x(m,C),_&&_(m,C)},!sA(t))return;this.dragSnapToOrigin=s,this.handlers=e,this.transformPagePoint=i;const r=A0(t),l=Tb(r,this.transformPagePoint),{point:u}=l,{timestamp:h}=Cs;this.history=[{...u,timestamp:h}];const{onSessionStart:p}=e;p&&p(t,Eb(l,this.history)),M_(t,"set"),this.removeListeners=E0(Yd(t.currentTarget,"pointermove",this.handlePointerMove),Yd(t.currentTarget,"pointerup",this.handlePointerUp),Yd(t.currentTarget,"pointercancel",this.handlePointerUp),Yd(t.currentTarget,"lostpointercapture",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),bu(this.updatePoint)}}function Tb(n,t){return t?{point:t(n.point)}:n}function nD(n,t){return{x:n.x-t.x,y:n.y-t.y}}function Eb({point:n},t){return{point:n,delta:nD(n,TP(t)),offset:nD(n,fZ(t)),velocity:hZ(t,.1)}}function fZ(n){return n[0]}function TP(n){return n[n.length-1]}function hZ(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,i=null;const s=TP(n);for(;e>=0&&(i=n[e],!(s.timestamp-i.timestamp>lc(t)));)e--;if(!i)return{x:0,y:0};const r=cc(s.timestamp-i.timestamp);if(r===0)return{x:0,y:0};const l={x:(s.x-i.x)/r,y:(s.y-i.y)/r};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function dZ(n,{min:t,max:e},i){return t!==void 0&&n<t?n=i?vi(t,n,i.min):Math.max(n,t):e!==void 0&&n>e&&(n=i?vi(e,n,i.max):Math.min(n,e)),n}function iD(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function pZ(n,{top:t,left:e,bottom:i,right:s}){return{x:iD(n.x,e,s),y:iD(n.y,t,i)}}function sD(n,t){let e=t.min-n.min,i=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,i]=[i,e]),{min:e,max:i}}function mZ(n,t){return{x:sD(n.x,t.x),y:sD(n.y,t.y)}}function gZ(n,t){let e=.5;const i=ha(n),s=ha(t);return s>i?e=lp(t.min,t.max-i,n.min):i>s&&(e=lp(n.min,n.max-s,t.min)),mc(0,1,e)}function vZ(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const kM=.35;function yZ(n=kM){return n===!1?n=0:n===!0&&(n=kM),{x:aD(n,"left","right"),y:aD(n,"top","bottom")}}function aD(n,t,e){return{min:rD(n,t),max:rD(n,e)}}function rD(n,t){return typeof n=="number"?n:n[t]||0}const xZ=new WeakMap;class _Z{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Bi(),this.visualElement=t}start(t,{snapToCursor:e=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=m=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(A0(m).point)},r=(m,v)=>{const{drag:x,dragPropagation:_,onDragStart:T}=this.getProps();if(x&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$W(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),wr(E=>{let M=this.getAxisMotionValue(E).get()||0;if(pl.test(M)){const{projection:R}=this.visualElement;if(R&&R.layout){const D=R.layout.layoutBox[E];D&&(M=ha(D)*(parseFloat(M)/100))}}this.originPoint[E]=M}),T&&$n.postRender(()=>T(m,v)),NM(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},l=(m,v)=>{const{dragPropagation:x,dragDirectionLock:_,onDirectionLock:T,onDrag:C}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:E}=v;if(_&&this.currentDirection===null){this.currentDirection=SZ(E),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",v.point,E),this.updateAxis("y",v.point,E),this.visualElement.render(),C&&C(m,v)},u=(m,v)=>this.stop(m,v),h=()=>wr(m=>{var v;return this.getAnimationState(m)==="paused"&&((v=this.getAxisMotionValue(m).animation)===null||v===void 0?void 0:v.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new MP(t,{onSessionStart:s,onStart:r,onMove:l,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p})}stop(t,e){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=e;this.startAnimation(s);const{onDragEnd:r}=this.getProps();r&&$n.postRender(()=>r(t,e))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,i){const{drag:s}=this.getProps();if(!i||!ax(t,s,this.currentDirection))return;const r=this.getAxisMotionValue(t);let l=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(l=dZ(l,this.constraints[t],this.elastic[t])),r.set(l)}resolveConstraints(){var t;const{dragConstraints:e,dragElastic:i}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,r=this.constraints;e&&Xd(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=pZ(s.layoutBox,e):this.constraints=!1,this.elastic=yZ(i),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&wr(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=vZ(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Xd(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const r=cZ(i,s.root,this.visualElement.getTransformPagePoint());let l=mZ(s.layout.layoutBox,r);if(e){const u=e(tZ(l));this.hasMutatedConstraints=!!u,u&&(l=vP(u))}return l}startAnimation(t){const{drag:e,dragMomentum:i,dragElastic:s,dragTransition:r,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},p=wr(m=>{if(!ax(m,e,this.currentDirection))return;let v=h&&h[m]||{};l&&(v={min:0,max:0});const x=s?200:1e6,_=s?40:1e7,T={type:"inertia",velocity:i?t[m]:0,bounceStiffness:x,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...r,...v};return this.startAxisValueAnimation(m,T)});return Promise.all(p).then(u)}startAxisValueAnimation(t,e){const i=this.getAxisMotionValue(t);return NM(this.visualElement,t),i.start(iA(t,i,0,e,this.visualElement,!1))}stopAnimation(){wr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){wr(t=>{var e;return(e=this.getAxisMotionValue(t).animation)===null||e===void 0?void 0:e.pause()})}getAnimationState(t){var e;return(e=this.getAxisMotionValue(t).animation)===null||e===void 0?void 0:e.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[e];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){wr(e=>{const{drag:i}=this.getProps();if(!ax(e,i,this.currentDirection))return;const{projection:s}=this.visualElement,r=this.getAxisMotionValue(e);if(s&&s.layout){const{min:l,max:u}=s.layout.layoutBox[e];r.set(t[e]-vi(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:i}=this.visualElement;if(!Xd(e)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};wr(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const h=u.get();s[l]=gZ({min:h,max:h},this.constraints[l])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),wr(l=>{if(!ax(l,t,null))return;const u=this.getAxisMotionValue(l),{min:h,max:p}=this.constraints[l];u.set(vi(h,p,s[l]))})}addListeners(){if(!this.visualElement.current)return;xZ.set(this.visualElement,this);const t=this.visualElement.current,e=Yd(t,"pointerdown",h=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();Xd(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,r=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),$n.read(i);const l=a0(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(wr(m=>{const v=this.getAxisMotionValue(m);v&&(this.originPoint[m]+=h[m].translate,v.set(v.get()+h[m].translate))}),this.visualElement.render())});return()=>{l(),e(),r(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:r=!1,dragElastic:l=kM,dragMomentum:u=!0}=t;return{...t,drag:e,dragDirectionLock:i,dragPropagation:s,dragConstraints:r,dragElastic:l,dragMomentum:u}}}function ax(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function SZ(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class bZ extends Ru{constructor(t){super(t),this.removeGroupControls=sr,this.removeListeners=sr,this.controls=new _Z(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||sr}unmount(){this.removeGroupControls(),this.removeListeners()}}const oD=n=>(t,e)=>{n&&$n.postRender(()=>n(t,e))};class MZ extends Ru{constructor(){super(...arguments),this.removePointerDownListener=sr}onPointerDown(t){this.session=new MP(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:oD(t),onStart:oD(e),onMove:i,onEnd:(r,l)=>{delete this.session,s&&$n.postRender(()=>s(r,l))}}}mount(){this.removePointerDownListener=Yd(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Sx={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function lD(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const Jm={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(ze.test(n))n=parseFloat(n);else return n;const e=lD(n,t.target.x),i=lD(n,t.target.y);return`${e}% ${i}%`}},TZ={correct:(n,{treeScale:t,projectionDelta:e})=>{const i=n,s=Mu.parse(n);if(s.length>5)return i;const r=Mu.createTransformer(n),l=typeof s[0]!="number"?1:0,u=e.x.scale*t.x,h=e.y.scale*t.y;s[0+l]/=u,s[1+l]/=h;const p=vi(u,h,.5);return typeof s[2+l]=="number"&&(s[2+l]/=p),typeof s[3+l]=="number"&&(s[3+l]/=p),r(s)}};class EZ extends Z.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i,layoutId:s}=this.props,{projection:r}=t;zq(AZ),r&&(e.group&&e.group.add(r),i&&i.register&&s&&i.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),Sx.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:i,drag:s,isPresent:r}=this.props,l=i.projection;return l&&(l.isPresent=r,s||t.layoutDependency!==e||e===void 0?l.willUpdate():this.safeToRemove(),t.isPresent!==r&&(r?l.promote():l.relegate()||$n.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),NE.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function EP(n){const[t,e]=uO(),i=Z.useContext(TE);return nt.jsx(EZ,{...n,layoutGroup:i,switchLayoutGroup:Z.useContext(yO),isPresent:t,safeToRemove:e})}const AZ={borderRadius:{...Jm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Jm,borderTopRightRadius:Jm,borderBottomLeftRadius:Jm,borderBottomRightRadius:Jm,boxShadow:TZ};function wZ(n,t,e){const i=Ws(n)?n:i0(n);return i.start(iA("",i,t,e)),i.animation}function CZ(n){return n instanceof SVGElement&&n.tagName!=="svg"}const RZ=(n,t)=>n.depth-t.depth;class DZ{constructor(){this.children=[],this.isDirty=!1}add(t){kE(this.children,t),this.isDirty=!0}remove(t){jE(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(RZ),this.isDirty=!1,this.children.forEach(t)}}function NZ(n,t){const e=ml.now(),i=({timestamp:s})=>{const r=s-e;r>=t&&(bu(i),n(r-t))};return $n.read(i,!0),()=>bu(i)}const AP=["TopLeft","TopRight","BottomLeft","BottomRight"],LZ=AP.length,cD=n=>typeof n=="string"?parseFloat(n):n,uD=n=>typeof n=="number"||ze.test(n);function UZ(n,t,e,i,s,r){s?(n.opacity=vi(0,e.opacity!==void 0?e.opacity:1,OZ(i)),n.opacityExit=vi(t.opacity!==void 0?t.opacity:1,0,PZ(i))):r&&(n.opacity=vi(t.opacity!==void 0?t.opacity:1,e.opacity!==void 0?e.opacity:1,i));for(let l=0;l<LZ;l++){const u=`border${AP[l]}Radius`;let h=fD(t,u),p=fD(e,u);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||uD(h)===uD(p)?(n[u]=Math.max(vi(cD(h),cD(p),i),0),(pl.test(p)||pl.test(h))&&(n[u]+="%")):n[u]=p}(t.rotate||e.rotate)&&(n.rotate=vi(t.rotate||0,e.rotate||0,i))}function fD(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const OZ=wP(0,.5,kO),PZ=wP(.5,.95,sr);function wP(n,t,e){return i=>i<n?0:i>t?1:e(lp(n,t,i))}function hD(n,t){n.min=t.min,n.max=t.max}function Tr(n,t){hD(n.x,t.x),hD(n.y,t.y)}function dD(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function pD(n,t,e,i,s){return n-=t,n=b_(n,1/e,i),s!==void 0&&(n=b_(n,1/s,i)),n}function zZ(n,t=0,e=1,i=.5,s,r=n,l=n){if(pl.test(t)&&(t=parseFloat(t),t=vi(l.min,l.max,t/100)-l.min),typeof t!="number")return;let u=vi(r.min,r.max,i);n===r&&(u-=t),n.min=pD(n.min,t,e,u,s),n.max=pD(n.max,t,e,u,s)}function mD(n,t,[e,i,s],r,l){zZ(n,t[e],t[i],t[s],t.scale,r,l)}const BZ=["x","scaleX","originX"],VZ=["y","scaleY","originY"];function gD(n,t,e,i){mD(n.x,t,BZ,e?e.x:void 0,i?i.x:void 0),mD(n.y,t,VZ,e?e.y:void 0,i?i.y:void 0)}function vD(n){return n.translate===0&&n.scale===1}function CP(n){return vD(n.x)&&vD(n.y)}function yD(n,t){return n.min===t.min&&n.max===t.max}function IZ(n,t){return yD(n.x,t.x)&&yD(n.y,t.y)}function xD(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function RP(n,t){return xD(n.x,t.x)&&xD(n.y,t.y)}function _D(n){return ha(n.x)/ha(n.y)}function SD(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class FZ{constructor(){this.members=[]}add(t){kE(this.members,t),t.scheduleRender()}remove(t){if(jE(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(s=>t===s);if(e===0)return!1;let i;for(let s=e;s>=0;s--){const r=this.members[s];if(r.isPresent!==!1){i=r;break}}return i?(this.promote(i),!0):!1}promote(t,e){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,e&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:i}=t;e.onExitComplete&&e.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function HZ(n,t,e){let i="";const s=n.x.translate/t.x,r=n.y.translate/t.y,l=(e==null?void 0:e.z)||0;if((s||r||l)&&(i=`translate3d(${s}px, ${r}px, ${l}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:p,rotate:m,rotateX:v,rotateY:x,skewX:_,skewY:T}=e;p&&(i=`perspective(${p}px) ${i}`),m&&(i+=`rotate(${m}deg) `),v&&(i+=`rotateX(${v}deg) `),x&&(i+=`rotateY(${x}deg) `),_&&(i+=`skewX(${_}deg) `),T&&(i+=`skewY(${T}deg) `)}const u=n.x.scale*t.x,h=n.y.scale*t.y;return(u!==1||h!==1)&&(i+=`scale(${u}, ${h})`),i||"none"}const Ab=["","X","Y","Z"],GZ={visibility:"hidden"},bD=1e3;let kZ=0;function wb(n,t,e,i){const{latestValues:s}=t;s[n]&&(e[n]=s[n],t.setStaticValue(n,0),i&&(i[n]=0))}function DP(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=UO(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:s,layoutId:r}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",$n,!(s||r))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&DP(i)}function NP({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(l={},u=t==null?void 0:t()){this.id=kZ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(qZ),this.nodes.forEach(QZ),this.nodes.forEach($Z),this.nodes.forEach(YZ)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new DZ)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new XE),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const h=this.eventHandlers.get(l);h&&h.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=CZ(l),this.instance=l;const{layoutId:h,layout:p,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(p||h)&&(this.isLayoutDirty=!0),n){let v;const x=()=>this.root.updateBlockedByResize=!1;n(l,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=NZ(x,250),Sx.hasAnimatedSinceResize&&(Sx.hasAnimatedSinceResize=!1,this.nodes.forEach(TD))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:x,hasRelativeLayoutChanged:_,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||m.getDefaultTransition()||iK,{onLayoutAnimationStart:E,onLayoutAnimationComplete:M}=m.getProps(),R=!this.targetLayout||!RP(this.targetLayout,T),D=!x&&_;if(this.options.layoutRoot||this.resumeFrom||D||x&&(R||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,D);const L={...GE(C,"layout"),onPlay:E,onComplete:M};(m.shouldReduceMotion||this.options.layoutRoot)&&(L.delay=0,L.type=!1),this.startAnimation(L)}else x||TD(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,bu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(JZ),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&DP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const v=this.path[m];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(MD);return}this.isUpdating||this.nodes.forEach(ZZ),this.isUpdating=!1,this.nodes.forEach(KZ),this.nodes.forEach(jZ),this.nodes.forEach(XZ),this.clearAllSnapshots();const u=ml.now();Cs.delta=mc(0,1e3/60,u-Cs.timestamp),Cs.timestamp=u,Cs.isProcessing=!0,xb.update.process(Cs),xb.preRender.process(Cs),xb.render.process(Cs),Cs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,NE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(WZ),this.sharedNodes.forEach(tK)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,$n.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){$n.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ha(this.snapshot.measuredBox.x)&&!ha(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Bi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!CP(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;l&&(u||Ff(this.latestValues)||m)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return l&&(h=this.removeTransform(h)),sK(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:u}=this.options;if(!u)return Bi();const h=u.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(aK))){const{scroll:m}=this.root;m&&(Zd(h.x,m.offset.x),Zd(h.y,m.offset.y))}return h}removeElementScroll(l){var u;const h=Bi();if(Tr(h,l),!((u=this.scroll)===null||u===void 0)&&u.wasRoot)return h;for(let p=0;p<this.path.length;p++){const m=this.path[p],{scroll:v,options:x}=m;m!==this.root&&v&&x.layoutScroll&&(v.wasRoot&&Tr(h,l),Zd(h.x,v.offset.x),Zd(h.y,v.offset.y))}return h}applyTransform(l,u=!1){const h=Bi();Tr(h,l);for(let p=0;p<this.path.length;p++){const m=this.path[p];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Kd(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Ff(m.latestValues)&&Kd(h,m.latestValues)}return Ff(this.latestValues)&&Kd(h,this.latestValues),h}removeTransform(l){const u=Bi();Tr(u,l);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!Ff(p.latestValues))continue;HM(p.latestValues)&&p.updateSnapshot();const m=Bi(),v=p.measurePageBox();Tr(m,v),gD(u,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return Ff(this.latestValues)&&gD(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Cs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var u;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==h;if(!(l||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:x}=this.options;if(!(!this.layout||!(v||x))){if(this.resolvedRelativeTargetAt=Cs.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bi(),this.relativeTargetOrigin=Bi(),Ag(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),Tr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Bi(),this.targetWithTransforms=Bi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),oZ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Tr(this.target,this.layout.layoutBox),SP(this.target,this.targetDelta)):Tr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bi(),this.relativeTargetOrigin=Bi(),Ag(this.relativeTargetOrigin,this.target,_.target),Tr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||HM(this.parent.latestValues)||_P(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const u=this.getLead(),h=!!this.resumingFrom||this!==u;let p=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(p=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Cs.timestamp&&(p=!1),p)return;const{layout:m,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||v))return;Tr(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,_=this.treeScale.y;lZ(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Bi());const{target:T}=u;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(dD(this.prevProjectionDelta.x,this.projectionDelta.x),dD(this.prevProjectionDelta.y,this.projectionDelta.y)),Eg(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==_||!SD(this.projectionDelta.x,this.prevProjectionDelta.x)||!SD(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)===null||u===void 0||u.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Wd(),this.projectionDelta=Wd(),this.projectionDeltaWithTransform=Wd()}setAnimationOrigin(l,u=!1){const h=this.snapshot,p=h?h.latestValues:{},m={...this.latestValues},v=Wd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const x=Bi(),_=h?h.source:void 0,T=this.layout?this.layout.source:void 0,C=_!==T,E=this.getStack(),M=!E||E.members.length<=1,R=!!(C&&!M&&this.options.crossfade===!0&&!this.path.some(nK));this.animationProgress=0;let D;this.mixTargetDelta=L=>{const z=L/1e3;ED(v.x,l.x,z),ED(v.y,l.y,z),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ag(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),eK(this.relativeTarget,this.relativeTargetOrigin,x,z),D&&IZ(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=Bi()),Tr(D,this.relativeTarget)),C&&(this.animationValues=m,UZ(m,p,this.latestValues,z,R,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(bu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=$n.update(()=>{Sx.hasAnimatedSinceResize=!0,this.currentAnimation=wZ(0,bD,{...l,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:h,layout:p,latestValues:m}=l;if(!(!u||!h||!p)){if(this!==l&&this.layout&&p&&LP(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||Bi();const v=ha(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+v;const x=ha(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+x}Tr(u,h),Kd(u,m),Eg(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new FZ),this.sharedNodes.get(l).add(u);const p=u.options.initialPromotionConfig;u.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:u}=this.options;return u?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:u}=this.options;return u?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const p={};h.z&&wb("z",l,p,this.animationValues);for(let m=0;m<Ab.length;m++)wb(`rotate${Ab[m]}`,l,p,this.animationValues),wb(`skew${Ab[m]}`,l,p,this.animationValues);l.render();for(const m in p)l.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);l.scheduleRender()}getProjectionStyles(l){var u,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return GZ;const p={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=xx(l==null?void 0:l.pointerEvents)||"",p.transform=m?m(this.latestValues,""):"none",p;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const C={};return this.options.layoutId&&(C.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,C.pointerEvents=xx(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Ff(this.latestValues)&&(C.transform=m?m({},""):"none",this.hasProjected=!1),C}const x=v.animationValues||v.latestValues;this.applyTransformsToTarget(),p.transform=HZ(this.projectionDeltaWithTransform,this.treeScale,x),m&&(p.transform=m(x,p.transform));const{x:_,y:T}=this.projectionDelta;p.transformOrigin=`${_.origin*100}% ${T.origin*100}% 0`,v.animationValues?p.opacity=v===this?(h=(u=x.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:p.opacity=v===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const C in t0){if(x[C]===void 0)continue;const{correct:E,applyTo:M,isCSSVariable:R}=t0[C],D=p.transform==="none"?x[C]:E(x[C],v);if(M){const L=M.length;for(let z=0;z<L;z++)p[M[z]]=D}else R?this.options.visualElement.renderState.vars[C]=D:p[C]=D}return this.options.layoutId&&(p.pointerEvents=v===this?xx(l==null?void 0:l.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(MD),this.root.sharedNodes.clear()}}}function jZ(n){n.updateLayout()}function XZ(n){var t;const e=((t=n.resumeFrom)===null||t===void 0?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=n.layout,{animationType:r}=n.options,l=e.source!==n.layout.source;r==="size"?wr(v=>{const x=l?e.measuredBox[v]:e.layoutBox[v],_=ha(x);x.min=i[v].min,x.max=x.min+_}):LP(r,e.layoutBox,i)&&wr(v=>{const x=l?e.measuredBox[v]:e.layoutBox[v],_=ha(i[v]);x.max=x.min+_,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[v].max=n.relativeTarget[v].min+_)});const u=Wd();Eg(u,i,e.layoutBox);const h=Wd();l?Eg(h,n.applyTransform(s,!0),e.measuredBox):Eg(h,i,e.layoutBox);const p=!CP(u);let m=!1;if(!n.resumeFrom){const v=n.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:x,layout:_}=v;if(x&&_){const T=Bi();Ag(T,e.layoutBox,x.layoutBox);const C=Bi();Ag(C,i,_.layoutBox),RP(T,C)||(m=!0),v.options.layoutRoot&&(n.relativeTarget=C,n.relativeTargetOrigin=T,n.relativeParent=v)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:p,hasRelativeLayoutChanged:m})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function qZ(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function YZ(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function WZ(n){n.clearSnapshot()}function MD(n){n.clearMeasurements()}function ZZ(n){n.isLayoutDirty=!1}function KZ(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function TD(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function QZ(n){n.resolveTargetDelta()}function $Z(n){n.calcProjection()}function JZ(n){n.resetSkewAndRotation()}function tK(n){n.removeLeadSnapshot()}function ED(n,t,e){n.translate=vi(t.translate,0,e),n.scale=vi(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function AD(n,t,e,i){n.min=vi(t.min,e.min,i),n.max=vi(t.max,e.max,i)}function eK(n,t,e,i){AD(n.x,t.x,e.x,i),AD(n.y,t.y,e.y,i)}function nK(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const iK={duration:.45,ease:[.4,0,.1,1]},wD=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),CD=wD("applewebkit/")&&!wD("chrome/")?Math.round:sr;function RD(n){n.min=CD(n.min),n.max=CD(n.max)}function sK(n){RD(n.x),RD(n.y)}function LP(n,t,e){return n==="position"||n==="preserve-aspect"&&!rZ(_D(t),_D(e),.2)}function aK(n){var t;return n!==n.root&&((t=n.scroll)===null||t===void 0?void 0:t.wasRoot)}const rK=NP({attachResizeListener:(n,t)=>a0(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Cb={current:void 0},UP=NP({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Cb.current){const n=new rK({});n.mount(window),n.setOptions({layoutScroll:!0}),Cb.current=n}return Cb.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),oK={pan:{Feature:MZ},drag:{Feature:bZ,ProjectionNode:UP,MeasureLayout:EP}};function lK(n,t,e){var i;if(n instanceof EventTarget)return[n];if(typeof n=="string"){let s=document;const r=(i=void 0)!==null&&i!==void 0?i:s.querySelectorAll(n);return r?Array.from(r):[]}return Array.from(n)}function OP(n,t){const e=lK(n),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[e,s,()=>i.abort()]}function DD(n){return!(n.pointerType==="touch"||gP())}function cK(n,t,e={}){const[i,s,r]=OP(n,e),l=u=>{if(!DD(u))return;const{target:h}=u,p=t(h,u);if(typeof p!="function"||!h)return;const m=v=>{DD(v)&&(p(v),h.removeEventListener("pointerleave",m))};h.addEventListener("pointerleave",m,s)};return i.forEach(u=>{u.addEventListener("pointerenter",l,s)}),r}function ND(n,t,e){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",e==="Start");const s="onHover"+e,r=i[s];r&&$n.postRender(()=>r(t,A0(t)))}class uK extends Ru{mount(){const{current:t}=this.node;t&&(this.unmount=cK(t,(e,i)=>(ND(this.node,i,"Start"),s=>ND(this.node,s,"End"))))}unmount(){}}class fK extends Ru{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=E0(a0(this.node.current,"focus",()=>this.onFocus()),a0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const PP=(n,t)=>t?n===t?!0:PP(n,t.parentElement):!1,hK=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function dK(n){return hK.has(n.tagName)||n.tabIndex!==-1}const rg=new WeakSet;function LD(n){return t=>{t.key==="Enter"&&n(t)}}function Rb(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const pK=(n,t)=>{const e=n.currentTarget;if(!e)return;const i=LD(()=>{if(rg.has(e))return;Rb(e,"down");const s=LD(()=>{Rb(e,"up")}),r=()=>Rb(e,"cancel");e.addEventListener("keyup",s,t),e.addEventListener("blur",r,t)});e.addEventListener("keydown",i,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",i),t)};function UD(n){return sA(n)&&!gP()}function mK(n,t,e={}){const[i,s,r]=OP(n,e),l=u=>{const h=u.currentTarget;if(!h||!UD(u)||rg.has(h))return;rg.add(h),M_(u,"set");const p=t(h,u),m=(_,T)=>{h.removeEventListener("pointerup",v),h.removeEventListener("pointercancel",x),M_(_,"release"),!(!UD(_)||!rg.has(h))&&(rg.delete(h),typeof p=="function"&&p(_,{success:T}))},v=_=>{(_.isTrusted?gK(_,h instanceof Element?h.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?m(_,!1):m(_,!(h instanceof Element)||PP(h,_.target))},x=_=>{m(_,!1)};h.addEventListener("pointerup",v,s),h.addEventListener("pointercancel",x,s),h.addEventListener("lostpointercapture",x,s)};return i.forEach(u=>{u=e.useGlobalTarget?window:u;let h=!1;u instanceof HTMLElement&&(h=!0,!dK(u)&&u.getAttribute("tabindex")===null&&(u.tabIndex=0)),u.addEventListener("pointerdown",l,s),h&&u.addEventListener("focus",p=>pK(p,s),s)}),r}function gK(n,t){return n.clientX<t.left||n.clientX>t.right||n.clientY<t.top||n.clientY>t.bottom}function OD(n,t,e){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",e==="Start");const s="onTap"+(e==="End"?"":e),r=i[s];r&&$n.postRender(()=>r(t,A0(t)))}class vK extends Ru{mount(){const{current:t}=this.node;t&&(this.unmount=mK(t,(e,i)=>(OD(this.node,i,"Start"),(s,{success:r})=>OD(this.node,s,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const jM=new WeakMap,Db=new WeakMap,yK=n=>{const t=jM.get(n.target);t&&t(n)},xK=n=>{n.forEach(yK)};function _K({root:n,...t}){const e=n||document;Db.has(e)||Db.set(e,{});const i=Db.get(e),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(xK,{root:n,...t})),i[s]}function SK(n,t,e){const i=_K(t);return jM.set(n,e),i.observe(n),()=>{jM.delete(n),i.unobserve(n)}}const bK={some:0,all:1};class MK extends Ru{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:i,amount:s="some",once:r}=t,l={root:e?e.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:bK[s]},u=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,r&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:v}=this.node.getProps(),x=p?m:v;x&&x(h)};return SK(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(TK(t,e))&&this.startObserver()}unmount(){}}function TK({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const EK={inView:{Feature:MK},tap:{Feature:vK},focus:{Feature:fK},hover:{Feature:uK}},AK={layout:{ProjectionNode:UP,MeasureLayout:EP}},XM={current:null},zP={current:!1};function wK(){if(zP.current=!0,!!wE)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>XM.current=n.matches;n.addListener(t),t()}else XM.current=!1}const CK=[...iP,Xs,Mu],RK=n=>CK.find(nP(n)),DK=new WeakMap;function NK(n,t,e){for(const i in t){const s=t[i],r=e[i];if(Ws(s))n.addValue(i,s);else if(Ws(r))n.addValue(i,i0(s,{owner:n}));else if(r!==s)if(n.hasValue(i)){const l=n.getValue(i);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=n.getStaticValue(i);n.addValue(i,i0(l!==void 0?l:s,{owner:n}))}}for(const i in e)t[i]===void 0&&n.removeValue(i);return t}const PD=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class LK{scrapeMotionValuesFromProps(t,e,i){return{}}constructor({parent:t,props:e,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:r,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=tA,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=ml.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,$n.render(this.render,!1,!0))};const{latestValues:h,renderState:p,onUpdate:m}=l;this.onUpdate=m,this.latestValues=h,this.baseTarget={...h},this.initialValues=e.initial?{...h}:{},this.renderState=p,this.parent=t,this.props=e,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!r,this.isControllingVariants=mS(e),this.isVariantNode=gO(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...x}=this.scrapeMotionValuesFromProps(e,{},this);for(const _ in x){const T=x[_];h[_]!==void 0&&Ws(T)&&T.set(h[_],!1)}}mount(t){this.current=t,DK.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,i)=>this.bindToMotionValue(i,e)),zP.current||wK(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:XM.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),bu(this.notifyUpdate),bu(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=hh.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=e.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&$n.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),r=e.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{s(),r(),l&&l(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in op){const e=op[t];if(!e)continue;const{isEnabled:i,Feature:s}=e;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Bi()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let i=0;i<PD.length;i++){const s=PD[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const r="on"+s,l=t[r];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=NK(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const i=this.values.get(t);e!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&e!==void 0&&(i=i0(e===null?void 0:e,{owner:this}),this.addValue(t,i)),i}readValue(t,e){var i;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(i=this.getBaseTargetFromProps(this.props,t))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(tP(s)||XO(s))?s=parseFloat(s):!RK(s)&&Mu.test(e)&&(s=QO(t,e)),this.setBaseTarget(t,Ws(s)?s.get():s)),Ws(s)?s.get():s}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var e;const{initial:i}=this.props;let s;if(typeof i=="string"||typeof i=="object"){const l=FE(this.props,i,(e=this.presenceContext)===null||e===void 0?void 0:e.custom);l&&(s=l[t])}if(i&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!Ws(r)?r:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new XE),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}}class BP extends LK{constructor(){super(...arguments),this.KeyframeResolver=sP}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:i}){delete e[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ws(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function UK(n){return window.getComputedStyle(n)}class OK extends BP{constructor(){super(...arguments),this.type="html",this.renderInstance=wO}readValueFromInstance(t,e){if(hh.has(e)){const i=JE(e);return i&&i.default||0}else{const i=UK(t),s=(LE(e)?i.getPropertyValue(e):i[e])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:e}){return bP(t,e)}build(t,e,i){PE(t,e,i.transformTemplate)}scrapeMotionValuesFromProps(t,e,i){return HE(t,e,i)}}class PK extends BP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Bi,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&AO(this.current,this.renderState)}}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(hh.has(e)){const i=JE(e);return i&&i.default||0}return e=CO.has(e)?e:DE(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,i){return DO(t,e,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&$n.postRender(this.updateDimensions)}build(t,e,i){VE(t,e,this.isSVGTag,i.transformTemplate)}renderInstance(t,e,i,s){RO(t,e,i,s)}mount(t){this.isSVGTag=IE(t.tagName),super.mount(t)}}const zK=(n,t)=>BE(n)?new PK(t):new OK(t,{allowProjection:n!==Z.Fragment}),BK=rY({...QW,...EK,...oK,...AK},zK),Qd=bq(BK),VK=()=>{const n=["   Wecome to My Portfolio!","I am a Full Stack Developer","And a Competitive Programmer"],t={hidden:{opacity:0,x:-50},visible:{opacity:1,x:0}};return nt.jsxs("div",{className:"z-30 h-screen flex items-center justify-center text-center   w-full",children:[nt.jsxs("div",{className:"hidden md:flex flex-col space-y-6 ",children:[nt.jsxs("div",{children:[" ",nt.jsx(Qd.h1,{className:"text-4xl font-medium",variants:t,initial:"hidden",animate:"visible",transition:{delay:1},children:"Hi, I'm Ishika Soni"})]}),nt.jsx("div",{className:"flex flex-col items-start",children:nt.jsx(Qd.div,{variants:t,initial:"hidden",animate:"visible",transition:{delay:1.5},children:nt.jsx(x2,{words:n,className:"font-black text-white text-wrap text-3xl sm:text-4xl md:text-5xl lg:text-6xl text-center mb-10 h-30 pt-5 text-wrap"})})}),nt.jsx("div",{className:"",children:nt.jsx("a",{href:"/MainPortfolio/assets/Resume_Ishika_Soni.pdf",target:"_blank",rel:"noopener noreferrer",className:" px-6 py-3 backdrop-blur-md bg-white/10 text-white font-medium border border-purple-400/40 rounded-xl shadow-[0_0_10px_rgba(200,100,255,0.3)] hover:shadow-[0_0_20px_rgba(200,100,255,0.6)] transition-all duration-300 hover:scale-105",children:"View Resume"})})]}),nt.jsxs("div",{className:"flex flex-col space-y-6 md:hidden h-full justify-center items-center",children:[nt.jsx(Qd.p,{className:"text-4xl font-medium",variants:t,initial:"hidden",animate:"visible",transition:{delay:1},children:"Hi,I'm Ishika Soni"}),nt.jsx("div",{className:"flex flex-col items-center",children:nt.jsx(Qd.div,{variants:t,initial:"hidden",animate:"visible",transition:{delay:1.5},children:nt.jsx(x2,{words:n,className:"font-bold text-white text-5xl text-center mb-15 h-30 pt-5 text-wrap mb-30"})})}),nt.jsx("div",{className:"",children:nt.jsx("a",{href:"/MainPortfolio/assets/Resume_Ishika_Soni.pdf",target:"_blank",rel:"noopener noreferrer",className:" px-6 py-3 backdrop-blur-md bg-white/10 text-white font-medium border border-purple-400/40 rounded-xl shadow-[0_0_10px_rgba(200,100,255,0.3)] hover:shadow-[0_0_20px_rgba(200,100,255,0.6)] transition-all duration-300 hover:scale-105",children:"View Resume"})})]})]})};function qM(){return qM=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},qM.apply(null,arguments)}const w0=new W,aA=new W,IK=new W,zD=new Vt;function FK(n,t,e){const i=w0.setFromMatrixPosition(n.matrixWorld);i.project(t);const s=e.width/2,r=e.height/2;return[i.x*s+s,-(i.y*r)+r]}function HK(n,t){const e=w0.setFromMatrixPosition(n.matrixWorld),i=aA.setFromMatrixPosition(t.matrixWorld),s=e.sub(i),r=t.getWorldDirection(IK);return s.angleTo(r)>Math.PI/2}function GK(n,t,e,i){const s=w0.setFromMatrixPosition(n.matrixWorld),r=s.clone();r.project(t),zD.set(r.x,r.y),e.setFromCamera(zD,t);const l=e.intersectObjects(i,!0);if(l.length){const u=l[0].distance;return s.distanceTo(e.ray.origin)<u}return!0}function kK(n,t){if(t instanceof fh)return t.zoom;if(t instanceof ji){const e=w0.setFromMatrixPosition(n.matrixWorld),i=aA.setFromMatrixPosition(t.matrixWorld),s=t.fov*Math.PI/180,r=e.distanceTo(i);return 1/(2*Math.tan(s/2)*r)}else return 1}function jK(n,t,e){if(t instanceof ji||t instanceof fh){const i=w0.setFromMatrixPosition(n.matrixWorld),s=aA.setFromMatrixPosition(t.matrixWorld),r=i.distanceTo(s),l=(e[1]-e[0])/(t.far-t.near),u=e[1]-l*t.far;return Math.round(l*r+u)}}const YM=n=>Math.abs(n)<1e-10?0:n;function VP(n,t,e=""){let i="matrix3d(";for(let s=0;s!==16;s++)i+=YM(t[s]*n.elements[s])+(s!==15?",":")");return e+i}const XK=(n=>t=>VP(t,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),qK=(n=>(t,e)=>VP(t,n(e),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function YK(n){return n&&typeof n=="object"&&"current"in n}const WK=Z.forwardRef(({children:n,eps:t=.001,style:e,className:i,prepend:s,center:r,fullscreen:l,portal:u,distanceFactor:h,sprite:p=!1,transform:m=!1,occlude:v,onOcclude:x,castShadow:_,receiveShadow:T,material:C,geometry:E,zIndexRange:M=[16777271,0],calculatePosition:R=FK,as:D="div",wrapperClass:L,pointerEvents:z="auto",...B},I)=>{const{gl:V,camera:U,scene:P,size:X,raycaster:pt,events:it,viewport:K}=VG(),[lt]=Z.useState(()=>document.createElement(D)),J=Z.useRef(null),tt=Z.useRef(null),Q=Z.useRef(0),_t=Z.useRef([0,0]),j=Z.useRef(null),at=Z.useRef(null),At=(u==null?void 0:u.current)||it.connected||V.domElement.parentNode,zt=Z.useRef(null),st=Z.useRef(!1),Et=Z.useMemo(()=>v&&v!=="blending"||Array.isArray(v)&&v.length&&YK(v[0]),[v]);Z.useLayoutEffect(()=>{const qt=V.domElement;v&&v==="blending"?(qt.style.zIndex=`${Math.floor(M[0]/2)}`,qt.style.position="absolute",qt.style.pointerEvents="none"):(qt.style.zIndex=null,qt.style.position=null,qt.style.pointerEvents=null)},[v]),Z.useLayoutEffect(()=>{if(tt.current){const qt=J.current=$D.createRoot(lt);if(P.updateMatrixWorld(),m)lt.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const le=R(tt.current,U,X);lt.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${le[0]}px,${le[1]}px,0);transform-origin:0 0;`}return At&&(s?At.prepend(lt):At.appendChild(lt)),()=>{At&&At.removeChild(lt),qt.unmount()}}},[At,m]),Z.useLayoutEffect(()=>{L&&(lt.className=L)},[L]);const Ut=Z.useMemo(()=>m?{position:"absolute",top:0,left:0,width:X.width,height:X.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:r?"translate3d(-50%,-50%,0)":"none",...l&&{top:-X.height/2,left:-X.width/2,width:X.width,height:X.height},...e},[e,r,l,X,m]),It=Z.useMemo(()=>({position:"absolute",pointerEvents:z}),[z]);Z.useLayoutEffect(()=>{if(st.current=!1,m){var qt;(qt=J.current)==null||qt.render(Z.createElement("div",{ref:j,style:Ut},Z.createElement("div",{ref:at,style:It},Z.createElement("div",{ref:I,className:i,style:e,children:n}))))}else{var le;(le=J.current)==null||le.render(Z.createElement("div",{ref:I,style:Ut,className:i,children:n}))}});const kt=Z.useRef(!0);fL(qt=>{if(tt.current){U.updateMatrixWorld(),tt.current.updateWorldMatrix(!0,!1);const le=m?_t.current:R(tt.current,U,X);if(m||Math.abs(Q.current-U.zoom)>t||Math.abs(_t.current[0]-le[0])>t||Math.abs(_t.current[1]-le[1])>t){const Ot=HK(tt.current,U);let Rt=!1;Et&&(Array.isArray(v)?Rt=v.map($t=>$t.current):v!=="blending"&&(Rt=[P]));const Y=kt.current;if(Rt){const $t=GK(tt.current,U,pt,Rt);kt.current=$t&&!Ot}else kt.current=!Ot;Y!==kt.current&&(x?x(!kt.current):lt.style.display=kt.current?"block":"none");const ue=Math.floor(M[0]/2),Ht=v?Et?[M[0],ue]:[ue-1,0]:M;if(lt.style.zIndex=`${jK(tt.current,U,Ht)}`,m){const[$t,Kt]=[X.width/2,X.height/2],Se=U.projectionMatrix.elements[5]*Kt,{isOrthographicCamera:Qt,top:q,left:F,bottom:vt,right:wt}=U,Ft=XK(U.matrixWorldInverse),Dt=Qt?`scale(${Se})translate(${YM(-(wt+F)/2)}px,${YM((q+vt)/2)}px)`:`translateZ(${Se}px)`;let ce=tt.current.matrixWorld;p&&(ce=U.matrixWorldInverse.clone().transpose().copyPosition(ce).scale(tt.current.scale),ce.elements[3]=ce.elements[7]=ce.elements[11]=0,ce.elements[15]=1),lt.style.width=X.width+"px",lt.style.height=X.height+"px",lt.style.perspective=Qt?"":`${Se}px`,j.current&&at.current&&(j.current.style.transform=`${Dt}${Ft}translate(${$t}px,${Kt}px)`,at.current.style.transform=qK(ce,1/((h||10)/400)))}else{const $t=h===void 0?1:kK(tt.current,U)*h;lt.style.transform=`translate3d(${le[0]}px,${le[1]}px,0) scale(${$t})`}_t.current=le,Q.current=U.zoom}}if(!Et&&zt.current&&!st.current)if(m){if(j.current){const le=j.current.children[0];if(le!=null&&le.clientWidth&&le!=null&&le.clientHeight){const{isOrthographicCamera:Ot}=U;if(Ot||E)B.scale&&(Array.isArray(B.scale)?B.scale instanceof W?zt.current.scale.copy(B.scale.clone().divideScalar(1)):zt.current.scale.set(1/B.scale[0],1/B.scale[1],1/B.scale[2]):zt.current.scale.setScalar(1/B.scale));else{const Rt=(h||10)/400,Y=le.clientWidth*Rt,ue=le.clientHeight*Rt;zt.current.scale.set(Y,ue,1)}st.current=!0}}}else{const le=lt.children[0];if(le!=null&&le.clientWidth&&le!=null&&le.clientHeight){const Ot=1/K.factor,Rt=le.clientWidth*Ot,Y=le.clientHeight*Ot;zt.current.scale.set(Rt,Y,1),st.current=!0}zt.current.lookAt(qt.camera.position)}});const ye=Z.useMemo(()=>({vertexShader:m?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[m]);return Z.createElement("group",qM({},B,{ref:tt}),v&&!Et&&Z.createElement("mesh",{castShadow:_,receiveShadow:T,ref:zt},E||Z.createElement("planeGeometry",null),C||Z.createElement("shaderMaterial",{side:go,vertexShader:ye.vertexShader,fragmentShader:ye.fragmentShader})))}),ZK=n=>n;function KK(n,t=ZK){const e=zb.useSyncExternalStore(n.subscribe,()=>t(n.getState()),()=>t(n.getInitialState()));return zb.useDebugValue(e),e}const BD=n=>{const t=JN(n),e=i=>KK(t,i);return Object.assign(e,t),e},QK=n=>n?BD(n):BD;let tg=0;const $K=QK(n=>(Bd.onStart=(t,e,i)=>{n({active:!0,item:t,loaded:e,total:i,progress:(e-tg)/(i-tg)*100})},Bd.onLoad=()=>{n({active:!1})},Bd.onError=t=>n(e=>({errors:[...e.errors,t]})),Bd.onProgress=(t,e,i)=>{e===i&&(tg=i),n({active:!0,item:t,loaded:e,total:i,progress:(e-tg)/(i-tg)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function wg(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}new Vt;new Vt;function IP(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}var Er=function n(t,e,i){var s=this;IP(this,n),wg(this,"dot2",function(r,l){return s.x*r+s.y*l}),wg(this,"dot3",function(r,l,u){return s.x*r+s.y*l+s.z*u}),this.x=t,this.y=e,this.z=i},JK=[new Er(1,1,0),new Er(-1,1,0),new Er(1,-1,0),new Er(-1,-1,0),new Er(1,0,1),new Er(-1,0,1),new Er(1,0,-1),new Er(-1,0,-1),new Er(0,1,1),new Er(0,-1,1),new Er(0,1,-1),new Er(0,-1,-1)],VD=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],ID=new Array(512),FD=new Array(512),tQ=function(t){t>0&&t<1&&(t*=65536),t=Math.floor(t),t<256&&(t|=t<<8);for(var e=0;e<256;e++){var i;e&1?i=VD[e]^t&255:i=VD[e]^t>>8&255,ID[e]=ID[e+256]=i,FD[e]=FD[e+256]=JK[i%12]}};tQ(0);function eQ(n){if(typeof n=="number")n=Math.abs(n);else if(typeof n=="string"){var t=n;n=0;for(var e=0;e<t.length;e++)n=(n+(e+1)*(t.charCodeAt(e)%96))%2147483647}return n===0&&(n=311),n}function HD(n){var t=eQ(n);return function(){var e=t*48271%2147483647;return t=e,e/2147483647}}var nQ=function n(t){var e=this;IP(this,n),wg(this,"seed",0),wg(this,"init",function(i){e.seed=i,e.value=HD(i)}),wg(this,"value",HD(this.seed)),this.init(t)};new nQ(Math.random());const iQ=Z.forwardRef(({children:n,enabled:t=!0,speed:e=1,rotationIntensity:i=1,floatIntensity:s=1,floatingRange:r=[-.1,.1],autoInvalidate:l=!1,...u},h)=>{const p=Z.useRef(null);Z.useImperativeHandle(h,()=>p.current,[]);const m=Z.useRef(Math.random()*1e4);return fL(v=>{var x,_;if(!t||e===0)return;l&&v.invalidate();const T=m.current+v.clock.elapsedTime;p.current.rotation.x=Math.cos(T/4*e)/8*i,p.current.rotation.y=Math.sin(T/4*e)/8*i,p.current.rotation.z=Math.sin(T/4*e)/20*i;let C=Math.sin(T/4*e)/10;C=G3.mapLinear(C,-.1,.1,(x=r==null?void 0:r[0])!==null&&x!==void 0?x:-.1,(_=r==null?void 0:r[1])!==null&&_!==void 0?_:.1),p.current.position.y=C*s,p.current.updateMatrix()}),Z.createElement("group",u,Z.createElement("group",{ref:p,matrixAutoUpdate:!1},n))});var rx={},GD;function sQ(){if(GD)return rx;GD=1,rx.match=r,rx.parse=l;var n=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,t=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,e=/^(?:(min|max)-)?(.+)/,i=/(em|rem|px|cm|mm|in|pt|pc)?$/,s=/(dpi|dpcm|dppx)?$/;function r(m,v){return l(m).some(function(x){var _=x.inverse,T=x.type==="all"||v.type===x.type;if(T&&_||!(T||_))return!1;var C=x.expressions.every(function(E){var M=E.feature,R=E.modifier,D=E.value,L=v[M];if(!L)return!1;switch(M){case"orientation":case"scan":return L.toLowerCase()===D.toLowerCase();case"width":case"height":case"device-width":case"device-height":D=p(D),L=p(L);break;case"resolution":D=h(D),L=h(L);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":D=u(D),L=u(L);break;case"grid":case"color":case"color-index":case"monochrome":D=parseInt(D,10)||1,L=parseInt(L,10)||0;break}switch(R){case"min":return L>=D;case"max":return L<=D;default:return L===D}});return C&&!_||!C&&_})}function l(m){return m.split(",").map(function(v){v=v.trim();var x=v.match(n),_=x[1],T=x[2],C=x[3]||"",E={};return E.inverse=!!_&&_.toLowerCase()==="not",E.type=T?T.toLowerCase():"all",C=C.match(/\([^\)]+\)/g)||[],E.expressions=C.map(function(M){var R=M.match(t),D=R[1].toLowerCase().match(e);return{modifier:D[1],feature:D[2],value:R[2]}}),E})}function u(m){var v=Number(m),x;return v||(x=m.match(/^(\d+)\s*\/\s*(\d+)$/),v=x[1]/x[2]),v}function h(m){var v=parseFloat(m),x=String(m).match(s)[1];switch(x){case"dpcm":return v/2.54;case"dppx":return v*96;default:return v}}function p(m){var v=parseFloat(m),x=String(m).match(i)[1];switch(x){case"em":return v*16;case"rem":return v*16;case"cm":return v*96/2.54;case"mm":return v*96/2.54/10;case"in":return v*96;case"pt":return v*72;case"pc":return v*72/12;default:return v}}return rx}var Nb,kD;function aQ(){if(kD)return Nb;kD=1;var n=sQ().match,t=typeof window<"u"?window.matchMedia:null;function e(s,r,l){var u=this,h;t&&!l&&(h=t.call(window,s)),h?(this.matches=h.matches,this.media=h.media,h.addListener(v)):(this.matches=n(s,r),this.media=s),this.addListener=p,this.removeListener=m,this.dispose=x;function p(_){h&&h.addListener(_)}function m(_){h&&h.removeListener(_)}function v(_){u.matches=_.matches,u.media=_.media}function x(){h&&h.removeListener(v)}}function i(s,r,l){return new e(s,r,l)}return Nb=i,Nb}var rQ=aQ();const oQ=r0(rQ);var lQ=/[A-Z]/g,cQ=/^ms-/,Lb={};function uQ(n){return"-"+n.toLowerCase()}function FP(n){if(Lb.hasOwnProperty(n))return Lb[n];var t=n.replace(lQ,uQ);return Lb[n]=cQ.test(t)?"-"+t:t}function fQ(n,t){if(n===t)return!0;if(!n||!t)return!1;const e=Object.keys(n),i=Object.keys(t),s=e.length;if(i.length!==s)return!1;for(let r=0;r<s;r++){const l=e[r];if(n[l]!==t[l]||!Object.prototype.hasOwnProperty.call(t,l))return!1}return!0}var Ub={exports:{}},Ob,jD;function hQ(){if(jD)return Ob;jD=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ob=n,Ob}var Pb,XD;function dQ(){if(XD)return Pb;XD=1;var n=hQ();function t(){}function e(){}return e.resetWarningCache=t,Pb=function(){function i(l,u,h,p,m,v){if(v!==n){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}i.isRequired=i;function s(){return i}var r={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:e,resetWarningCache:t};return r.PropTypes=r,r},Pb}var qD;function pQ(){return qD||(qD=1,Ub.exports=dQ()()),Ub.exports}var mQ=pQ();const Dn=r0(mQ),ca=Dn.oneOfType([Dn.string,Dn.number]),HP={all:Dn.bool,grid:Dn.bool,aural:Dn.bool,braille:Dn.bool,handheld:Dn.bool,print:Dn.bool,projection:Dn.bool,screen:Dn.bool,tty:Dn.bool,tv:Dn.bool,embossed:Dn.bool},gQ={orientation:Dn.oneOf(["portrait","landscape"]),scan:Dn.oneOf(["progressive","interlace"]),aspectRatio:Dn.string,deviceAspectRatio:Dn.string,height:ca,deviceHeight:ca,width:ca,deviceWidth:ca,color:Dn.bool,colorIndex:Dn.bool,monochrome:Dn.bool,resolution:ca,type:Object.keys(HP)},{type:aJ,...vQ}=gQ,yQ={minAspectRatio:Dn.string,maxAspectRatio:Dn.string,minDeviceAspectRatio:Dn.string,maxDeviceAspectRatio:Dn.string,minHeight:ca,maxHeight:ca,minDeviceHeight:ca,maxDeviceHeight:ca,minWidth:ca,maxWidth:ca,minDeviceWidth:ca,maxDeviceWidth:ca,minColor:Dn.number,maxColor:Dn.number,minColorIndex:Dn.number,maxColorIndex:Dn.number,minMonochrome:Dn.number,maxMonochrome:Dn.number,minResolution:ca,maxResolution:ca,...vQ},xQ={...HP,...yQ};var _Q={all:xQ};const SQ=n=>`not ${n}`,bQ=(n,t)=>{const e=FP(n);return typeof t=="number"&&(t=`${t}px`),t===!0?e:t===!1?SQ(e):`(${e}: ${t})`},MQ=n=>n.join(" and "),TQ=n=>{const t=[];return Object.keys(_Q.all).forEach(e=>{const i=n[e];i!=null&&t.push(bQ(e,i))}),MQ(t)},EQ=Z.createContext(void 0),AQ=n=>n.query||TQ(n),YD=n=>n?Object.keys(n).reduce((e,i)=>(e[FP(i)]=n[i],e),{}):void 0,GP=()=>{const n=Z.useRef(!1);return Z.useEffect(()=>{n.current=!0},[]),n.current},wQ=n=>{const t=Z.useContext(EQ),e=()=>YD(n)||YD(t),[i,s]=Z.useState(e);return Z.useEffect(()=>{const r=e();fQ(i,r)||s(r)},[n,t]),i},CQ=n=>{const t=()=>AQ(n),[e,i]=Z.useState(t);return Z.useEffect(()=>{const s=t();e!==s&&i(s)},[n]),e},RQ=(n,t)=>{const e=()=>oQ(n,t||{},!!t),[i,s]=Z.useState(e),r=GP();return Z.useEffect(()=>{if(r){const l=e();return s(l),()=>{l&&l.dispose()}}},[n,t]),i},DQ=n=>{const[t,e]=Z.useState(n.matches);return Z.useEffect(()=>{const i=s=>{e(s.matches)};return n.addListener(i),e(n.matches),()=>{n.removeListener(i)}},[n]),t},NQ=(n,t,e)=>{const i=wQ(t),s=CQ(n);if(!s)throw new Error("Invalid or missing MediaQuery!");const r=RQ(s,i),l=DQ(r);return GP(),Z.useEffect(()=>{},[l]),Z.useEffect(()=>()=>{r&&r.dispose()},[]),l},LQ=()=>{const{progress:n}=$K();return nt.jsxs(WK,{center:!0,className:"text-xl font-normal text-center",children:[n,"% Loaded"]})};function UQ(){const[n,t]=Z.useState({x:0,y:0});return Z.useEffect(()=>{const e=i=>{t({x:i.clientX,y:i.clientY})};return window.addEventListener("mousemove",e),()=>{window.removeEventListener("mousemove",e)}},[]),n}function OQ(n){n=n.replace("#",""),n.length===3&&(n=n.split("").map(r=>r+r).join(""));const t=parseInt(n,16),e=t>>16&255,i=t>>8&255,s=t&255;return[e,i,s]}const PQ=({className:n="",quantity:t=100,staticity:e=50,ease:i=50,size:s=.4,refresh:r=!1,color:l="#ffffff",vx:u=0,vy:h=0,...p})=>{const m=Z.useRef(null),v=Z.useRef(null),x=Z.useRef(null),_=Z.useRef([]),T=UQ(),C=Z.useRef({x:0,y:0}),E=Z.useRef({w:0,h:0}),M=typeof window<"u"?window.devicePixelRatio:1,R=Z.useRef(null),D=Z.useRef(null);Z.useEffect(()=>{m.current&&(x.current=m.current.getContext("2d")),L(),it();const K=()=>{D.current&&clearTimeout(D.current),D.current=setTimeout(()=>{L()},200)};return window.addEventListener("resize",K),()=>{R.current!=null&&window.cancelAnimationFrame(R.current),D.current&&clearTimeout(D.current),window.removeEventListener("resize",K)}},[l]),Z.useEffect(()=>{z()},[T.x,T.y]),Z.useEffect(()=>{L()},[r]);const L=()=>{B(),X()},z=()=>{if(m.current){const K=m.current.getBoundingClientRect(),{w:lt,h:J}=E.current,tt=T.x-K.left-lt/2,Q=T.y-K.top-J/2;tt<lt/2&&tt>-lt/2&&Q<J/2&&Q>-J/2&&(C.current.x=tt,C.current.y=Q)}},B=()=>{if(v.current&&m.current&&x.current){E.current.w=v.current.offsetWidth,E.current.h=v.current.offsetHeight,m.current.width=E.current.w*M,m.current.height=E.current.h*M,m.current.style.width=`${E.current.w}px`,m.current.style.height=`${E.current.h}px`,x.current.scale(M,M),_.current=[];for(let K=0;K<t;K++){const lt=I();U(lt)}}},I=()=>{const K=Math.floor(Math.random()*E.current.w),lt=Math.floor(Math.random()*E.current.h),J=0,tt=0,Q=Math.floor(Math.random()*2)+s,_t=0,j=parseFloat((Math.random()*.6+.1).toFixed(1)),at=(Math.random()-.5)*.1,At=(Math.random()-.5)*.1,zt=.1+Math.random()*4;return{x:K,y:lt,translateX:J,translateY:tt,size:Q,alpha:_t,targetAlpha:j,dx:at,dy:At,magnetism:zt}},V=OQ(l),U=(K,lt=!1)=>{if(x.current){const{x:J,y:tt,translateX:Q,translateY:_t,size:j,alpha:at}=K;x.current.translate(Q,_t),x.current.beginPath(),x.current.arc(J,tt,j,0,2*Math.PI),x.current.fillStyle=`rgba(${V.join(", ")}, ${at})`,x.current.fill(),x.current.setTransform(M,0,0,M,0,0),lt||_.current.push(K)}},P=()=>{x.current&&x.current.clearRect(0,0,E.current.w,E.current.h)},X=()=>{P();const K=t;for(let lt=0;lt<K;lt++){const J=I();U(J)}},pt=(K,lt,J,tt,Q)=>{const _t=(K-lt)*(Q-tt)/(J-lt)+tt;return _t>0?_t:0},it=()=>{P(),_.current.forEach((K,lt)=>{const tt=[K.x+K.translateX-K.size,E.current.w-K.x-K.translateX-K.size,K.y+K.translateY-K.size,E.current.h-K.y-K.translateY-K.size].reduce((_t,j)=>Math.min(_t,j)),Q=parseFloat(pt(tt,0,20,0,1).toFixed(2));if(Q>1?(K.alpha+=.02,K.alpha>K.targetAlpha&&(K.alpha=K.targetAlpha)):K.alpha=K.targetAlpha*Q,K.x+=K.dx+u,K.y+=K.dy+h,K.translateX+=(C.current.x/(e/K.magnetism)-K.translateX)/i,K.translateY+=(C.current.y/(e/K.magnetism)-K.translateY)/i,U(K,!0),K.x<-K.size||K.x>E.current.w+K.size||K.y<-K.size||K.y>E.current.h+K.size){_.current.splice(lt,1);const _t=I();U(_t)}}),R.current=window.requestAnimationFrame(it)};return nt.jsx("div",{className:cO("pointer-events-none",n),ref:v,"aria-hidden":"true",...p,children:nt.jsx("canvas",{ref:m,className:"size-full"})})},zQ=()=>{const{scrollYProgress:n}=$U(),t=AM(n,{damping:50}),e=vu(t,[0,.3],["0%","90%"]),i=vu(t,[0,.3],["0%","-60%"]),s=vu(t,[0,.3],["0%","30%"]),r=vu(t,[0,.3],["0%","0%"]),l=vu(t,[0,.3],["0%","20%"]),u={hidden:{opacity:0,scale:1.1},visible:{opacity:1,scale:1,transition:{duration:1.5}}};return nt.jsx("section",{className:"absolute inset-0 bg-black/40",children:nt.jsxs("div",{className:"relative h-screen overflow-y-hidden overflow-x-hidden",children:[nt.jsx(Di.div,{className:"absolute inset-0 w-full h-screen -z-50",initial:"hidden",animate:"visible",variants:u,style:{backgroundImage:"url(/MainPortfolio/assets/stars.png)",backgroundPosition:"bottom",backgroundSize:"cover",x:l}}),nt.jsx(Di.div,{className:"absolute inset-0 -z-40",initial:"hidden",animate:"visible",variants:u,style:{backgroundImage:"url(/MainPortfolio/assets/mountains.png)",backgroundPosition:"bottom",backgroundSize:"cover",y:e}}),nt.jsx(Di.div,{className:"absolute inset-0 -z-30",initial:"hidden",animate:"visible",variants:u,style:{backgroundImage:"url(/MainPortfolio/assets/planet1.png)",backgroundPosition:"bottom",backgroundSize:"cover",x:i}}),nt.jsx(Di.div,{className:"absolute inset-0 z-20",initial:"hidden",animate:"visible",variants:u,style:{backgroundImage:"url(/MainPortfolio/assets/mountain-2.png)",backgroundPosition:"bottom",backgroundSize:"cover",y:s}}),nt.jsx(Di.div,{className:"absolute inset-0 z-40",initial:"hidden",animate:"visible",variants:u,style:{backgroundImage:"url(/MainPortfolio/assets/mountain-1.png)",backgroundPosition:"bottom",backgroundSize:"cover",y:r}})]})})},BQ=()=>(NQ({maxWidth:853}),nt.jsxs("section",{className:"flex items-start justify-center min-h-screen overflow-hidden md:items-start md:justify-start c-space 4",children:[nt.jsx(VK,{}),nt.jsx(zQ,{}),nt.jsx("figure",{className:"absolute inset-0",style:{width:"100vw",height:"100vh"},children:nt.jsx(c8,{camera:{position:[0,1,3]},children:nt.jsx(Z.Suspense,{fallback:nt.jsx(LQ,{}),children:nt.jsx(iQ,{})})})})]})),WD=(n,t,e,i)=>{n.style.transition=`${t} ${e}ms ${i}`},nc=(n,t,e)=>Math.min(Math.max(n,t),e);class VQ{constructor(t,e){this.glareAngle=0,this.glareOpacity=0,this.calculateGlareSize=l=>{const{width:u,height:h}=l,p=Math.sqrt(u**2+h**2);return{width:p,height:p}},this.setSize=l=>{const u=this.calculateGlareSize(l);this.glareEl.style.width=`${u.width}px`,this.glareEl.style.height=`${u.height}px`},this.update=(l,u,h,p)=>{this.updateAngle(l,u.glareReverse),this.updateOpacity(l,u,h,p)},this.updateAngle=(l,u)=>{const{xPercentage:h,yPercentage:p}=l,m=180/Math.PI,v=h?Math.atan2(p,-h)*m:0;this.glareAngle=v-(u?180:0)},this.updateOpacity=(l,u,h,p)=>{const{xPercentage:m,yPercentage:v}=l,{glarePosition:x,glareReverse:_,glareMaxOpacity:T}=u,C=h?-1:1,E=p?-1:1,M=_?-1:1;let R=0;switch(x){case"top":R=-m*C*M;break;case"right":R=v*E*M;break;case"bottom":case void 0:R=m*C*M;break;case"left":R=-v*E*M;break;case"all":R=Math.hypot(m,v)}const D=nc(R,0,100);this.glareOpacity=D*T/100},this.render=l=>{const{glareColor:u}=l;this.glareEl.style.transform=`rotate(${this.glareAngle}deg) translate(-50%, -50%)`,this.glareEl.style.opacity=this.glareOpacity.toString(),this.glareEl.style.background=`linear-gradient(0deg, rgba(255,255,255,0) 0%, ${u} 100%)`},this.glareWrapperEl=document.createElement("div"),this.glareEl=document.createElement("div"),this.glareWrapperEl.appendChild(this.glareEl),this.glareWrapperEl.className="glare-wrapper",this.glareEl.className="glare";const i={position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden",borderRadius:e,WebkitMaskImage:"-webkit-radial-gradient(white, black)",pointerEvents:"none"},s=this.calculateGlareSize(t),r={position:"absolute",top:"50%",left:"50%",transformOrigin:"0% 0%",pointerEvents:"none",width:`${s.width}px`,height:`${s.height}px`};Object.assign(this.glareWrapperEl.style,i),Object.assign(this.glareEl.style,r)}}class IQ{constructor(){this.glareAngle=0,this.glareOpacity=0,this.tiltAngleX=0,this.tiltAngleY=0,this.tiltAngleXPercentage=0,this.tiltAngleYPercentage=0,this.update=(t,e)=>{this.updateTilt(t,e),this.updateTiltManualInput(t,e),this.updateTiltReverse(e),this.updateTiltLimits(e)},this.updateTilt=(t,e)=>{const{xPercentage:i,yPercentage:s}=t,{tiltMaxAngleX:r,tiltMaxAngleY:l}=e;this.tiltAngleX=i*r/100,this.tiltAngleY=s*l/100*-1},this.updateTiltManualInput=(t,e)=>{const{tiltAngleXManual:i,tiltAngleYManual:s,tiltMaxAngleX:r,tiltMaxAngleY:l}=e;(i!==null||s!==null)&&(this.tiltAngleX=i!==null?i:0,this.tiltAngleY=s!==null?s:0,t.xPercentage=100*this.tiltAngleX/r,t.yPercentage=100*this.tiltAngleY/l)},this.updateTiltReverse=t=>{const e=t.tiltReverse?-1:1;this.tiltAngleX=e*this.tiltAngleX,this.tiltAngleY=e*this.tiltAngleY},this.updateTiltLimits=t=>{const{tiltAxis:e}=t;this.tiltAngleX=nc(this.tiltAngleX,-90,90),this.tiltAngleY=nc(this.tiltAngleY,-90,90),e&&(this.tiltAngleX=e==="x"?this.tiltAngleX:0,this.tiltAngleY=e==="y"?this.tiltAngleY:0)},this.updateTiltAnglesPercentage=t=>{const{tiltMaxAngleX:e,tiltMaxAngleY:i}=t;this.tiltAngleXPercentage=this.tiltAngleX/e*100,this.tiltAngleYPercentage=this.tiltAngleY/i*100},this.render=t=>{t.style.transform+=`rotateX(${this.tiltAngleX}deg) rotateY(${this.tiltAngleY}deg) `}}}const FQ={scale:1,perspective:1e3,flipVertically:!1,flipHorizontally:!1,reset:!0,transitionEasing:"cubic-bezier(.03,.98,.52,.99)",transitionSpeed:400,trackOnWindow:!1,gyroscope:!1,tiltEnable:!0,tiltReverse:!1,tiltAngleXInitial:0,tiltAngleYInitial:0,tiltMaxAngleX:20,tiltMaxAngleY:20,tiltAxis:void 0,tiltAngleXManual:null,tiltAngleYManual:null,glareEnable:!1,glareMaxOpacity:.7,glareColor:"#ffffff",glarePosition:"bottom",glareReverse:!1,glareBorderRadius:"0"};class rA extends Z.PureComponent{constructor(){super(...arguments),this.wrapperEl={node:null,size:{width:0,height:0,left:0,top:0},clientPosition:{x:null,y:null,xPercentage:0,yPercentage:0},updateAnimationId:null,scale:1},this.tilt=null,this.glare=null,this.addDeviceOrientationEventListener=async()=>{if(!window.DeviceOrientationEvent)return;const t=DeviceOrientationEvent.requestPermission;typeof t=="function"?await t()==="granted"&&window.addEventListener("deviceorientation",this.onMove):window.addEventListener("deviceorientation",this.onMove)},this.setSize=()=>{this.setWrapperElSize(),this.glare&&this.glare.setSize(this.wrapperEl.size)},this.mainLoop=t=>{this.wrapperEl.updateAnimationId!==null&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.processInput(t),this.update(t.type),this.wrapperEl.updateAnimationId=requestAnimationFrame(this.renderFrame)},this.onEnter=t=>{const{onEnter:e}=this.props;this.setSize(),this.wrapperEl.node.style.willChange="transform",this.setTransitions(),e&&e({event:t})},this.onMove=t=>{this.mainLoop(t),this.emitOnMove(t)},this.onLeave=t=>{const{onLeave:e}=this.props;if(this.setTransitions(),e&&e({event:t}),this.props.reset){const i=new CustomEvent("autoreset");this.onMove(i)}},this.processInput=t=>{const{scale:e}=this.props;switch(t.type){case"mousemove":this.wrapperEl.clientPosition.x=t.pageX,this.wrapperEl.clientPosition.y=t.pageY,this.wrapperEl.scale=e;break;case"touchmove":this.wrapperEl.clientPosition.x=t.touches[0].pageX,this.wrapperEl.clientPosition.y=t.touches[0].pageY,this.wrapperEl.scale=e;break;case"deviceorientation":this.processInputDeviceOrientation(t),this.wrapperEl.scale=e;break;case"autoreset":{const{tiltAngleXInitial:i,tiltAngleYInitial:s,tiltMaxAngleX:r,tiltMaxAngleY:l}=this.props,u=s/l*100;this.wrapperEl.clientPosition.xPercentage=nc(i/r*100,-100,100),this.wrapperEl.clientPosition.yPercentage=nc(u,-100,100),this.wrapperEl.scale=1;break}}},this.processInputDeviceOrientation=t=>{if(!t.gamma||!t.beta||!this.props.gyroscope)return;const{tiltMaxAngleX:e,tiltMaxAngleY:i}=this.props,s=t.gamma;this.wrapperEl.clientPosition.xPercentage=t.beta/e*100,this.wrapperEl.clientPosition.yPercentage=s/i*100,this.wrapperEl.clientPosition.xPercentage=nc(this.wrapperEl.clientPosition.xPercentage,-100,100),this.wrapperEl.clientPosition.yPercentage=nc(this.wrapperEl.clientPosition.yPercentage,-100,100)},this.update=t=>{const{tiltEnable:e,flipVertically:i,flipHorizontally:s}=this.props;t!=="autoreset"&&t!=="deviceorientation"&&t!=="propChange"&&this.updateClientInput(),e&&this.tilt.update(this.wrapperEl.clientPosition,this.props),this.updateFlip(),this.tilt.updateTiltAnglesPercentage(this.props),this.glare&&this.glare.update(this.wrapperEl.clientPosition,this.props,i,s)},this.updateClientInput=()=>{const{trackOnWindow:t}=this.props;let e,i;if(t){const{x:s,y:r}=this.wrapperEl.clientPosition;e=r/window.innerHeight*200-100,i=s/window.innerWidth*200-100}else{const{size:{width:s,height:r,left:l,top:u},clientPosition:{x:h,y:p}}=this.wrapperEl;e=(p-u)/r*200-100,i=(h-l)/s*200-100}this.wrapperEl.clientPosition.xPercentage=nc(e,-100,100),this.wrapperEl.clientPosition.yPercentage=nc(i,-100,100)},this.updateFlip=()=>{const{flipVertically:t,flipHorizontally:e}=this.props;t&&(this.tilt.tiltAngleX+=180,this.tilt.tiltAngleY*=-1),e&&(this.tilt.tiltAngleY+=180)},this.renderFrame=()=>{this.resetWrapperElTransform(),this.renderPerspective(),this.tilt.render(this.wrapperEl.node),this.renderScale(),this.glare&&this.glare.render(this.props)}}componentDidMount(){if(this.tilt=new IQ,this.initGlare(),this.setSize(),this.addEventListeners(),typeof CustomEvent>"u")return;const t=new CustomEvent("autoreset");this.mainLoop(t);const e=new CustomEvent("initial");this.emitOnMove(e)}componentWillUnmount(){this.wrapperEl.updateAnimationId!==null&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.removeEventListeners()}componentDidUpdate(){const t=new CustomEvent("propChange");this.mainLoop(t),this.emitOnMove(t)}addEventListeners(){const{trackOnWindow:t,gyroscope:e}=this.props;window.addEventListener("resize",this.setSize),t&&(window.addEventListener("mouseenter",this.onEnter),window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseout",this.onLeave),window.addEventListener("touchstart",this.onEnter),window.addEventListener("touchmove",this.onMove),window.addEventListener("touchend",this.onLeave)),e&&this.addDeviceOrientationEventListener()}removeEventListeners(){const{trackOnWindow:t,gyroscope:e}=this.props;window.removeEventListener("resize",this.setSize),t&&(window.removeEventListener("mouseenter",this.onEnter),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseout",this.onLeave),window.removeEventListener("touchstart",this.onEnter),window.removeEventListener("touchmove",this.onMove),window.removeEventListener("touchend",this.onLeave)),e&&window.DeviceOrientationEvent&&window.removeEventListener("deviceorientation",this.onMove)}setWrapperElSize(){const t=this.wrapperEl.node.getBoundingClientRect();this.wrapperEl.size.width=this.wrapperEl.node.offsetWidth,this.wrapperEl.size.height=this.wrapperEl.node.offsetHeight,this.wrapperEl.size.left=t.left+window.scrollX,this.wrapperEl.size.top=t.top+window.scrollY}initGlare(){const{glareEnable:t,glareBorderRadius:e}=this.props;t&&(this.glare=new VQ(this.wrapperEl.size,e),this.wrapperEl.node.appendChild(this.glare.glareWrapperEl))}emitOnMove(t){const{onMove:e}=this.props;if(!e)return;let i=0,s=0;this.glare&&(i=this.glare.glareAngle,s=this.glare.glareOpacity),e({tiltAngleX:this.tilt.tiltAngleX,tiltAngleY:this.tilt.tiltAngleY,tiltAngleXPercentage:this.tilt.tiltAngleXPercentage,tiltAngleYPercentage:this.tilt.tiltAngleYPercentage,glareAngle:i,glareOpacity:s,event:t})}resetWrapperElTransform(){this.wrapperEl.node.style.transform=""}renderPerspective(){const{perspective:t}=this.props;this.wrapperEl.node.style.transform+=`perspective(${t}px) `}renderScale(){const{scale:t}=this.wrapperEl;this.wrapperEl.node.style.transform+=`scale3d(${t},${t},${t})`}setTransitions(){const{transitionSpeed:t,transitionEasing:e}=this.props;WD(this.wrapperEl.node,"all",t,e),this.glare&&WD(this.glare.glareEl,"opacity",t,e)}render(){const{children:t,className:e,style:i}=this.props;return nt.jsx("div",{ref:s=>{this.wrapperEl.node=s},onMouseEnter:this.onEnter,onMouseMove:this.onMove,onMouseLeave:this.onLeave,onTouchStart:this.onEnter,onTouchMove:this.onMove,onTouchEnd:this.onLeave,className:e,style:i,children:t})}}rA.defaultProps=FQ;const HQ=()=>{const n=Z.useRef(null),t=tO(n,{once:!0,margin:"-100px"}),e={hidden:{opacity:0,x:-100},visible:{opacity:1,x:0,transition:{duration:1,ease:"easeOut"}}},i={hidden:{opacity:0,x:100},visible:{opacity:1,x:0,transition:{duration:1,ease:"easeOut",delay:.5}}};return nt.jsx("section",{ref:n,className:"min-h-screen w-full  text-white flex items-center justify-center px-8 py-24 mt-16 bg-[#13171e] border-2 border-white/50 rounded-2xl shadow-lg",children:nt.jsxs("div",{className:"max-w-7xl w-full flex flex-col md:flex-row items-center justify-between gap-12",children:[nt.jsxs(Di.div,{variants:e,initial:"hidden",animate:t?"visible":"hidden",className:"md:w-1/2 space-y-6",children:[nt.jsxs("h1",{className:"text-5xl font-bold leading-tight text-white",children:["Hello, ",nt.jsx("br",{})," I’m Ishika Soni!"]}),nt.jsxs("p",{className:"text-lg text-gray-300",children:["I'm currently pursuing a ",nt.jsx("span",{className:"bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400 bg-clip-text text-transparent",children:"B.Tech in Computer Science and Engineering"})," at MITS, Gwalior, maintaining a CGPA of 8.22.",nt.jsx("br",{}),nt.jsx("br",{}),"I'm a passionate ",nt.jsx("span",{className:"bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400 bg-clip-text text-transparent",children:"Full Stack Developer"})," with strong fundamentals in DSA and love building web apps using ",nt.jsx("span",{className:"bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400 bg-clip-text text-transparent",children:"HTML, CSS, JavaScript, MERN, Firebase, and Next.js"}),". I also code in C/C++ with a logical approach and a learning mindset."]}),nt.jsx("div",{className:"flex gap-4 flex-wrap items-center",children:[{href:"https://leetcode.com/u/Ishikasoni056/",src:"leetcode.png"},{href:"https://www.codechef.com/users/ishikasoni_056",src:"codechef.png"},{href:"https://github.com/IshikaSoni056",src:"github.png"},{href:"https://www.linkedin.com/in/ishika-soni-8b005325a/",src:"linkedin.png"},{href:"https://www.geeksforgeeks.org/user/ishikasoni056/",src:"gfg.png"}].map((s,r)=>nt.jsx("a",{href:s.href,target:"_blank",rel:"noreferrer",children:nt.jsx("img",{src:`/MainPortfolio/assets/socials/${s.src}`,alt:s.src,className:"w-10 h-10 rounded-[15px] shadow-md transition-transform duration-300 hover:scale-150 border-2"})},r))})]}),nt.jsx(Di.div,{variants:i,initial:"hidden",animate:t?"visible":"hidden",className:"relative md:w-1/2 flex items-center justify-center",children:nt.jsx(rA,{tiltMaxAngleX:40,tiltMaxAngleY:40,perspective:1e3,transitionSpeed:1e3,scale:1.05,gyroscope:!0,className:"w-[300px] h-[400px]",children:nt.jsxs("div",{className:"relative w-full h-full rounded-2xl overflow-hidden shadow-[0_20px_40px_rgba(100,100,255,0.2)] border border-white/10 bg-gradient-to-br from-[#1c1c1c] to-[#2b2b2b] group",children:[nt.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-[#6C63FF]/30 to-[#00D1FF]/20 blur-xl z-0"}),nt.jsx("img",{src:"/MainPortfolio/assets/profile1.jpg",alt:"Profile",className:"relative z-10 w-full h-full object-cover rounded-2xl group-hover:scale-105 transition-transform duration-500 ease-in-out"}),nt.jsx("div",{className:"absolute inset-0 border border-white/10 rounded-2xl pointer-events-none"})]})})})]})})};/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GQ=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kQ=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,i)=>i?i.toUpperCase():e.toLowerCase()),ZD=n=>{const t=kQ(n);return t.charAt(0).toUpperCase()+t.slice(1)},kP=(...n)=>n.filter((t,e,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===e).join(" ").trim(),jQ=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var XQ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qQ=Z.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:i,className:s="",children:r,iconNode:l,...u},h)=>Z.createElement("svg",{ref:h,...XQ,width:t,height:t,stroke:n,strokeWidth:i?Number(e)*24/Number(t):e,className:kP("lucide",s),...!r&&!jQ(u)&&{"aria-hidden":"true"},...u},[...l.map(([p,m])=>Z.createElement(p,m)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=(n,t)=>{const e=Z.forwardRef(({className:i,...s},r)=>Z.createElement(qQ,{ref:r,iconNode:t,className:kP(`lucide-${GQ(ZD(n))}`,`lucide-${n}`,i),...s}));return e.displayName=ZD(n),e};/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YQ=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],WQ=jP("chevron-left",YQ);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZQ=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],KQ=jP("chevron-right",ZQ),eg=[{id:1,title:"Newsglobe Google Chrome Extension",Languages:"HTML, CSS, JavaScript, News API, OpenAI Gemini",github:"https://github.com/IshikaSoni056/NewsGlobe-website",description:`Built a multifunctional Chrome Extension using HTML, CSS, JavaScript, enabling users to view real-time news headlines via
News API integration and integrated OpenAI's Gemini AI for AI-generated responses alongside live updates.`,subDescription:["Implemented search functionality, language filtering (5+ languages), and category-based news browsing. Engineered interaction between multiple APIs, enhancing user engagement by 50% and improving the overall userexperience."],href:"https://drive.google.com/file/d/16-2HOZrOsYJpQSppeKFOGx0uOaLj25y-/view?usp=sharing",logo:"",image:"/MainPortfolio/assets/projects/news.jpeg",tags:[{id:1,name:"HTML",path:"/MainPortfolio/assets/logos/html5.svg"},{id:2,name:"CSS",path:"/MainPortfolio/assets/logos/css3.svg"},{id:3,name:"Javascript",path:"/MainPortfolio/assets/logos/javascript.svg"}]},{id:2,title:"ConnectX",Languages:"Next.js, Clerk, GetStream, Tailwind CSS",description:"Building a scalable Zoom-style web app using Next.js, supporting secure meeting creation, scheduling, and participation for 50+ concurrent users.",subDescription:["Integrated Clerk authentication with multi-provider login and role-based access, ensuring secure user sessions and data privacy"],href:"https://github.com/IshikaSoni056/Video_Conferencing_App",logo:"",image:"/MainPortfolio/assets/projects/connectx.png",github:"https://github.com/IshikaSoni056/Video_Conferencing_App",tags:[{id:1,name:"Auth0",path:"/MainPortfolio/assets/logos/auth0.svg"},{id:2,name:"React",path:"/MainPortfolio/assets/logos/react.svg"},{id:3,name:"SQLite",path:"/MainPortfolio/assets/logos/sqlite.svg"},{id:4,name:"TailwindCSS",path:"/MainPortfolio/assets/logos/tailwindcss.svg"}]},{id:3,title:"Flappy Bird Game ",Languages:"HTML, CSS, JavaScript, Firebase",description:"Developed a fully responsive Flappy Bird game using HTML5, CSS3, and JavaScript, optimized for desktop and mobile devices with 100% screen compatibility",subDescription:["Implemented real-time score tracking and integrated Firebase Firestore to store and manage player data. Developed logic to automatically update high scores and display the top scorer's name, promoting competition and replayability."],href:"https://ishikasoni056.github.io/FlappyBird/",logo:"",image:"/MainPortfolio/assets/projects/flappybird.png",github:"https://github.com/IshikaSoni056/FlappyBird",tags:[{id:1,name:"HTML",path:"/MainPortfolio/assets/logos/html5.svg"},{id:2,name:"CSS",path:"/MainPortfolio/assets/logos/css3.svg"},{id:3,name:"Javascript",path:"/MainPortfolio/assets/Tech/javascript.png"},{id:4,name:"Firebase",path:"/MainPortfolio/assets/Tech/firebase.png"}]},{id:4,title:"My Portfolio",Languages:"ReactJS, TailwindCSS, Framer Motion",github:"https://github.com/IshikaSoni056/MainPortfolio",description:"Designed and developed a responsive personal portfolio using React.js, showcasing projects, skills, and contact information. Implemented parallax and motion animations using Framer Motion to create an engaging user experience.",subDescription:["Ensured mobile-first design and smooth transitions to enhance accessibility and interactivity across all devices."],href:"https://ishikasoni056.github.io/MainPortfolio/",logo:"",image:"/MainPortfolio/assets/projects/Portfolio.png",tags:[{id:1,name:"ReactJS",path:"/MainPortfolio/assets/Tech/reactjs.png"},{id:2,name:"TailwindCSS",path:"/MainPortfolio/assets/Tech/tailwind.png"},{id:3,name:"Javascript",path:"/MainPortfolio/assets/Tech/javascript.png"}]},{id:5,title:"ImageSlider",Languages:"HTML, CSS, JavaScript",description:" Developed a responsive image slider using vanilla HTML, CSS, and JavaScript to enhance visual storytelling on web pages.",subDescription:["Integrated CSS transitions and JavaScript event listeners for seamless user experience."],href:"https://ishikasoni056.github.io/ImageSlider/",logo:"",image:"/MainPortfolio/assets/projects/imageslider.png",github:"https://github.com/IshikaSoni056/ImageSlider ",tags:[{id:1,name:"HTML",path:"/MainPortfolio/assets/logos/html5.svg"},{id:2,name:"CSS",path:"/MainPortfolio/assets/logos/css3.svg"},{id:3,name:"Javascript",path:"/MainPortfolio/assets/logos/javascript.svg"}]}],QQ=[{name:"WhatsApp",href:"",icon:"/MainPortfolio/assets/socials/whatsApp.svg"},{name:"Linkedin",href:"https://www.linkedin.com/in/ali-sanati/",icon:"/MainPortfolio/assets/socials/linkedIn.svg"},{name:"Instagram",href:"https://www.instagram.com/ali.sanatidev/reels/",icon:"/MainPortfolio/assets/socials/instagram.svg"}],$Q=[{title:"Full Stack Developer Intern",job:"Jobsdoor360",date:"May 2025 - July 2025",contents:["Built and deployed a responsive landing page using HTML, CSS, JavaScript, boosting user engagement by 25%.","Designed and developed a comprehensive Admin Master Panel to monitor and manage user profiles, with full backend integration","Developed and updated the Assessment Section of the site, adding 300+ topic-wise questions and quizzes across multiple subtopics, storing all data in Firebase Firestore.","Developed applications for industrial automation, leveraging C++ and the Fatek API for PLC communicationPerformed end-to-end functionality testing of the website, identifying and resolving 10+ UI/UX bugs to ensure seamless operation across devices.","Additionally, implemented a dedicated Recruiter Hire Page, enabling recruiters to seamlessly post job listings and track applicant submissions in real time."]},{title:"Content Head",job:"Google Developer Student Clubs",date:"2024-2025",contents:["Led the content strategy and execution for all GDSC events, workshops, and campaigns, impacting over 500+ students across campus.","Created and managed technical and non-technical content including Social media posts, Workshop announcements, Event banners & copy, Technical blog posts & recaps","Collaborated with cross-functional teams to ensure content alignment with GDSC's mission and goals, resulting in a 30% increase in event participation."]},{title:"Freelance Developer",job:"Self-Employed",date:"2025-Present",contents:["Created a personal portfolio using Three.js, React, Vite, and WebAPI to showcase technical expertise.","Continuously enhancing technical skills and expanding expertise in modern web development and back-end technologies."]}],JQ=({title:n,Languages:t,description:e,subDescription:i,image:s,tags:r,href:l,closeModal:u})=>nt.jsx("div",{className:"fixed inset-0 z-100 flex items-center justify-center w-full h-full overflow-hidden backdrop-blur-sm",children:nt.jsxs(Di.div,{className:"relative max-w-2xl border shadow-sm rounded-2xl bg-gradient-to-l from-midnight to-navy border-white/10",initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},children:[nt.jsx("button",{onClick:u,className:"absolute p-2 rounded-sm top-5 right-5 bg-midnight hover:bg-gray-500",children:nt.jsx("img",{src:"/MainPortfolio/assets/close.svg",className:"w-6 h-6"})}),nt.jsx("img",{src:s,alt:n,className:"w-full h-96 rounded-t-2xl"}),nt.jsxs("div",{className:"p-5",children:[nt.jsx("h5",{className:"mb-2 text-2xl font-bold text-white",children:n}),nt.jsx("h6",{className:"text-pink-400",children:t}),nt.jsx("p",{className:"mb-3 font-normal text-neutral-400",children:e}),i.map((h,p)=>nt.jsx("p",{className:"mb-3 font-normal text-neutral-400",children:h},p)),nt.jsxs("div",{className:"flex items-center justify-between mt-4",children:[nt.jsx("div",{className:"flex gap-3",children:r.map(h=>nt.jsx("img",{src:h.path,alt:h.name,className:"rounded-lg size-10 hover-animation"},h.id))}),nt.jsxs("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 font-medium cursor-pointer hover-animation",children:["View Project",nt.jsx("img",{src:"/MainPortfolio/assets/arrow-up.svg",className:"size-4"})]})]})]})]})}),t$=()=>{const[n,t]=Z.useState(null),e=Z.useRef(null),i=Z.useRef(null),[s,r]=Z.useState(!1),l=[...eg,...eg,...eg];Z.useEffect(()=>{e.current&&(e.current.scrollLeft=316*eg.length)},[]);const u=()=>{const x=e.current.scrollLeft,_=316*eg.length;x<=_*.1?e.current.scrollLeft+=_:x>=_*2.9&&(e.current.scrollLeft-=_)};Z.useEffect(()=>{let v;const x=()=>{e.current&&!s&&(e.current.scrollLeft+=.8),v=requestAnimationFrame(x)};return v=requestAnimationFrame(x),()=>cancelAnimationFrame(v)},[s]);const h=v=>{if(e.current){const x=v==="left"?-300:300;r(!0),e.current.scrollBy({left:x,behavior:"smooth"}),setTimeout(()=>{r(!1)},800)}},p=Z.useRef(null),m=tO(p,{once:!0,amount:.5});return nt.jsxs("section",{className:"relative section-spacing",children:[nt.jsx(Di.h2,{ref:p,initial:{opacity:0,y:50},animate:m?{opacity:1,y:0}:{opacity:0,y:50},transition:{duration:.6,ease:"easeOut"},className:"text-5xl font-bold leading-tight text-white mb-25",children:"My Selected Projects"}),nt.jsxs("div",{className:"relative",children:[nt.jsx("button",{onClick:()=>h("left"),className:"absolute left-4 top-1/2 -translate-y-1/2 z-10 p-3 rounded-full bg-black/60 hover:bg-white/20 backdrop-blur transition-all duration-300 shadow-md hover:scale-110",children:nt.jsx(WQ,{size:28,className:"text-white"})}),nt.jsx("button",{onClick:()=>h("right"),className:"absolute right-4 top-1/2 -translate-y-1/2 z-10 p-3 rounded-full bg-black/60 hover:bg-white/20 backdrop-blur transition-all duration-300 shadow-md hover:scale-110",children:nt.jsx(KQ,{size:28,className:"text-white"})}),nt.jsx("div",{ref:i,className:"relative",children:nt.jsx("div",{ref:e,onScroll:u,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),className:"flex gap-6 overflow-x-auto pb-4 hide-scrollbar  pt-4 ",children:l.map((v,x)=>nt.jsx(rA,{glareEnable:!1,scale:1.02,tiltMaxAngleX:30,tiltMaxAngleY:30,className:"w-[300px] shrink-0",children:nt.jsxs("div",{onClick:()=>t(v),className:"relative h-full rounded-xl bg-[#13171e] shadow-lg hover:scale-[1.02]  transition-transform duration-300",children:[nt.jsx("img",{src:v.image,alt:v.title,className:"rounded-t-xl h-48 object-cover w-full"}),nt.jsxs("div",{className:"p-4 text-white",children:[nt.jsx("h3",{className:"text-xl font-semibold mb-2",children:v.title}),nt.jsx("h5",{className:"text-pink-500",children:v.Languages}),nt.jsxs("p",{className:"text-sm text-neutral-400",children:[v.description.slice(0,60),"..."]}),nt.jsxs("div",{className:"mt-3 flex justify-between items-center",children:[nt.jsx("a",{href:v.href,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-medium text-blue-400 hover:underline",children:"Live"}),nt.jsx("a",{href:v.github,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-medium text-green-400 hover:underline",children:"GitHub"})]})]})]})},`${v.id}-${x}`))})})]}),n&&nt.jsx(JQ,{...n,closeModal:()=>t(null)})]})},e$=({data:n})=>{const t=Z.useRef(null),e=Z.useRef(null),[i,s]=Z.useState(0);Z.useEffect(()=>{if(t.current){const h=t.current.getBoundingClientRect();s(h.height)}},[]);const{scrollYProgress:r}=$U({target:e,offset:["start 10%","end 50%"]}),l=vu(r,[0,1],[0,i]),u=vu(r,[0,.1],[0,1]);return nt.jsxs("div",{className:"c-space section-spacing",ref:e,children:[nt.jsx(Di.h2,{initial:{opacity:0,y:-20},whileInView:{opacity:1,y:0},transition:{duration:.6},className:"text-5xl font-bold leading-tight text-white ",children:"My Work Experience"}),nt.jsxs("div",{ref:t,className:"relative pb-20",children:[n.map((h,p)=>nt.jsxs(Di.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:p*.1},viewport:{once:!1,amount:.3},className:"flex justify-start pt-10 md:pt-40 md:gap-10",children:[nt.jsxs("div",{className:"sticky z-40 flex flex-col items-center self-start max-w-xs md:flex-row top-40 lg:max-w-sm md:w-full",children:[nt.jsx("div",{className:"absolute flex items-center justify-center w-10 h-10 rounded-full -left-[15px] bg-midnight",children:nt.jsx("div",{className:"w-4 h-4 p-2 border rounded-full bg-neutral-800 border-neutral-700"})}),nt.jsxs("div",{className:"flex-col hidden gap-2 text-xl font-bold md:flex md:pl-20 md:text-4xl text-neutral-300",children:[nt.jsx("h3",{children:h.date}),nt.jsx("h3",{className:"text-3xl text-neutral-400",children:h.title}),nt.jsx("h3",{className:"text-3xl text-neutral-500",children:h.job})]})]}),nt.jsxs("div",{className:"relative w-full pl-20 pr-4 md:pl-4",children:[nt.jsxs("div",{className:"block mb-4 text-2xl font-bold text-left text-neutral-300 md:hidden",children:[nt.jsx("h3",{children:h.date}),nt.jsx("h3",{children:h.job})]}),h.contents.map((m,v)=>nt.jsx(Di.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.4,delay:v*.05},viewport:{once:!1,amount:.2},className:"mb-3 font-normal text-neutral-400",children:m},v))]})]},p)),nt.jsx("div",{style:{height:i+"px"},className:"absolute md:left-1 left-1 top-0 overflow-hidden w-[2px] bg-[linear-gradient(to_bottom,var(--tw-gradient-stops))] from-transparent from-[0%] via-neutral-700 to-transparent to-[99%] [mask-image:linear-gradient(to_bottom,transparent_0%,black_10%,black_90%,transparent_100%)]",children:nt.jsx(Di.div,{style:{height:l,opacity:u},className:"absolute inset-x-0 top-0 w-[2px] bg-gradient-to-t from-purple-500 via-lavender/50 to-transparent from-[0%] via-[10%] rounded-full"})})]})]})},n$=()=>{const[n,t]=Z.useState(!1),[e,i]=Z.useState({x:0,y:0}),s=g_(0),r=g_(0),l=AM(s,{stiffness:100,damping:20}),u=AM(r,{stiffness:100,damping:20});return Z.useEffect(()=>{const h=v=>{i({x:v.clientX,y:v.clientY}),s.set(v.clientX),r.set(v.clientY)},p=()=>t(!0),m=()=>t(!1);return window.addEventListener("mousemove",h),window.addEventListener("mousedown",p),window.addEventListener("mouseup",m),()=>{window.removeEventListener("mousemove",h),window.removeEventListener("mousedown",p),window.removeEventListener("mouseup",m)}},[]),nt.jsxs(nt.Fragment,{children:[nt.jsx(Di.div,{className:"fixed top-0 left-0 w-3 h-3 bg-white rounded-full pointer-events-none z-[9999] mix-blend-difference",style:{translateX:s,translateY:r}}),nt.jsx(Di.div,{className:"fixed top-0 left-0 w-8 h-8 bg-white/10 border border-white/20 rounded-full backdrop-blur-sm pointer-events-none z-[9998] mix-blend-difference shadow-[0_0_20px_rgba(255,255,255,0.3)]",style:{translateX:l,translateY:u,scale:n?.7:1},transition:{type:"spring",stiffness:300,damping:30}})]})},i$=()=>nt.jsxs("div",{className:"w-full",children:[nt.jsx(n$,{}),nt.jsx(e$,{data:$Q})]});class C0{constructor(t=0,e="Network Error"){this.status=t,this.text=e}}const s$=()=>{if(!(typeof localStorage>"u"))return{get:n=>Promise.resolve(localStorage.getItem(n)),set:(n,t)=>Promise.resolve(localStorage.setItem(n,t)),remove:n=>Promise.resolve(localStorage.removeItem(n))}},Rs={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:s$()},oA=n=>n?typeof n=="string"?{publicKey:n}:n.toString()==="[object Object]"?n:{}:{},a$=(n,t="https://api.emailjs.com")=>{if(!n)return;const e=oA(n);Rs.publicKey=e.publicKey,Rs.blockHeadless=e.blockHeadless,Rs.storageProvider=e.storageProvider,Rs.blockList=e.blockList,Rs.limitRate=e.limitRate,Rs.origin=e.origin||t},XP=async(n,t,e={})=>{const i=await fetch(Rs.origin+n,{method:"POST",headers:e,body:t}),s=await i.text(),r=new C0(i.status,s);if(i.ok)return r;throw r},qP=(n,t,e)=>{if(!n||typeof n!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!e||typeof e!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},r$=n=>{if(n&&n.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},YP=n=>n.webdriver||!n.languages||n.languages.length===0,WP=()=>new C0(451,"Unavailable For Headless Browser"),o$=(n,t)=>{if(!Array.isArray(n))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},l$=n=>{var t;return!((t=n.list)!=null&&t.length)||!n.watchVariable},c$=(n,t)=>n instanceof FormData?n.get(t):n[t],ZP=(n,t)=>{if(l$(n))return!1;o$(n.list,n.watchVariable);const e=c$(t,n.watchVariable);return typeof e!="string"?!1:n.list.includes(e)},KP=()=>new C0(403,"Forbidden"),u$=(n,t)=>{if(typeof n!="number"||n<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},f$=async(n,t,e)=>{const i=Number(await e.get(n)||0);return t-Date.now()+i},QP=async(n,t,e)=>{if(!t.throttle||!e)return!1;u$(t.throttle,t.id);const i=t.id||n;return await f$(i,t.throttle,e)>0?!0:(await e.set(i,Date.now().toString()),!1)},$P=()=>new C0(429,"Too Many Requests"),h$=async(n,t,e,i)=>{const s=oA(i),r=s.publicKey||Rs.publicKey,l=s.blockHeadless||Rs.blockHeadless,u=s.storageProvider||Rs.storageProvider,h={...Rs.blockList,...s.blockList},p={...Rs.limitRate,...s.limitRate};return l&&YP(navigator)?Promise.reject(WP()):(qP(r,n,t),r$(e),e&&ZP(h,e)?Promise.reject(KP()):await QP(location.pathname,p,u)?Promise.reject($P()):XP("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:r,service_id:n,template_id:t,template_params:e}),{"Content-type":"application/json"}))},d$=n=>{if(!n||n.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},p$=n=>typeof n=="string"?document.querySelector(n):n,m$=async(n,t,e,i)=>{const s=oA(i),r=s.publicKey||Rs.publicKey,l=s.blockHeadless||Rs.blockHeadless,u=Rs.storageProvider||s.storageProvider,h={...Rs.blockList,...s.blockList},p={...Rs.limitRate,...s.limitRate};if(l&&YP(navigator))return Promise.reject(WP());const m=p$(e);qP(r,n,t),d$(m);const v=new FormData(m);return ZP(h,v)?Promise.reject(KP()):await QP(location.pathname,p,u)?Promise.reject($P()):(v.append("lib_version","4.4.1"),v.append("service_id",n),v.append("template_id",t),v.append("user_id",r),XP("/api/v1.0/email/send-form",v))},g$={init:a$,send:h$,sendForm:m$,EmailJSResponseStatus:C0},v$=({type:n,text:t})=>{const e={hidden:{opacity:0,y:50,scale:.8},visible:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-50,scale:.8}};return nt.jsx(pq,{children:nt.jsx(Qd.div,{className:"fixed z-50 flex items-center justify-center bottom-5 right-5",initial:"hidden",animate:"visible",exit:"exit",variants:e,transition:{duration:.3,ease:"easeInOut"},children:nt.jsxs("div",{className:`p-2 ${n==="danger"?"bg-red-800":"bg-royal"} items-center text-indigo-100 leading-none lg:rounded-full flex lg:inline-flex rounded-md p-5`,children:[nt.jsx("p",{className:`flex rounded-full ${n==="danger"?"bg-red-500":"bg-lavender"} uppercase px-2 py-1 text-xs font-semibold mr-3`,children:n==="danger"?"Failed":"Success"}),nt.jsx("p",{className:"mr-2 text-left",children:t})]})})})},y$=()=>{const[n,t]=Z.useState({name:"",email:"",message:""}),[e,i]=Z.useState(!1),[s,r]=Z.useState(!1),[l,u]=Z.useState("success"),[h,p]=Z.useState(""),m=_=>{t({...n,[_.target.name]:_.target.value})},v=(_,T)=>{u(_),p(T),r(!0),setTimeout(()=>{r(!1)},5e3)},x=async _=>{_.preventDefault(),i(!0);try{console.log("From submitted:",n),await g$.send("service_f14qqdp","template_6o775mp",{from_name:n.name,to_name:"Ishika Soni",from_email:n.email,to_email:"soniishika145@gmail.com",message:n.message},"VgRw4TEipdr-Dh_GG"),i(!1),t({name:"",email:"",message:""}),v("success","You message has been sent!")}catch(T){i(!1),console.log(T),v("danger","Somthing went wrong!")}};return nt.jsxs("section",{className:"relative flex items-center c-space section-spacing",children:[nt.jsx(PQ,{className:"absolute inset-0 -z-50",quantity:100,ease:80,color:"#ffffff",refresh:!0}),s&&nt.jsx(v$,{type:l,text:h}),nt.jsxs("div",{className:"flex flex-col items-center justify-center max-w-md p-5 mx-auto border border-white/10 rounded-2xl bg-primary",children:[nt.jsxs("div",{className:"flex flex-col items-start w-full gap-5 mb-10",children:[nt.jsx("h2",{className:"text-heading",children:"Let's Talk"}),nt.jsx("p",{className:"font-normal text-neutral-400",children:"Whether you're looking to build a new website, improve your existing platform, or bring a unique project to life, I'm here to help"})]}),nt.jsxs("form",{className:"w-full",onSubmit:x,children:[nt.jsxs("div",{className:"mb-5",children:[nt.jsx("label",{htmlFor:"name",className:"feild-label",children:"Full Name"}),nt.jsx("input",{id:"name",name:"name",type:"text",className:"field-input field-input-focus",placeholder:"Ishika Soni",autoComplete:"name",value:n.name,onChange:m,required:!0})]}),nt.jsxs("div",{className:"mb-5",children:[nt.jsx("label",{htmlFor:"email",className:"feild-label",children:"Email"}),nt.jsx("input",{id:"email",name:"email",type:"email",className:"field-input field-input-focus",placeholder:"soniishika145@email.com",autoComplete:"email",value:n.email,onChange:m,required:!0})]}),nt.jsxs("div",{className:"mb-5",children:[nt.jsx("label",{htmlFor:"message",className:"feild-label",children:"Message"}),nt.jsx("textarea",{id:"message",name:"message",type:"text",rows:"4",className:"field-input field-input-focus",placeholder:"Share your thoughts...",autoComplete:"message",value:n.message,onChange:m,required:!0})]}),nt.jsx("button",{type:"submit",className:"w-full px-1 py-3 text-lg text-center rounded-md cursor-pointer bg-radial from-lavender to-royal hover-animation",children:e?"Sending...":"Send"})]})]})]})},x$=()=>nt.jsxs("section",{className:"flex flex-wrap items-center justify-between gap-5 pb-3 text-sm text-neutral-400 c-space",children:[nt.jsx("div",{className:"mb-4 bg-gradient-to-r from-transparent via-neutral-700 to-transparent h-[1px] w-full"}),nt.jsxs("div",{className:"flex gap-2",children:[nt.jsx("p",{children:"Terms & Conditions"}),nt.jsx("p",{children:"|"}),nt.jsx("p",{children:"Privacy Policy"})]}),nt.jsx("div",{className:"flex gap-3",children:QQ.map((n,t)=>nt.jsx("a",{href:n.href,children:nt.jsx("img",{src:n.icon,className:"w-5 h-5",alt:n.name})},t))}),nt.jsx("p",{children:"© 2025 Ali. All rights reserved."})]});function KD(){return nt.jsxs("ul",{className:"nav-ul",children:[nt.jsx("li",{className:"nav-li",children:nt.jsx("a",{className:"nav-link",href:"#home",children:"Home"})}),nt.jsx("li",{className:"nav-li",children:nt.jsx("a",{className:"nav-link",href:"#about",children:"About"})}),nt.jsx("li",{className:"nav-li",children:nt.jsx("a",{className:"nav-link",href:"#work",children:"Work"})}),nt.jsx("li",{className:"nav-li",children:nt.jsx("a",{className:"nav-link",href:"#contact",children:"Contact"})})]})}const _$=()=>{const[n,t]=Z.useState(!1);return nt.jsxs("div",{className:"fixed inset-x-0  w-full backdrop-blur-lg bg-primary/40 z-60",children:[nt.jsx("div",{className:"mx-auto c-space max-w-7xl",children:nt.jsxs("div",{className:"flex items-center justify-between py-2 sm:py-0",children:[nt.jsxs("div",{className:"flex items-center",children:[nt.jsx("img",{src:"/MainPortfolio/assets/ISlogo1.png",className:"w-15 h-17 sm:w-15 sm:h-17 pt-3 pb-2",alt:"logo"}),nt.jsx("a",{href:"/",className:"text-2xl font-bold transition-colors text-neutral-400 hover:text-white py-2 sm:py-2 ",children:"Ishika"})]}),nt.jsx("button",{onClick:()=>t(!n),className:"flex cursor-pointer text-neutral-400 hover:text-white focus:outline-none sm:hidden",children:nt.jsx("img",{src:n?"/MainPortfolio/assets/close.svg":"/MainPortfolio/assets/menu.svg",className:"w-6 h-6",alt:"toggle"})}),nt.jsx("nav",{className:"hidden sm:flex",children:nt.jsx(KD,{})})]})}),n&&nt.jsx(Qd.div,{className:"block overflow-hidden text-center sm:hidden",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},style:{maxHeight:"100vh"},transition:{duration:1},children:nt.jsx("nav",{className:"pb-5",children:nt.jsx(KD,{})})})]})};var WM=new Map,ox=new WeakMap,QD=0,S$=void 0;function b$(n){return n?(ox.has(n)||(QD+=1,ox.set(n,QD.toString())),ox.get(n)):"0"}function M$(n){return Object.keys(n).sort().filter(t=>n[t]!==void 0).map(t=>`${t}_${t==="root"?b$(n.root):n[t]}`).toString()}function T$(n){const t=M$(n);let e=WM.get(t);if(!e){const i=new Map;let s;const r=new IntersectionObserver(l=>{l.forEach(u=>{var h;const p=u.isIntersecting&&s.some(m=>u.intersectionRatio>=m);n.trackVisibility&&typeof u.isVisible>"u"&&(u.isVisible=p),(h=i.get(u.target))==null||h.forEach(m=>{m(p,u)})})},n);s=r.thresholds||(Array.isArray(n.threshold)?n.threshold:[n.threshold||0]),e={id:t,observer:r,elements:i},WM.set(t,e)}return e}function E$(n,t,e={},i=S$){if(typeof window.IntersectionObserver>"u"&&i!==void 0){const h=n.getBoundingClientRect();return t(i,{isIntersecting:i,target:n,intersectionRatio:typeof e.threshold=="number"?e.threshold:0,time:0,boundingClientRect:h,intersectionRect:h,rootBounds:h}),()=>{}}const{id:s,observer:r,elements:l}=T$(e),u=l.get(n)||[];return l.has(n)||l.set(n,u),u.push(t),r.observe(n),function(){u.splice(u.indexOf(t),1),u.length===0&&(l.delete(n),r.unobserve(n)),l.size===0&&(r.disconnect(),WM.delete(s))}}function A$({threshold:n,delay:t,trackVisibility:e,rootMargin:i,root:s,triggerOnce:r,skip:l,initialInView:u,fallbackInView:h,onChange:p}={}){var m;const[v,x]=Z.useState(null),_=Z.useRef(p),[T,C]=Z.useState({inView:!!u,entry:void 0});_.current=p,Z.useEffect(()=>{if(l||!v)return;let D;return D=E$(v,(L,z)=>{C({inView:L,entry:z}),_.current&&_.current(L,z),z.isIntersecting&&r&&D&&(D(),D=void 0)},{root:s,rootMargin:i,threshold:n,trackVisibility:e,delay:t},h),()=>{D&&D()}},[Array.isArray(n)?n.toString():n,v,s,i,r,l,e,h,t]);const E=(m=T.entry)==null?void 0:m.target,M=Z.useRef(void 0);!v&&E&&!r&&!l&&M.current!==E&&(M.current=E,C({inView:!!u,entry:void 0}));const R=[x,T.inView,T.entry];return R.ref=R[0],R.inView=R[1],R.entry=R[2],R}const w$=[{name:"HTML",icon:"html.png"},{name:"CSS",icon:"css.png"},{name:"JavaScript",icon:"javascript.png"},{name:"React",icon:"reactjs.png"},{name:"Tailwind",icon:"tailwind.png"},{name:"Bootstrap",icon:"bootstrap.png"},{name:"Next.js",icon:"nextjs.png"},{name:"Yarn",icon:"yarn.webp"},{name:"TypeScript",icon:"typescript.png"},{name:"Node.js",icon:"nodejs.png"},{name:"npm",icon:"npm.png"},{name:"Express.js",icon:"expressjs.png"},{name:"MongoDB",icon:"mongodb.png"},{name:"VS Code",icon:"vscode.png"},{name:"Redux",icon:"redux.png"},{name:"Firebase",icon:"firebase.png"},{name:"Git",icon:"git.png"},{name:"GitHub",icon:"github.png"},{name:"Vercel",icon:"vercel.png"},{name:"Canva",icon:"canva.png"}],C$={hidden:{},visible:{transition:{staggerChildren:.1}}},R$={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},D$=()=>{const[n,t]=A$({triggerOnce:!0,threshold:.1});return nt.jsxs("section",{ref:n,className:"min-h-screen w-full bg-[#13171e] border-2  border-white/40 rounded-2xl text-white px-8 py-24 mt-16 flex flex-col items-center justify-center",children:[nt.jsx(Di.h1,{initial:{opacity:0,y:-30},animate:t?{opacity:1,y:0}:{},transition:{duration:.6},className:"text-4xl md:text-6xl font-bold mb-8 text-center",children:"Technologies"}),nt.jsx(Di.p,{initial:{opacity:0},animate:t?{opacity:1}:{},transition:{delay:.4,duration:.6},className:"text-lg text-gray-400 mb-12 text-center max-w-2xl",children:"Here are some of the technologies that I know"}),nt.jsx(Di.div,{className:"grid grid-cols-3 sm:grid-cols-5 md:grid-cols-5 lg:grid-cols-8 gap-6 max-w-7xl w-full justify-items-center",variants:C$,initial:"hidden",animate:t?"visible":"hidden",children:w$.map((e,i)=>nt.jsxs(Di.div,{variants:R$,whileHover:{scale:1.2},className:"relative flex flex-col items-center justify-center w-24 h-24 group",children:[nt.jsx("div",{className:"absolute w-20 h-20 rounded-full animate-glow z-0 group-hover:scale-110 transition-transform duration-300"}),nt.jsx("img",{src:`/MainPortfolio/assets/Tech/${e.icon}`,alt:e.name,className:"w-18 h-18 object-contain z-10"}),nt.jsx("span",{className:"absolute top-full mt-1 text-xs text-gray-300 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:e.name})]},i))})]})},N$=()=>nt.jsxs("div",{className:"container mx-auto max-w-7xl ",children:[nt.jsx(_$,{}),nt.jsx(BQ,{}),nt.jsx(HQ,{}),nt.jsx(i$,{}),nt.jsx(D$,{}),nt.jsx(t$,{}),nt.jsx(y$,{}),nt.jsx(x$,{})]});$D.createRoot(document.getElementById("root")).render(nt.jsx(Z.StrictMode,{children:nt.jsx(N$,{})}));
